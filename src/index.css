:root {
    --zr-accent-1-hsl: 223, 100%, 44%;
    --zr-accent-2-hsl: 18, 63%, 39%;
    --zr-negative-hsl: 0, 92%, 41%;
    --zr-positive-hsl: 155, 58%, 27%;
    --zr-accent-1: hsla(var(--zr-accent-1-hsl), 100%);
    --zr-accent-2: hsla(var(--zr-accent-2-hsl), 100%);
    --zr-negative-co: hsla(var(--zr-negative-hsl), 100%);
    --zr-positive-co: hsla(var(--zr-positive-hsl), 100%);
    --zr-auxiliary: #5c7080;
    --zr-border-co: #ececec;
    --zr-box-bg: #f8f8f8;
    --zr-box-shadow-co: #d7dced4d;
    --zr-dialog-bg: #ffffff;
    --zr-input-size: 240px;
    --zr-minimal-bg: #cad1df26;
    --zr-negative-bg: #fff1f2;
    --zr-positive-bg: #45d29826;
    --zr-secondary-co: #696969;
    --zr-secondary-fw: 300;
    --zr-shortcut-co: inherit;
    --zr-text-co: inherit;
    --zr-text-small: 0.85rem;
}

[zr-dark-theme="true"] {
    --zr-accent-1-hsl: 202, 100%, 62%;
    --zr-accent-2-hsl: 30, 70%, 51%;
    --zr-negative-hsl: 0, 85%, 69%;
    --zr-positive-hsl: 120, 86%, 75%;
    --zr-accent-1: hsla(var(--zr-accent-1-hsl), 100%);
    --zr-accent-2: hsla(var(--zr-accent-2-hsl), 100%);
    --zr-negative-co: hsla(var(--zr-negative-hsl), 100%);
    --zr-positive-co: hsla(var(--zr-positive-hsl), 100%);
    --zr-auxiliary: #95a8b7;
    --zr-border-co: #2f3133;
    --zr-box-bg: #191919;
    --zr-box-shadow-co: #0b0b0c4d;
    --zr-dialog-bg: #1f1f1f;
    --zr-negative-bg: #332828;
    --zr-positive-bg: #5863582e;
    --zr-secondary-co: #8ba4bd;
    --zr-secondary-fw: 400;
    --zr-shortcut-co: #9b9b9b;
    --zr-text-co: #76a0cb;
}

/* Infrastructure */

.roam-log-page {
    position: relative;
    /* Required to adequately position contextual buttons */
}

#zotero-roam-portal .bp4-overlay-backdrop {
    opacity: 0.4;
}

#zotero-roam-portal>.bp4-overlay>.bp4-dialog-container {
    justify-content: flex-start;
}

/*  Variables Theming */

.zr-accent-1 {
    color: var(--zr-accent-1);
}

.zr-accent-2 {
    color: var(--zr-accent-2);
}

.zr-accent-1,
.zr-accent-2 {
    padding-right: 8px;
}

.zr-auxiliary,
button.bp4-button.zr-auxiliary:not(.bp4-disabled) {
    color: var(--zr-auxiliary);
}

[class*="zr"] li[aria-selected="true"],
[class*="zr"] li [aria-selected="true"],
[class*="zr"] li[aria-selected="false"]:hover,
[class*="zr"] li [aria-selected="false"]:hover,
[class*="zr"] .bp4-menu-item.bp4-selected,
[class*="zr"] .bp4-menu-item.bp4-selected:hover,
[class*="zr"] .bp4-menu-item.bp4-selected:active {
    background: hsla(var(--zr-accent-1-hsl), 8%);
    color: inherit;
}

.zr-secondary,
button.bp4-button.zr-secondary:not(.bp4-disabled) {
    color: var(--zr-secondary-co);
    font-weight: var(--zr-secondary-fw);
}

.zr-text-small,
.zr-text-small select,
.zr-text-small button,
.zr-text-small input[type="text"],
.zr-text-small input.bp4-input-ghost,
.zr-text-small .bp4-button-text {
    font-size: var(--zr-text-small);
}

.zr-text-small .bp4-icon:not(.bp4-tag-input-icon) {
    margin-top: 1px;
    margin-left: 0px;
}

/* Blueprint Inputs */

[class*="zr"] .bp4-input:focus,
[class*="zr"] .bp4-input.bp4-active,
[class*="zr"] .bp4-input-group[class*="bp4-intent-"] .bp4-input:focus,
[class*="zr"] .bp4-numeric-input input.bp4-input {
    box-shadow: none;
}

.zr-text-input,
.zr-text-input input,
.zr-date-input,
.zr-date-input input,
.zr-date-range-input input,
[class*="zr"] .bp4-multi-select,
[class*="zr"] .bp4-multi-select input {
    max-width: var(--zr-input-size);
}

[class*="zr"] .bp4-multi-select input.bp4-input-ghost.bp4-multi-select-tag-input-input::placeholder {
    opacity: 0.8;
}

[class*="zr"] input.bp4-multi-select-tag-input-input,
.zr-date-range-input {
    max-width: calc(2 * var(--zr-input-size));
}

[class*="zr"] .bp4-numeric-input input.bp4-input {
    max-width: calc(0.20 * var(--zr-input-size));
}

[class*="zr"] .bp4-numeric-input .bp4-button:not([class*=bp4-intent-]) {
    background: var(--zr-dialog-bg);
    box-shadow: none;
}

[class*="zr"] .bp4-multi-select input {
    color: var(--zr-text-co);
}

.zr-text-input input:not(.bp4-input-ghost),
.zr-date-input input,
.zr-date-range-input input,
[class*="zr"] .bp4-multi-select.bp4-input,
[class*="zr"] .bp4-numeric-input input.bp4-input {
    background: var(--zr-dialog-bg);
    box-shadow: none;
    color: var(--zr-text-co);
    outline: 1px var(--zr-border-co) solid;
}

[class*="zr"] .bp4-input-group .bp4-input-left-container button.bp4-button {
    margin-left: 0px;
    margin-right: 0px;
}

.zr-date-input .bp4-input-group.bp4-intent-danger input,
.zr-date-input .bp4-input-group.bp4-intent-danger .bp4-input-action .bp4-icon,
.zr-date-range-input .bp4-input-group.bp4-intent-danger input {
    color: var(--zr-negative-co);
}

.zr-date-input .bp4-input-group.bp4-intent-danger input,
.zr-date-range-input .bp4-input-group.bp4-intent-danger input {
    box-shadow: none;
    outline: 1px var(--zr-negative-co) solid;
}

.zr-text-input .bp4-input-action>span.bp4-icon,
.zr-date-input .bp4-input-group .bp4-input-action>span.bp4-icon {
    color: var(--zr-auxiliary);
    margin: 7px;
}

.zr-date-picker .bp4-datepicker .DayPicker-Day.DayPicker-Day--selected {
    background: hsla(var(--zr-accent-1-hsl), 90%);
}

.zr-date-picker .bp4-daterangepicker .DayPicker-Day--selected-range {
    background: hsla(var(--zr-accent-1-hsl), 10%);
    color: hsla(var(--zr-accent-1-hsl), 80%);
}

/* Blueprint Elements */

[class*="zr"] .bp4-menu-item.bp4-disabled>[class*="bp4-text"],
[class*="zr"] .bp4-menu-item.bp4-disabled .bp4-icon {
    color: var(--zr-auxiliary);
}

[class*="zr"] .bp4-menu-item .bp4-menu-item-label {
    color: var(--zr-secondary-co);
}

[class*="zr"] .bp4-callout {
    background: var(--zr-box-bg);
    border: 1px var(--zr-border-co) solid;
    color: var(--zr-text-co);
    margin: 10px;
    width: auto;
}

[class*="zr"] .bp4-callout[class*="bp4-intent"] {
    background: var(--zr-bg-tone);
}

[class*="zr"] .bp4-callout.bp4-intent-warning {
    --zr-bg-tone: hsla(var(--zr-accent-2-hsl), 10%);
    --zr-co-tone: hsla(var(--zr-accent-2-hsl), 100%);
}

[class*="zr"] .bp4-callout.bp4-intent-danger {
    --zr-bg-tone: var(--zr-negative-bg);
    --zr-co-tone: var(--zr-negative-co);
}

[class*="zr"] .bp4-callout[class*="bp4-intent"],
[class*="zr"] .bp4-callout[class*="bp4-intent"][class*=bp4-icon-]::before,
[class*="zr"] .bp4-callout[class*="bp4-intent"]>.bp4-icon:first-child,
[class*="zr"] .bp4-callout[class*="bp4-intent"] .bp4-heading,
[class*="zr"] .bp4-button.bp4-outlined[class*="bp4-intent"] {
    color: var(--zr-co-tone);
}

[class*="zr"] a:focus {
    color: var(--zr-text-co);
    text-decoration: none;
}

[class*="zr"] .bp4-button.bp4-minimal:hover {
    background: var(--zr-box-bg);
    color: var(--zr-text-co);
}

[class*="zr"] .bp4-button.bp4-outlined {
    border-color: var(--zr-auxiliary);
}

[class*="zr"] .bp4-button.bp4-outlined:hover {
    color: var(--zr-text-co);
}

[class*="zr"] a.bp4-button:not(.bp4-menu-item) {
    height: fit-content;
}

[class*="zr"] a:not(.bp4-menu-item),
[class*="zr"] .bp4-button.bp4-minimal.bp4-intent-primary,
[class*="zr"] .bp4-button.bp4-outlined.bp4-intent-primary,
[class*="zr"] .bp4-button.bp4-minimal.bp4-intent-primary:hover,
[class*="zr"] .bp4-button-group.bp4-minimal button.bp4-intent-primary {
    --zr-base-tone: var(--zr-accent-1-hsl);
    color: hsla(var(--zr-accent-1-hsl), 95%);
}

[class*="zr"] .bp4-button.bp4-minimal.bp4-intent-warning,
[class*="zr"] .bp4-button.bp4-outlined.bp4-intent-warning,
[class*="zr"] .bp4-button.bp4-minimal.bp4-intent-warning:hover,
[class*="zr"] .bp4-button-group.bp4-minimal button.bp4-intent-warning {
    --zr-base-tone: var(--zr-accent-2-hsl);
    color: hsla(var(--zr-accent-2-hsl), 95%);
}

[class*="zr"] .bp4-button.bp4-minimal.bp4-intent-success,
[class*="zr"] .bp4-button.bp4-outlined.bp4-intent-success,
[class*="zr"] .bp4-button.bp4-minimal.bp4-intent-success:hover,
[class*="zr"] .bp4-button-group.bp4-minimal button.bp4-intent-success {
    --zr-base-tone: var(--zr-positive-hsl);
    color: hsla(var(--zr-positive-hsl), 95%);
}

[class*="zr"] .bp4-button.bp4-minimal.bp4-intent-danger,
[class*="zr"] .bp4-button.bp4-outlined.bp4-intent-danger,
[class*="zr"] .bp4-button.bp4-minimal.bp4-intent-danger:hover,
[class*="zr"] .bp4-button-group.bp4-minimal button.bp4-intent-danger {
    --zr-base-tone: var(--zr-negative-hsl);
    color: hsla(var(--zr-negative-hsl), 95%);
}

[class*="zr"] .bp4-button.bp4-minimal[class*="bp4-intent-"]:hover {
    background: hsla(var(--zr-base-tone), 10%);
}

[class*="zr"] .bp4-button[class*="bp4-intent-"]:not(.bp4-disabled) {
    border-color: hsla(var(--zr-base-tone), 20%);
}

[class*="zr"] .bp4-button.bp4-minimal.bp4-active[class*="bp4-intent-"],
[class*="zr"] .bp4-button-group.bp4-minimal button[class*="bp4-intent-"]:not(.bp4-disabled):not(.bp4-outlined):hover {
    background-color: hsla(var(--zr-base-tone), 5%);
    color: hsla(var(--zr-base-tone), 97%);
}

[class*="zr"] a:not(.bp4-menu-item) .bp4-icon {
    color: hsla(var(--zr-accent-1-hsl), 75%);
}

[class*="zr"] a:not(.bp4-menu-item):hover {
    color: hsla(var(--zr-accent-1-hsl), 85%);
    text-decoration: none;
}

[class*="zr"] .bp4-tag.bp4-minimal:not([class*="bp4-intent-"]) {
    background: var(--zr-minimal-bg);
    color: var(--zr-auxiliary);
}

[class^="zr"] .bp4-non-ideal-state {
    padding: 25px 0px;
}

[class*="zr"] .bp4-menu-header .bp4-heading,
[class*="zr"] .bp4-non-ideal-state h4.bp4-heading {
    color: var(--zr-text-co);
}

[class*="zr"] code.bp4-code {
    background: var(--zr-box-bg);
    border: 2px var(--zr-border-co) solid;
}

[class*="zr"] .bp4-code-block {
    background: var(--zr-dialog-bg);
    border: 1px var(--zr-border-co) solid;
    color: var(--zr-auxiliary);
    white-space: pre-wrap;
}

[class*="zr"] .bp4-progress-bar.bp4-intent-primary .bp4-progress-meter {
    background-color: var(--zr-accent-1);
}

[class*="zr"] .bp4-progress-bar.bp4-intent-warning .bp4-progress-meter {
    background-color: var(--zr-accent-2);
}

[class*="zr"] .bp4-html-select select {
    color: var(--zr-auxiliary);
}

[class*="zr"] .bp4-slider-track .bp4-slider-progress.bp4-intent-primary {
    background-color: hsla(var(--zr-accent-1-hsl), 20%);
}

[class*="zr"] .bp4-slider-track .bp4-slider-progress:not(.bp4-intent-primary) {
    background-color: var(--zr-box-bg);
}

[class*="zr"] .bp4-slider-handle {
    background: hsla(var(--zr-accent-1-hsl), 65%);
    border-radius: 10px;
    box-shadow: none;
}

[class*="zr"] .bp4-slider-handle .bp4-slider-label {
    background: var(--zr-box-bg);
    border: 1px var(--zr-border-co) solid;
    box-shadow: none;
    color: var(--zr-text-co);
    width: max-content;
}

[class*="zr"] .bp4-control.bp4-switch input:checked~.bp4-control-indicator,
[class*="zr"] .bp4-control.bp4-checkbox input:checked~.bp4-control-indicator {
    background-color: hsla(var(--zr-accent-1-hsl), 70%);
}

[class*="zr"] .bp4-control.bp4-switch .bp4-control-indicator::before {
    background: var(--zr-dialog-bg);
    box-shadow: none;
}

[class*="zr"] .bp4-control.bp4-checkbox input:checked~.bp4-control-indicator {
    box-shadow: none;
}

[class*="zr"] .bp4-control.bp4-radio {
    color: var(--zr-text-co);
    font-weight: 400;
}

[class*="zr"] .bp4-control.bp4-radio input~.bp4-control-indicator {
    box-shadow: none;
}

[class*="zr"] .bp4-control.bp4-radio input:checked~.bp4-control-indicator {
    background-color: hsla(var(--zr-accent-1-hsl), 75%);
}

[class*="zr"] .bp4-control.bp4-radio input:not(:checked)~.bp4-control-indicator {
    background-color: hsla(var(--zr-accent-1-hsl), 10%);
    background-image: none;
}

[class*="zr"] .bp4-tag.bp4-minimal.bp4-intent-primary {
    background: hsla(var(--zr-accent-1-hsl), 10%);
    color: var(--zr-accent-1);
}

[class*="zr"] .bp4-tag.bp4-minimal.bp4-intent-warning {
    background: hsla(var(--zr-accent-2-hsl), 15%);
    color: var(--zr-accent-2);
}

[class*="zr"] .bp4-tag.bp4-minimal.bp4-intent-success {
    background-color: var(--zr-positive-bg);
    color: var(--zr-positive-co);
}

/* Popovers & Menus */

.zr-popover:not(.zr-date-picker) {
    max-width: 300px;
}

.zr-popover.bp4-popover2 .bp4-popover2-content,
.zr-popover.bp4-popover .bp4-popover-content,
.zr-popover .bp4-menu,
.zr-popover .bp4-datepicker,
[class*="zr"] .bp4-menu,
[zr-role] .bp4-menu {
    background: var(--zr-box-bg);
    color: var(--zr-text-co);
}

.zr-popover.bp4-popover2 .bp4-popover2-arrow-fill {
    fill: var(--zr-box-bg);
}

.zr-popover .bp4-menu-item:hover {
    background: var(--zr-dialog-bg);
    color: var(--zr-text-co);
}

[class*="zr-drawer--"].bp4-drawer {
    background-color: var(--zr-dialog-bg);
    color: var(--zr-text-co);
}

[class*="zr-drawer--"].bp4-drawer>.bp4-tabs>.bp4-tab-list {
    margin-left: 20px;
}

[class*="zr-drawer--"].bp4-drawer .bp4-tab-panel {
    margin-top: 0px;
    max-height: 95vh;
    overflow-y: scroll;
}

/* Tabs */

.zr-tabs.bp4-tabs>.bp4-tab-list>.bp4-tab,
.zr-tabs-minimal.bp4-tabs>.bp4-tab-list>.bp4-tab {
    color: var(--zr-text-co);
    opacity: 0.8;
}

.zr-tabs-minimal.bp4-tabs>.bp4-tab-list>.bp4-tab {
    font-weight: 400;
}

.zr-tabs.bp4-tabs>.bp4-tab-list>.bp4-tab[aria-selected="true"],
.zr-tabs-minimal.bp4-tabs>.bp4-tab-list>.bp4-tab[aria-selected="true"] {
    box-shadow: none;
    color: hsla(var(--zr-accent-1-hsl), 80%);
    font-weight: 500;
    opacity: 1;
}

.zr-tabs.bp4-tabs>.bp4-tab-list>.bp4-tab[aria-selected="true"],
.zr-tabs.bp4-tabs>.bp4-tab-list>.bp4-tab:not([aria-disabled="true"]):hover {
    background-color: var(--zr-box-bg);
}

.zr-tabs.bp4-tabs>.bp4-tab-list>.bp4-tab .bp4-icon,
.zr-tabs-minimal.bp4-tabs>.bp4-tab-list>.bp4-tab .bp4-icon {
    margin-right: 8px;
}

/* Dividers */

[class*="zr"] .bp4-divider,
[class*="zr"] .bp4-menu-divider,
[class*="zr"] .bp4-menu-header {
    border-color: var(--zr-border-co);
}

.zr-divider-minimal {
    border-top-width: 0px;
    margin: 10px 5px;
    width: fit-content;
}

.zr-divider-minimal>.bp4-heading {
    font-size: 0.75rem;
    letter-spacing: 0.3mm;
    opacity: 0.65;
    text-transform: uppercase;
}

/* SMALLER DISPLAYS */

@media (max-width: 1000px) {

    .zr-tabs>.bp4-tab-list>.bp4-tab .bp4-icon,
    .zr-tabs-minimal>.bp4-tab-list>.bp4-tab .bp4-icon {
        margin-right: 0px;
    }

    .zr-tabs>.bp4-tab-list>.bp4-tab .bp4-icon+*,
    .zr-tabs-minimal>.bp4-tab-list>.bp4-tab .bp4-icon+* {
        display: none;
    }
}
var $w=Object.defineProperty;var Fw=(t,e,n)=>e in t?$w(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Gi=(t,e,n)=>(Fw(t,typeof e!="symbol"?e+"":e,n),n);function mc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ny={exports:{}},vs={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Uh=Object.getOwnPropertySymbols,Uw=Object.prototype.hasOwnProperty,qw=Object.prototype.propertyIsEnumerable;function Hw(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Vw(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var a=Object.getOwnPropertyNames(e).map(function(l){return e[l]});if(a.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(l){i[l]=l}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Vw();/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xw=window.React,ry=60103;vs.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var qh=Symbol.for;ry=qh("react.element"),vs.Fragment=qh("react.fragment")}var Ww=Xw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qw=Object.prototype.hasOwnProperty,Kw={key:!0,ref:!0,__self:!0,__source:!0};function oy(t,e,n){var a,i={},l=null,c=null;n!==void 0&&(l=""+n),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(c=e.ref);for(a in e)Qw.call(e,a)&&!Kw.hasOwnProperty(a)&&(i[a]=e[a]);if(t&&t.defaultProps)for(a in e=t.defaultProps,e)i[a]===void 0&&(i[a]=e[a]);return{$$typeof:ry,type:t,key:l,ref:c,props:i,_owner:Ww.current}}vs.jsx=oy;vs.jsxs=oy;ny.exports=vs;var d=ny.exports;class sa{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const ds=typeof window>"u"||"Deno"in window;function Gn(){}function Gw(t,e){return typeof t=="function"?t(e):t}function Ed(t){return typeof t=="number"&&t>=0&&t!==1/0}function Hh(t,e){return t.filter(n=>!e.includes(n))}function Yw(t,e,n){const a=t.slice(0);return a[e]=n,a}function ay(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ns(t,e,n){return bs(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function Zw(t,e,n){return bs(t)?typeof e=="function"?{...n,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function _o(t,e,n){return bs(t)?[{...e,queryKey:t},n]:[t||{},e]}function Vh(t,e){const{type:n="all",exact:a,fetchStatus:i,predicate:l,queryKey:c,stale:u}=t;if(bs(c)){if(a){if(e.queryHash!==uf(c,e.options))return!1}else if(!rc(e.queryKey,c))return!1}if(n!=="all"){const f=e.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||typeof i<"u"&&i!==e.state.fetchStatus||l&&!l(e))}function Xh(t,e){const{exact:n,fetching:a,predicate:i,mutationKey:l}=t;if(bs(l)){if(!e.options.mutationKey)return!1;if(n){if(na(e.options.mutationKey)!==na(l))return!1}else if(!rc(e.options.mutationKey,l))return!1}return!(typeof a=="boolean"&&e.state.status==="loading"!==a||i&&!i(e))}function uf(t,e){return(e?.queryKeyHashFn||na)(t)}function na(t){return JSON.stringify(t,(e,n)=>Sd(n)?Object.keys(n).sort().reduce((a,i)=>(a[i]=n[i],a),{}):n)}function rc(t,e){return iy(t,e)}function iy(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!iy(t[n],e[n])):!1}function sy(t,e){if(t===e)return t;const n=Wh(t)&&Wh(e);if(n||Sd(t)&&Sd(e)){const a=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),l=i.length,c=n?[]:{};let u=0;for(let f=0;f<l;f++){const m=n?f:i[f];c[m]=sy(t[m],e[m]),c[m]===t[m]&&u++}return a===l&&u===a?t:c}return e}function oc(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Wh(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Sd(t){if(!Qh(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!Qh(n)||!n.hasOwnProperty("isPrototypeOf"))}function Qh(t){return Object.prototype.toString.call(t)==="[object Object]"}function bs(t){return Array.isArray(t)}function ly(t){return new Promise(e=>{setTimeout(e,t)})}function Kh(t){ly(0).then(t)}function Jw(){if(typeof AbortController=="function")return new AbortController}function Td(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?sy(t,e):e}class e0 extends sa{constructor(){super(),this.setup=e=>{if(!ds&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const ac=new e0,Gh=["online","offline"];class t0 extends sa{constructor(){super(),this.setup=e=>{if(!ds&&window.addEventListener){const n=()=>e();return Gh.forEach(a=>{window.addEventListener(a,n,!1)}),()=>{Gh.forEach(a=>{window.removeEventListener(a,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(a=>{typeof a=="boolean"?this.setOnline(a):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const ic=new t0;function n0(t){return Math.min(1e3*2**t,3e4)}function gc(t){return(t??"online")==="online"?ic.isOnline():!0}class cy{constructor(e){this.revert=e?.revert,this.silent=e?.silent}}function Xl(t){return t instanceof cy}function uy(t){let e=!1,n=0,a=!1,i,l,c;const u=new Promise((_,R)=>{l=_,c=R}),f=_=>{a||(b(new cy(_)),t.abort==null||t.abort())},m=()=>{e=!0},h=()=>{e=!1},y=()=>!ac.isFocused()||t.networkMode!=="always"&&!ic.isOnline(),v=_=>{a||(a=!0,t.onSuccess==null||t.onSuccess(_),i?.(),l(_))},b=_=>{a||(a=!0,t.onError==null||t.onError(_),i?.(),c(_))},x=()=>new Promise(_=>{i=R=>{const L=a||!y();return L&&_(R),L},t.onPause==null||t.onPause()}).then(()=>{i=void 0,a||t.onContinue==null||t.onContinue()}),S=()=>{if(a)return;let _;try{_=t.fn()}catch(R){_=Promise.reject(R)}Promise.resolve(_).then(v).catch(R=>{var L,U;if(a)return;const X=(L=t.retry)!=null?L:3,ee=(U=t.retryDelay)!=null?U:n0,D=typeof ee=="function"?ee(n,R):ee,j=X===!0||typeof X=="number"&&n<X||typeof X=="function"&&X(n,R);if(e||!j){b(R);return}n++,t.onFail==null||t.onFail(n,R),ly(D).then(()=>{if(y())return x()}).then(()=>{e?b(R):S()})})};return gc(t.networkMode)?S():x().then(S),{promise:u,cancel:f,continue:()=>i?.()?u:Promise.resolve(),cancelRetry:m,continueRetry:h}}const df=console;function r0(){let t=[],e=0,n=h=>{h()},a=h=>{h()};const i=h=>{let y;e++;try{y=h()}finally{e--,e||u()}return y},l=h=>{e?t.push(h):Kh(()=>{n(h)})},c=h=>(...y)=>{l(()=>{h(...y)})},u=()=>{const h=t;t=[],h.length&&Kh(()=>{a(()=>{h.forEach(y=>{n(y)})})})};return{batch:i,batchCalls:c,schedule:l,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{a=h}}}const Mt=r0();class dy{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ed(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(ds?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class o0 extends dy{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||df,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||a0(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const a=Td(this.state.data,e,this.options);return this.dispatch({data:a,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),a}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const a=this.promise;return(n=this.retryer)==null||n.cancel(e),a?a.then(Gn).catch(Gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!ay(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(a=>a.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(a=>a.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var a,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var l;return(l=this.retryer)==null||l.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(x=>x.options.queryFn);b&&this.setOptions(b.options)}const c=Jw(),u={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},f=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>{if(c)return this.abortSignalConsumed=!0,c.signal}})};f(u);const m=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(u)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),h={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:m};if(f(h),(a=this.options.behavior)==null||a.onFetch(h),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=h.fetchOptions)==null?void 0:i.meta)){var y;this.dispatch({type:"fetch",meta:(y=h.fetchOptions)==null?void 0:y.meta})}const v=b=>{if(Xl(b)&&b.silent||this.dispatch({type:"error",error:b}),!Xl(b)){var x,S,_,R;(x=(S=this.cache.config).onError)==null||x.call(S,b,this),(_=(R=this.cache.config).onSettled)==null||_.call(R,this.state.data,b,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=uy({fn:h.fetchFn,abort:c?.abort.bind(c),onSuccess:b=>{var x,S,_,R;if(typeof b>"u"){v(new Error(this.queryHash+" data is undefined"));return}this.setData(b),(x=(S=this.cache.config).onSuccess)==null||x.call(S,b,this),(_=(R=this.cache.config).onSettled)==null||_.call(R,b,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:v,onFail:(b,x)=>{this.dispatch({type:"failed",failureCount:b,error:x})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=a=>{var i,l;switch(e.type){case"failed":return{...a,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:gc(this.options.networkMode)?"fetching":"paused",...!a.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...a,data:e.data,dataUpdateCount:a.dataUpdateCount+1,dataUpdatedAt:(l=e.dataUpdatedAt)!=null?l:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const c=e.error;return Xl(c)&&c.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...a,error:c,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...e.state}}};this.state=n(this.state),Mt.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function a0(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",a=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class i0 extends sa{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,a){var i;const l=n.queryKey,c=(i=n.queryHash)!=null?i:uf(l,n);let u=this.get(c);return u||(u=new o0({cache:this,logger:e.getLogger(),queryKey:l,queryHash:c,options:e.defaultQueryOptions(n),state:a,defaultOptions:e.getQueryDefaults(l)}),this.add(u)),u}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(a=>a!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){Mt.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[a]=_o(e,n);return typeof a.exact>"u"&&(a.exact=!0),this.queries.find(i=>Vh(a,i))}findAll(e,n){const[a]=_o(e,n);return Object.keys(a).length>0?this.queries.filter(i=>Vh(a,i)):this.queries}notify(e){Mt.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){Mt.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){Mt.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class s0 extends dy{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||df,this.observers=[],this.state=e.state||fy(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var j;return this.retryer=uy({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(P,q)=>{this.dispatch({type:"failed",failureCount:P,error:q})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(j=this.options.retry)!=null?j:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var a,i,l,c,u,f,m,h;if(!n){var y,v,b,x;this.dispatch({type:"loading",variables:this.options.variables}),await((y=(v=this.mutationCache.config).onMutate)==null?void 0:y.call(v,this.state.variables,this));const P=await((b=(x=this.options).onMutate)==null?void 0:b.call(x,this.state.variables));P!==this.state.context&&this.dispatch({type:"loading",context:P,variables:this.state.variables})}const j=await e();return await((a=(i=this.mutationCache.config).onSuccess)==null?void 0:a.call(i,j,this.state.variables,this.state.context,this)),await((l=(c=this.options).onSuccess)==null?void 0:l.call(c,j,this.state.variables,this.state.context)),await((u=(f=this.mutationCache.config).onSettled)==null?void 0:u.call(f,j,null,this.state.variables,this.state.context,this)),await((m=(h=this.options).onSettled)==null?void 0:m.call(h,j,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:j}),j}catch(j){try{var S,_,R,L,U,X,ee,D;throw await((S=(_=this.mutationCache.config).onError)==null?void 0:S.call(_,j,this.state.variables,this.state.context,this)),await((R=(L=this.options).onError)==null?void 0:R.call(L,j,this.state.variables,this.state.context)),await((U=(X=this.mutationCache.config).onSettled)==null?void 0:U.call(X,void 0,j,this.state.variables,this.state.context,this)),await((ee=(D=this.options).onSettled)==null?void 0:ee.call(D,void 0,j,this.state.variables,this.state.context)),j}finally{this.dispatch({type:"error",error:j})}}}dispatch(e){const n=a=>{switch(e.type){case"failed":return{...a,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"loading":return{...a,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!gc(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...a,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:e.error,failureCount:a.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...a,...e.state}}};this.state=n(this.state),Mt.batch(()=>{this.observers.forEach(a=>{a.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function fy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class l0 extends sa{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,a){const i=new s0({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:a,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){Mt.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>Xh(e,n))}findAll(e){return this.mutations.filter(n=>Xh(e,n))}notify(e){Mt.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(a=>a.state.isPaused);return Mt.batch(()=>n.reduce((a,i)=>a.then(()=>i.continue().catch(Gn)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function c0(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,a,i,l,c;const u=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,f=(a=t.fetchOptions)==null||(i=a.meta)==null?void 0:i.fetchMore,m=f?.pageParam,h=f?.direction==="forward",y=f?.direction==="backward",v=((l=t.state.data)==null?void 0:l.pages)||[],b=((c=t.state.data)==null?void 0:c.pageParams)||[];let x=b,S=!1;const _=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>{var j;if((j=t.signal)!=null&&j.aborted)S=!0;else{var P;(P=t.signal)==null||P.addEventListener("abort",()=>{S=!0})}return t.signal}})},R=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),L=(D,j,P,q)=>(x=q?[j,...x]:[...x,j],q?[P,...D]:[...D,P]),U=(D,j,P,q)=>{if(S)return Promise.reject("Cancelled");if(typeof P>"u"&&!j&&D.length)return Promise.resolve(D);const fe={queryKey:t.queryKey,pageParam:P,meta:t.options.meta};_(fe);const me=R(fe);return Promise.resolve(me).then(ye=>L(D,P,ye,q))};let X;if(!v.length)X=U([]);else if(h){const D=typeof m<"u",j=D?m:Yh(t.options,v);X=U(v,D,j)}else if(y){const D=typeof m<"u",j=D?m:u0(t.options,v);X=U(v,D,j,!0)}else{x=[];const D=typeof t.options.getNextPageParam>"u";X=(u&&v[0]?u(v[0],0,v):!0)?U([],D,b[0]):Promise.resolve(L([],b[0],v[0]));for(let P=1;P<v.length;P++)X=X.then(q=>{if(u&&v[P]?u(v[P],P,v):!0){const me=D?b[P]:Yh(t.options,q);return U(q,D,me)}return Promise.resolve(L(q,b[P],v[P]))})}return X.then(D=>({pages:D,pageParams:x}))}}}}function Yh(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function u0(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class d0{constructor(e={}){this.queryCache=e.queryCache||new i0,this.mutationCache=e.mutationCache||new l0,this.logger=e.logger||df,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=ac.subscribe(()=>{ac.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=ic.subscribe(()=>{ic.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[a]=_o(e,n);return a.fetchStatus="fetching",this.queryCache.findAll(a).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var a;return(a=this.queryCache.find(e,n))==null?void 0:a.state.data}ensureQueryData(e,n,a){const i=ns(e,n,a),l=this.getQueryData(i.queryKey);return l?Promise.resolve(l):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:a})=>{const i=a.data;return[n,i]})}setQueryData(e,n,a){const i=this.queryCache.find(e),l=i?.state.data,c=Gw(n,l);if(typeof c>"u")return;const u=ns(e),f=this.defaultQueryOptions(u);return this.queryCache.build(this,f).setData(c,{...a,manual:!0})}setQueriesData(e,n,a){return Mt.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,a)]))}getQueryState(e,n){var a;return(a=this.queryCache.find(e,n))==null?void 0:a.state}removeQueries(e,n){const[a]=_o(e,n),i=this.queryCache;Mt.batch(()=>{i.findAll(a).forEach(l=>{i.remove(l)})})}resetQueries(e,n,a){const[i,l]=_o(e,n,a),c=this.queryCache,u={type:"active",...i};return Mt.batch(()=>(c.findAll(i).forEach(f=>{f.reset()}),this.refetchQueries(u,l)))}cancelQueries(e,n,a){const[i,l={}]=_o(e,n,a);typeof l.revert>"u"&&(l.revert=!0);const c=Mt.batch(()=>this.queryCache.findAll(i).map(u=>u.cancel(l)));return Promise.all(c).then(Gn).catch(Gn)}invalidateQueries(e,n,a){const[i,l]=_o(e,n,a);return Mt.batch(()=>{var c,u;if(this.queryCache.findAll(i).forEach(m=>{m.invalidate()}),i.refetchType==="none")return Promise.resolve();const f={...i,type:(c=(u=i.refetchType)!=null?u:i.type)!=null?c:"active"};return this.refetchQueries(f,l)})}refetchQueries(e,n,a){const[i,l]=_o(e,n,a),c=Mt.batch(()=>this.queryCache.findAll(i).filter(f=>!f.isDisabled()).map(f=>{var m;return f.fetch(void 0,{...l,cancelRefetch:(m=l?.cancelRefetch)!=null?m:!0,meta:{refetchPage:i.refetchPage}})}));let u=Promise.all(c).then(Gn);return l!=null&&l.throwOnError||(u=u.catch(Gn)),u}fetchQuery(e,n,a){const i=ns(e,n,a),l=this.defaultQueryOptions(i);typeof l.retry>"u"&&(l.retry=!1);const c=this.queryCache.build(this,l);return c.isStaleByTime(l.staleTime)?c.fetch(l):Promise.resolve(c.state.data)}prefetchQuery(e,n,a){return this.fetchQuery(e,n,a).then(Gn).catch(Gn)}fetchInfiniteQuery(e,n,a){const i=ns(e,n,a);return i.behavior=c0(),this.fetchQuery(i)}prefetchInfiniteQuery(e,n,a){return this.fetchInfiniteQuery(e,n,a).then(Gn).catch(Gn)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const a=this.queryDefaults.find(i=>na(e)===na(i.queryKey));a?a.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(a=>rc(e,a.queryKey));return n?.defaultOptions}setMutationDefaults(e,n){const a=this.mutationDefaults.find(i=>na(e)===na(i.mutationKey));a?a.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(a=>rc(e,a.mutationKey));return n?.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e?.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=uf(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e?.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class py extends sa{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Zh(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _d(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _d(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const a=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),oc(a,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=a.queryKey),this.updateQuery();const l=this.hasListeners();l&&Jh(this.currentQuery,i,this.options,a)&&this.executeFetch(),this.updateResult(n),l&&(this.currentQuery!==i||this.options.enabled!==a.enabled||this.options.staleTime!==a.staleTime)&&this.updateStaleTimeout();const c=this.computeRefetchInterval();l&&(this.currentQuery!==i||this.options.enabled!==a.enabled||c!==this.currentRefetchInterval)&&this.updateRefetchInterval(c)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e),a=this.createResult(n,e);return p0(this,a,e)&&(this.currentResult=a,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),a}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(a=>{Object.defineProperty(n,a,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(a),e[a])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),a=this.client.getQueryCache().build(this.client,n);return a.isFetchingOptimistic=!0,a.fetch().then(()=>this.createResult(a,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Gn)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),ds||this.currentResult.isStale||!Ed(this.options.staleTime))return;const n=ay(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(ds||this.options.enabled===!1||!Ed(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||ac.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const a=this.currentQuery,i=this.options,l=this.currentResult,c=this.currentResultState,u=this.currentResultOptions,f=e!==a,m=f?e.state:this.currentQueryInitialState,h=f?this.currentResult:this.previousQueryResult,{state:y}=e;let{dataUpdatedAt:v,error:b,errorUpdatedAt:x,fetchStatus:S,status:_}=y,R=!1,L=!1,U;if(n._optimisticResults){const P=this.hasListeners(),q=!P&&Zh(e,n),fe=P&&Jh(e,a,n,i);(q||fe)&&(S=gc(e.options.networkMode)?"fetching":"paused",v||(_="loading")),n._optimisticResults==="isRestoring"&&(S="idle")}if(n.keepPreviousData&&!y.dataUpdatedAt&&h!=null&&h.isSuccess&&_!=="error")U=h.data,v=h.dataUpdatedAt,_=h.status,R=!0;else if(n.select&&typeof y.data<"u")if(l&&y.data===c?.data&&n.select===this.selectFn)U=this.selectResult;else try{this.selectFn=n.select,U=n.select(y.data),U=Td(l?.data,U,n),this.selectResult=U,this.selectError=null}catch(P){this.selectError=P}else U=y.data;if(typeof n.placeholderData<"u"&&typeof U>"u"&&_==="loading"){let P;if(l!=null&&l.isPlaceholderData&&n.placeholderData===u?.placeholderData)P=l.data;else if(P=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof P<"u")try{P=n.select(P),this.selectError=null}catch(q){this.selectError=q}typeof P<"u"&&(_="success",U=Td(l?.data,P,n),L=!0)}this.selectError&&(b=this.selectError,U=this.selectResult,x=Date.now(),_="error");const X=S==="fetching",ee=_==="loading",D=_==="error";return{status:_,fetchStatus:S,isLoading:ee,isSuccess:_==="success",isError:D,isInitialLoading:ee&&X,data:U,dataUpdatedAt:v,error:b,errorUpdatedAt:x,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>m.dataUpdateCount||y.errorUpdateCount>m.errorUpdateCount,isFetching:X,isRefetching:X&&!ee,isLoadingError:D&&y.dataUpdatedAt===0,isPaused:S==="paused",isPlaceholderData:L,isPreviousData:R,isRefetchError:D&&y.dataUpdatedAt!==0,isStale:ff(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,a=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,oc(a,n))return;this.currentResult=a;const i={cache:!0},l=()=>{if(!n)return!0;const{notifyOnChangeProps:c}=this.options,u=typeof c=="function"?c():c;if(u==="all"||!u&&!this.trackedProps.size)return!0;const f=new Set(u??this.trackedProps);return this.options.useErrorBoundary&&f.add("error"),Object.keys(this.currentResult).some(m=>{const h=m;return this.currentResult[h]!==n[h]&&f.has(h)})};e?.listeners!==!1&&l()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!Xl(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){Mt.batch(()=>{if(e.onSuccess){var n,a,i,l;(n=(a=this.options).onSuccess)==null||n.call(a,this.currentResult.data),(i=(l=this.options).onSettled)==null||i.call(l,this.currentResult.data,null)}else if(e.onError){var c,u,f,m;(c=(u=this.options).onError)==null||c.call(u,this.currentResult.error),(f=(m=this.options).onSettled)==null||f.call(m,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:h})=>{h(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function f0(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Zh(t,e){return f0(t,e)||t.state.dataUpdatedAt>0&&_d(t,e,e.refetchOnMount)}function _d(t,e,n){if(e.enabled!==!1){const a=typeof n=="function"?n(t):n;return a==="always"||a!==!1&&ff(t,e)}return!1}function Jh(t,e,n,a){return n.enabled!==!1&&(t!==e||a.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&ff(t,n)}function ff(t,e){return t.isStaleByTime(e.staleTime)}function p0(t,e,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?e.isPlaceholderData:!oc(t.getCurrentResult(),e)}class h0 extends sa{constructor(e,n){super(),this.client=e,this.queries=[],this.result=[],this.observers=[],this.observersMap={},n&&this.setQueries(n)}onSubscribe(){this.listeners.size===1&&this.observers.forEach(e=>{e.subscribe(n=>{this.onUpdate(e,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(e=>{e.destroy()})}setQueries(e,n){this.queries=e,Mt.batch(()=>{const a=this.observers,i=this.findMatchingObservers(this.queries);i.forEach(m=>m.observer.setOptions(m.defaultedQueryOptions,n));const l=i.map(m=>m.observer),c=Object.fromEntries(l.map(m=>[m.options.queryHash,m])),u=l.map(m=>m.getCurrentResult()),f=l.some((m,h)=>m!==a[h]);a.length===l.length&&!f||(this.observers=l,this.observersMap=c,this.result=u,this.hasListeners()&&(Hh(a,l).forEach(m=>{m.destroy()}),Hh(l,a).forEach(m=>{m.subscribe(h=>{this.onUpdate(m,h)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(e=>e.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(e){return this.findMatchingObservers(e).map(n=>n.observer.getOptimisticResult(n.defaultedQueryOptions))}findMatchingObservers(e){const n=this.observers,a=new Map(n.map(b=>[b.options.queryHash,b])),i=e.map(b=>this.client.defaultQueryOptions(b)),l=i.flatMap(b=>{const x=a.get(b.queryHash);return x!=null?[{defaultedQueryOptions:b,observer:x}]:[]}),c=new Set(l.map(b=>b.defaultedQueryOptions.queryHash)),u=i.filter(b=>!c.has(b.queryHash)),f=new Set(l.map(b=>b.observer)),m=n.filter(b=>!f.has(b)),h=b=>{const x=this.client.defaultQueryOptions(b),S=this.observersMap[x.queryHash];return S??new py(this.client,x)},y=u.map((b,x)=>{if(b.keepPreviousData){const S=m[x];if(S!==void 0)return{defaultedQueryOptions:b,observer:S}}return{defaultedQueryOptions:b,observer:h(b)}}),v=(b,x)=>i.indexOf(b.defaultedQueryOptions)-i.indexOf(x.defaultedQueryOptions);return l.concat(y).sort(v)}onUpdate(e,n){const a=this.observers.indexOf(e);a!==-1&&(this.result=Yw(this.result,a,n),this.notify())}notify(){Mt.batch(()=>{this.listeners.forEach(({listener:e})=>{e(this.result)})})}}let m0=class extends sa{constructor(e,n){super(),this.client=e,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const a=this.options;this.options=this.client.defaultMutationOptions(e),oc(a,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const n={listeners:!0};e.type==="success"?n.onSuccess=!0:e.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:fy(),n={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(e){Mt.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var n,a,i,l;(n=(a=this.mutateOptions).onSuccess)==null||n.call(a,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(l=this.mutateOptions).onSettled)==null||i.call(l,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var c,u,f,m;(c=(u=this.mutateOptions).onError)==null||c.call(u,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(f=(m=this.mutateOptions).onSettled)==null||f.call(m,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:h})=>{h(this.currentResult)})})}};var hy={exports:{}},my={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ei=window.React;function g0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var y0=typeof Object.is=="function"?Object.is:g0,v0=ei.useState,b0=ei.useEffect,w0=ei.useLayoutEffect,x0=ei.useDebugValue;function C0(t,e){var n=e(),a=v0({inst:{value:n,getSnapshot:e}}),i=a[0].inst,l=a[1];return w0(function(){i.value=n,i.getSnapshot=e,Wu(i)&&l({inst:i})},[t,n,e]),b0(function(){return Wu(i)&&l({inst:i}),t(function(){Wu(i)&&l({inst:i})})},[t]),x0(n),n}function Wu(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!y0(t,n)}catch{return!0}}function E0(t,e){return e()}var S0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?E0:C0;my.useSyncExternalStore=ei.useSyncExternalStore!==void 0?ei.useSyncExternalStore:S0;hy.exports=my;var T0=hy.exports;const pf=T0.useSyncExternalStore,sc=window.React,em=sc.createContext(void 0),_0=sc.createContext(!1);function k0(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=em),window.ReactQueryClientContext):em)}const Io=({context:t}={})=>{const e=sc.useContext(k0(t,sc.useContext(_0)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},gy=window.React,yy=gy.createContext(!1),vy=()=>gy.useContext(yy);yy.Provider;const by=window.React;function O0(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const R0=by.createContext(O0()),wy=()=>by.useContext(R0);function xy(t,e){return typeof t=="function"?t(...e):!!t}const A0=window.React,Cy=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},Ey=t=>{A0.useEffect(()=>{t.clearReset()},[t])},Sy=({result:t,errorResetBoundary:e,useErrorBoundary:n,query:a})=>t.isError&&!e.isReset()&&!t.isFetching&&xy(n,[t.error,a]),Ty=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},_y=(t,e)=>t.isLoading&&t.isFetching&&!e,kd=(t,e,n)=>t?.suspense&&_y(e,n),Od=(t,e,n)=>e.fetchOptimistic(t).then(({data:a})=>{t.onSuccess==null||t.onSuccess(a),t.onSettled==null||t.onSettled(a,null)}).catch(a=>{n.clearReset(),t.onError==null||t.onError(a),t.onSettled==null||t.onSettled(void 0,a)}),Tl=window.React;function ws({queries:t,context:e}){const n=Io({context:e}),a=vy(),i=wy(),l=Tl.useMemo(()=>t.map(v=>{const b=n.defaultQueryOptions(v);return b._optimisticResults=a?"isRestoring":"optimistic",b}),[t,n,a]);l.forEach(v=>{Ty(v),Cy(v,i)}),Ey(i);const[c]=Tl.useState(()=>new h0(n,l)),u=c.getOptimisticResult(l);pf(Tl.useCallback(v=>a?()=>{}:c.subscribe(Mt.batchCalls(v)),[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),Tl.useEffect(()=>{c.setQueries(l,{listeners:!1})},[l,c]);const m=u.some((v,b)=>kd(l[b],v,a))?u.flatMap((v,b)=>{const x=l[b],S=c.getObservers()[b];if(x&&S){if(kd(x,v,a))return Od(x,S,i);_y(v,a)&&Od(x,S,i)}return[]}):[];if(m.length>0)throw Promise.all(m);const h=c.getQueries(),y=u.find((v,b)=>{var x,S;return Sy({result:v,errorResetBoundary:i,useErrorBoundary:(x=(S=l[b])==null?void 0:S.useErrorBoundary)!=null?x:!1,query:h[b]})});if(y!=null&&y.error)throw y.error;return u}const Qu=window.React;function I0(t,e){const n=Io({context:t.context}),a=vy(),i=wy(),l=n.defaultQueryOptions(t);l._optimisticResults=a?"isRestoring":"optimistic",l.onError&&(l.onError=Mt.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=Mt.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=Mt.batchCalls(l.onSettled)),Ty(l),Cy(l,i),Ey(i);const[c]=Qu.useState(()=>new e(n,l)),u=c.getOptimisticResult(l);if(pf(Qu.useCallback(f=>{const m=a?()=>{}:c.subscribe(Mt.batchCalls(f));return c.updateResult(),m},[c,a]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),Qu.useEffect(()=>{c.setOptions(l,{listeners:!1})},[l,c]),kd(l,u,a))throw Od(l,c,i);if(Sy({result:u,errorResetBoundary:i,useErrorBoundary:l.useErrorBoundary,query:c.getCurrentQuery()}))throw u.error;return l.notifyOnChangeProps?u:c.trackResult(u)}function j0(t,e,n){const a=ns(t,e,n);return I0(a,py)}const _l=window.React;function hf(t,e,n){const a=Zw(t,e,n),i=Io({context:a.context}),[l]=_l.useState(()=>new m0(i,a));_l.useEffect(()=>{l.setOptions(a)},[l,a]);const c=pf(_l.useCallback(f=>l.subscribe(Mt.batchCalls(f)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),u=_l.useCallback((f,m)=>{l.mutate(f,m).catch(P0)},[l]);if(c.error&&xy(l.options.useErrorBoundary,[c.error]))throw c.error;return{...c,mutate:u,mutateAsync:c.mutate}}function P0(){}const W={DATALIST_ITEM:"zr-datalist--item",DATALIST_PAGINATION:"zr-datalist--pagination",DATALIST_TOOLBAR:"zr-datalist--toolbar",DATALIST_WRAPPER:"zr-datalist--listwrapper",DATE_PICKER:"zr-date-picker",DIVIDER_MINIMAL:"zr-divider-minimal",INPUT_BOX:"zr-input-box",INPUT_DATE_RANGE:"zr-date-range-input",INPUT_TEXT:"zr-text-input",POPOVER:"zr-popover",PREFIX_DIALOG_AUXILIARY:"zr-auxiliary-dialog--",PREFIX_DIALOG_OVERLAY:"zr-dialog-overlay--",PREFIX_DRAWER:"zr-drawer--",TABS:"zr-tabs",TABS_MINIMAL:"zr-tabs-minimal",TEXT_ACCENT_1:"zr-accent-1",TEXT_ACCENT_2:"zr-accent-2",TEXT_AUXILIARY:"zr-auxiliary",TEXT_SECONDARY:"zr-secondary",TEXT_SMALL:"zr-text-small",TRIBUTE:"zr-tribute",TRIBUTE_SELECTED:"zr-tribute--selected",TRIBUTE_DETAILS:"zr-tribute--item-details"};const tm=window.React.useMemo,N0=window.ReactDOM.createPortal,L0=window.Blueprint.Core.Dialog,D0=window.Blueprint.Core.H5,la=t=>{const{ariaLabelledBy:e=null,className:n,extraClasses:a=[],isOpen:i,label:l=null,onClose:c,title:u=null}=t,{portalId:f}=Lc(),m=tm(()=>[W.PREFIX_DIALOG_AUXILIARY+n,...a].join(" "),[n,a]),h=tm(()=>!e&&l?{element:d.jsx(D0,{id:n+"-label",style:{display:"none"},children:l}),id:n+"-label"}:{element:null,id:null},[e,n,l]);return N0(d.jsxs(L0,{"aria-labelledby":e||h.id||void 0,canEscapeKeyClose:!0,canOutsideClickClose:!0,className:m,enforceFocus:!1,isOpen:i,lazy:!0,title:u,usePortal:!1,onClose:c,children:[h.element,t.children]}),document.getElementById(f))},M0=window.Blueprint.Core.Button,B0=window.Blueprint.Core.Callout;function ky({buttonText:t="Go back",error:e,resetErrorBoundary:n=void 0}){return d.jsxs(B0,{intent:"danger",title:e.name,children:[d.jsx("p",{children:e.message}),n!==void 0&&d.jsx(M0,{intent:"danger",onClick:n,outlined:!0,text:t})]})}function Oy(t,e){return function(){return t.apply(e,arguments)}}const{toString:z0}=Object.prototype,{getPrototypeOf:mf}=Object,yc=(t=>e=>{const n=z0.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Nr=t=>(t=t.toLowerCase(),e=>yc(e)===t),vc=t=>e=>typeof e===t,{isArray:ii}=Array,fs=vc("undefined");function $0(t){return t!==null&&!fs(t)&&t.constructor!==null&&!fs(t.constructor)&&Yn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ry=Nr("ArrayBuffer");function F0(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Ry(t.buffer),e}const U0=vc("string"),Yn=vc("function"),Ay=vc("number"),bc=t=>t!==null&&typeof t=="object",q0=t=>t===!0||t===!1,Wl=t=>{if(yc(t)!=="object")return!1;const e=mf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},H0=Nr("Date"),V0=Nr("File"),X0=Nr("Blob"),W0=Nr("FileList"),Q0=t=>bc(t)&&Yn(t.pipe),K0=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Yn(t.append)&&((e=yc(t))==="formdata"||e==="object"&&Yn(t.toString)&&t.toString()==="[object FormData]"))},G0=Nr("URLSearchParams"),Y0=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xs(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let a,i;if(typeof t!="object"&&(t=[t]),ii(t))for(a=0,i=t.length;a<i;a++)e.call(null,t[a],a,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let u;for(a=0;a<c;a++)u=l[a],e.call(null,t[u],u,t)}}function Iy(t,e){e=e.toLowerCase();const n=Object.keys(t);let a=n.length,i;for(;a-- >0;)if(i=n[a],e===i.toLowerCase())return i;return null}const jy=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Py=t=>!fs(t)&&t!==jy;function Rd(){const{caseless:t}=Py(this)&&this||{},e={},n=(a,i)=>{const l=t&&Iy(e,i)||i;Wl(e[l])&&Wl(a)?e[l]=Rd(e[l],a):Wl(a)?e[l]=Rd({},a):ii(a)?e[l]=a.slice():e[l]=a};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&xs(arguments[a],n);return e}const Z0=(t,e,n,{allOwnKeys:a}={})=>(xs(e,(i,l)=>{n&&Yn(i)?t[l]=Oy(i,n):t[l]=i},{allOwnKeys:a}),t),J0=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),ex=(t,e,n,a)=>{t.prototype=Object.create(e.prototype,a),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},tx=(t,e,n,a)=>{let i,l,c;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),l=i.length;l-- >0;)c=i[l],(!a||a(c,t,e))&&!u[c]&&(e[c]=t[c],u[c]=!0);t=n!==!1&&mf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},nx=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const a=t.indexOf(e,n);return a!==-1&&a===n},rx=t=>{if(!t)return null;if(ii(t))return t;let e=t.length;if(!Ay(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},ox=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&mf(Uint8Array)),ax=(t,e)=>{const a=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=a.next())&&!i.done;){const l=i.value;e.call(t,l[0],l[1])}},ix=(t,e)=>{let n;const a=[];for(;(n=t.exec(e))!==null;)a.push(n);return a},sx=Nr("HTMLFormElement"),lx=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,a,i){return a.toUpperCase()+i}),nm=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),cx=Nr("RegExp"),Ny=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),a={};xs(n,(i,l)=>{let c;(c=e(i,l,t))!==!1&&(a[l]=c||i)}),Object.defineProperties(t,a)},ux=t=>{Ny(t,(e,n)=>{if(Yn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const a=t[n];if(Yn(a)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},dx=(t,e)=>{const n={},a=i=>{i.forEach(l=>{n[l]=!0})};return ii(t)?a(t):a(String(t).split(e)),n},fx=()=>{},px=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Ku="abcdefghijklmnopqrstuvwxyz",rm="0123456789",Ly={DIGIT:rm,ALPHA:Ku,ALPHA_DIGIT:Ku+Ku.toUpperCase()+rm},hx=(t=16,e=Ly.ALPHA_DIGIT)=>{let n="";const{length:a}=e;for(;t--;)n+=e[Math.random()*a|0];return n};function mx(t){return!!(t&&Yn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const gx=t=>{const e=new Array(10),n=(a,i)=>{if(bc(a)){if(e.indexOf(a)>=0)return;if(!("toJSON"in a)){e[i]=a;const l=ii(a)?[]:{};return xs(a,(c,u)=>{const f=n(c,i+1);!fs(f)&&(l[u]=f)}),e[i]=void 0,l}}return a};return n(t,0)},yx=Nr("AsyncFunction"),vx=t=>t&&(bc(t)||Yn(t))&&Yn(t.then)&&Yn(t.catch),ie={isArray:ii,isArrayBuffer:Ry,isBuffer:$0,isFormData:K0,isArrayBufferView:F0,isString:U0,isNumber:Ay,isBoolean:q0,isObject:bc,isPlainObject:Wl,isUndefined:fs,isDate:H0,isFile:V0,isBlob:X0,isRegExp:cx,isFunction:Yn,isStream:Q0,isURLSearchParams:G0,isTypedArray:ox,isFileList:W0,forEach:xs,merge:Rd,extend:Z0,trim:Y0,stripBOM:J0,inherits:ex,toFlatObject:tx,kindOf:yc,kindOfTest:Nr,endsWith:nx,toArray:rx,forEachEntry:ax,matchAll:ix,isHTMLForm:sx,hasOwnProperty:nm,hasOwnProp:nm,reduceDescriptors:Ny,freezeMethods:ux,toObjectSet:dx,toCamelCase:lx,noop:fx,toFiniteNumber:px,findKey:Iy,global:jy,isContextDefined:Py,ALPHABET:Ly,generateString:hx,isSpecCompliantForm:mx,toJSONObject:gx,isAsyncFn:yx,isThenable:vx};function vt(t,e,n,a,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),a&&(this.request=a),i&&(this.response=i)}ie.inherits(vt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Dy=vt.prototype,My={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{My[t]={value:t}});Object.defineProperties(vt,My);Object.defineProperty(Dy,"isAxiosError",{value:!0});vt.from=(t,e,n,a,i,l)=>{const c=Object.create(Dy);return ie.toFlatObject(t,c,function(f){return f!==Error.prototype},u=>u!=="isAxiosError"),vt.call(c,t.message,e,n,a,i),c.cause=t,c.name=t.name,l&&Object.assign(c,l),c};const bx=null;function Ad(t){return ie.isPlainObject(t)||ie.isArray(t)}function By(t){return ie.endsWith(t,"[]")?t.slice(0,-2):t}function om(t,e,n){return t?t.concat(e).map(function(i,l){return i=By(i),!n&&l?"["+i+"]":i}).join(n?".":""):e}function wx(t){return ie.isArray(t)&&!t.some(Ad)}const xx=ie.toFlatObject(ie,{},null,function(e){return/^is[A-Z]/.test(e)});function wc(t,e,n){if(!ie.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ie.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,_){return!ie.isUndefined(_[S])});const a=n.metaTokens,i=n.visitor||h,l=n.dots,c=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(e);if(!ie.isFunction(i))throw new TypeError("visitor must be a function");function m(x){if(x===null)return"";if(ie.isDate(x))return x.toISOString();if(!f&&ie.isBlob(x))throw new vt("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(x)||ie.isTypedArray(x)?f&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,S,_){let R=x;if(x&&!_&&typeof x=="object"){if(ie.endsWith(S,"{}"))S=a?S:S.slice(0,-2),x=JSON.stringify(x);else if(ie.isArray(x)&&wx(x)||(ie.isFileList(x)||ie.endsWith(S,"[]"))&&(R=ie.toArray(x)))return S=By(S),R.forEach(function(U,X){!(ie.isUndefined(U)||U===null)&&e.append(c===!0?om([S],X,l):c===null?S:S+"[]",m(U))}),!1}return Ad(x)?!0:(e.append(om(_,S,l),m(x)),!1)}const y=[],v=Object.assign(xx,{defaultVisitor:h,convertValue:m,isVisitable:Ad});function b(x,S){if(!ie.isUndefined(x)){if(y.indexOf(x)!==-1)throw Error("Circular reference detected in "+S.join("."));y.push(x),ie.forEach(x,function(R,L){(!(ie.isUndefined(R)||R===null)&&i.call(e,R,ie.isString(L)?L.trim():L,S,v))===!0&&b(R,S?S.concat(L):[L])}),y.pop()}}if(!ie.isObject(t))throw new TypeError("data must be an object");return b(t),e}function am(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(a){return e[a]})}function gf(t,e){this._pairs=[],t&&wc(t,this,e)}const zy=gf.prototype;zy.append=function(e,n){this._pairs.push([e,n])};zy.toString=function(e){const n=e?function(a){return e.call(this,a,am)}:am;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Cx(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $y(t,e,n){if(!e)return t;const a=n&&n.encode||Cx,i=n&&n.serialize;let l;if(i?l=i(e,n):l=ie.isURLSearchParams(e)?e.toString():new gf(e,n).toString(a),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class Ex{constructor(){this.handlers=[]}use(e,n,a){return this.handlers.push({fulfilled:e,rejected:n,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ie.forEach(this.handlers,function(a){a!==null&&e(a)})}}const im=Ex,Fy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Sx=typeof URLSearchParams<"u"?URLSearchParams:gf,Tx=typeof FormData<"u"?FormData:null,_x=typeof Blob<"u"?Blob:null,kx={isBrowser:!0,classes:{URLSearchParams:Sx,FormData:Tx,Blob:_x},protocols:["http","https","file","blob","url","data"]},Uy=typeof window<"u"&&typeof document<"u",Ox=(t=>Uy&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),Rx=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ax=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Uy,hasStandardBrowserEnv:Ox,hasStandardBrowserWebWorkerEnv:Rx},Symbol.toStringTag,{value:"Module"})),Rr={...Ax,...kx};function Ix(t,e){return wc(t,new Rr.classes.URLSearchParams,Object.assign({visitor:function(n,a,i,l){return Rr.isNode&&ie.isBuffer(n)?(this.append(a,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function jx(t){return ie.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Px(t){const e={},n=Object.keys(t);let a;const i=n.length;let l;for(a=0;a<i;a++)l=n[a],e[l]=t[l];return e}function qy(t){function e(n,a,i,l){let c=n[l++];const u=Number.isFinite(+c),f=l>=n.length;return c=!c&&ie.isArray(i)?i.length:c,f?(ie.hasOwnProp(i,c)?i[c]=[i[c],a]:i[c]=a,!u):((!i[c]||!ie.isObject(i[c]))&&(i[c]=[]),e(n,a,i[c],l)&&ie.isArray(i[c])&&(i[c]=Px(i[c])),!u)}if(ie.isFormData(t)&&ie.isFunction(t.entries)){const n={};return ie.forEachEntry(t,(a,i)=>{e(jx(a),i,n,0)}),n}return null}function Nx(t,e,n){if(ie.isString(t))try{return(e||JSON.parse)(t),ie.trim(t)}catch(a){if(a.name!=="SyntaxError")throw a}return(n||JSON.stringify)(t)}const yf={transitional:Fy,adapter:["xhr","http"],transformRequest:[function(e,n){const a=n.getContentType()||"",i=a.indexOf("application/json")>-1,l=ie.isObject(e);if(l&&ie.isHTMLForm(e)&&(e=new FormData(e)),ie.isFormData(e))return i&&i?JSON.stringify(qy(e)):e;if(ie.isArrayBuffer(e)||ie.isBuffer(e)||ie.isStream(e)||ie.isFile(e)||ie.isBlob(e))return e;if(ie.isArrayBufferView(e))return e.buffer;if(ie.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(l){if(a.indexOf("application/x-www-form-urlencoded")>-1)return Ix(e,this.formSerializer).toString();if((u=ie.isFileList(e))||a.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return wc(u?{"files[]":e}:e,f&&new f,this.formSerializer)}}return l||i?(n.setContentType("application/json",!1),Nx(e)):e}],transformResponse:[function(e){const n=this.transitional||yf.transitional,a=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&ie.isString(e)&&(a&&!this.responseType||i)){const c=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(c)throw u.name==="SyntaxError"?vt.from(u,vt.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rr.classes.FormData,Blob:Rr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],t=>{yf.headers[t]={}});const vf=yf,Lx=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Dx=t=>{const e={};let n,a,i;return t&&t.split(`
`).forEach(function(c){i=c.indexOf(":"),n=c.substring(0,i).trim().toLowerCase(),a=c.substring(i+1).trim(),!(!n||e[n]&&Lx[n])&&(n==="set-cookie"?e[n]?e[n].push(a):e[n]=[a]:e[n]=e[n]?e[n]+", "+a:a)}),e},sm=Symbol("internals");function Yi(t){return t&&String(t).trim().toLowerCase()}function Ql(t){return t===!1||t==null?t:ie.isArray(t)?t.map(Ql):String(t)}function Mx(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=n.exec(t);)e[a[1]]=a[2];return e}const Bx=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Gu(t,e,n,a,i){if(ie.isFunction(a))return a.call(this,e,n);if(i&&(e=n),!!ie.isString(e)){if(ie.isString(a))return e.indexOf(a)!==-1;if(ie.isRegExp(a))return a.test(e)}}function zx(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,a)=>n.toUpperCase()+a)}function $x(t,e){const n=ie.toCamelCase(" "+e);["get","set","has"].forEach(a=>{Object.defineProperty(t,a+n,{value:function(i,l,c){return this[a].call(this,e,i,l,c)},configurable:!0})})}let xc=class{constructor(e){e&&this.set(e)}set(e,n,a){const i=this;function l(u,f,m){const h=Yi(f);if(!h)throw new Error("header name must be a non-empty string");const y=ie.findKey(i,h);(!y||i[y]===void 0||m===!0||m===void 0&&i[y]!==!1)&&(i[y||f]=Ql(u))}const c=(u,f)=>ie.forEach(u,(m,h)=>l(m,h,f));return ie.isPlainObject(e)||e instanceof this.constructor?c(e,n):ie.isString(e)&&(e=e.trim())&&!Bx(e)?c(Dx(e),n):e!=null&&l(n,e,a),this}get(e,n){if(e=Yi(e),e){const a=ie.findKey(this,e);if(a){const i=this[a];if(!n)return i;if(n===!0)return Mx(i);if(ie.isFunction(n))return n.call(this,i,a);if(ie.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Yi(e),e){const a=ie.findKey(this,e);return!!(a&&this[a]!==void 0&&(!n||Gu(this,this[a],a,n)))}return!1}delete(e,n){const a=this;let i=!1;function l(c){if(c=Yi(c),c){const u=ie.findKey(a,c);u&&(!n||Gu(a,a[u],u,n))&&(delete a[u],i=!0)}}return ie.isArray(e)?e.forEach(l):l(e),i}clear(e){const n=Object.keys(this);let a=n.length,i=!1;for(;a--;){const l=n[a];(!e||Gu(this,this[l],l,e,!0))&&(delete this[l],i=!0)}return i}normalize(e){const n=this,a={};return ie.forEach(this,(i,l)=>{const c=ie.findKey(a,l);if(c){n[c]=Ql(i),delete n[l];return}const u=e?zx(l):String(l).trim();u!==l&&delete n[l],n[u]=Ql(i),a[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ie.forEach(this,(a,i)=>{a!=null&&a!==!1&&(n[i]=e&&ie.isArray(a)?a.join(", "):a)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const a=new this(e);return n.forEach(i=>a.set(i)),a}static accessor(e){const a=(this[sm]=this[sm]={accessors:{}}).accessors,i=this.prototype;function l(c){const u=Yi(c);a[u]||($x(i,c),a[u]=!0)}return ie.isArray(e)?e.forEach(l):l(e),this}};xc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(xc.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(a){this[n]=a}}});ie.freezeMethods(xc);const Zr=xc;function Yu(t,e){const n=this||vf,a=e||n,i=Zr.from(a.headers);let l=a.data;return ie.forEach(t,function(u){l=u.call(n,l,i.normalize(),e?e.status:void 0)}),i.normalize(),l}function Hy(t){return!!(t&&t.__CANCEL__)}function Cs(t,e,n){vt.call(this,t??"canceled",vt.ERR_CANCELED,e,n),this.name="CanceledError"}ie.inherits(Cs,vt,{__CANCEL__:!0});function Fx(t,e,n){const a=n.config.validateStatus;!n.status||!a||a(n.status)?t(n):e(new vt("Request failed with status code "+n.status,[vt.ERR_BAD_REQUEST,vt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const Ux=Rr.hasStandardBrowserEnv?{write(t,e,n,a,i,l){const c=[t+"="+encodeURIComponent(e)];ie.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),ie.isString(a)&&c.push("path="+a),ie.isString(i)&&c.push("domain="+i),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function qx(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Hx(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Vy(t,e){return t&&!qx(e)?Hx(t,e):e}const Vx=Rr.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let a;function i(l){let c=l;return e&&(n.setAttribute("href",c),c=n.href),n.setAttribute("href",c),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return a=i(window.location.href),function(c){const u=ie.isString(c)?i(c):c;return u.protocol===a.protocol&&u.host===a.host}}():function(){return function(){return!0}}();function Xx(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Wx(t,e){t=t||10;const n=new Array(t),a=new Array(t);let i=0,l=0,c;return e=e!==void 0?e:1e3,function(f){const m=Date.now(),h=a[l];c||(c=m),n[i]=f,a[i]=m;let y=l,v=0;for(;y!==i;)v+=n[y++],y=y%t;if(i=(i+1)%t,i===l&&(l=(l+1)%t),m-c<e)return;const b=h&&m-h;return b?Math.round(v*1e3/b):void 0}}function lm(t,e){let n=0;const a=Wx(50,250);return i=>{const l=i.loaded,c=i.lengthComputable?i.total:void 0,u=l-n,f=a(u),m=l<=c;n=l;const h={loaded:l,total:c,progress:c?l/c:void 0,bytes:u,rate:f||void 0,estimated:f&&c&&m?(c-l)/f:void 0,event:i};h[e?"download":"upload"]=!0,t(h)}}const Qx=typeof XMLHttpRequest<"u",Kx=Qx&&function(t){return new Promise(function(n,a){let i=t.data;const l=Zr.from(t.headers).normalize();let{responseType:c,withXSRFToken:u}=t,f;function m(){t.cancelToken&&t.cancelToken.unsubscribe(f),t.signal&&t.signal.removeEventListener("abort",f)}let h;if(ie.isFormData(i)){if(Rr.hasStandardBrowserEnv||Rr.hasStandardBrowserWebWorkerEnv)l.setContentType(!1);else if((h=l.getContentType())!==!1){const[S,..._]=h?h.split(";").map(R=>R.trim()).filter(Boolean):[];l.setContentType([S||"multipart/form-data",..._].join("; "))}}let y=new XMLHttpRequest;if(t.auth){const S=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";l.set("Authorization","Basic "+btoa(S+":"+_))}const v=Vy(t.baseURL,t.url);y.open(t.method.toUpperCase(),$y(v,t.params,t.paramsSerializer),!0),y.timeout=t.timeout;function b(){if(!y)return;const S=Zr.from("getAllResponseHeaders"in y&&y.getAllResponseHeaders()),R={data:!c||c==="text"||c==="json"?y.responseText:y.response,status:y.status,statusText:y.statusText,headers:S,config:t,request:y};Fx(function(U){n(U),m()},function(U){a(U),m()},R),y=null}if("onloadend"in y?y.onloadend=b:y.onreadystatechange=function(){!y||y.readyState!==4||y.status===0&&!(y.responseURL&&y.responseURL.indexOf("file:")===0)||setTimeout(b)},y.onabort=function(){y&&(a(new vt("Request aborted",vt.ECONNABORTED,t,y)),y=null)},y.onerror=function(){a(new vt("Network Error",vt.ERR_NETWORK,t,y)),y=null},y.ontimeout=function(){let _=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const R=t.transitional||Fy;t.timeoutErrorMessage&&(_=t.timeoutErrorMessage),a(new vt(_,R.clarifyTimeoutError?vt.ETIMEDOUT:vt.ECONNABORTED,t,y)),y=null},Rr.hasStandardBrowserEnv&&(u&&ie.isFunction(u)&&(u=u(t)),u||u!==!1&&Vx(v))){const S=t.xsrfHeaderName&&t.xsrfCookieName&&Ux.read(t.xsrfCookieName);S&&l.set(t.xsrfHeaderName,S)}i===void 0&&l.setContentType(null),"setRequestHeader"in y&&ie.forEach(l.toJSON(),function(_,R){y.setRequestHeader(R,_)}),ie.isUndefined(t.withCredentials)||(y.withCredentials=!!t.withCredentials),c&&c!=="json"&&(y.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&y.addEventListener("progress",lm(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&y.upload&&y.upload.addEventListener("progress",lm(t.onUploadProgress)),(t.cancelToken||t.signal)&&(f=S=>{y&&(a(!S||S.type?new Cs(null,t,y):S),y.abort(),y=null)},t.cancelToken&&t.cancelToken.subscribe(f),t.signal&&(t.signal.aborted?f():t.signal.addEventListener("abort",f)));const x=Xx(v);if(x&&Rr.protocols.indexOf(x)===-1){a(new vt("Unsupported protocol "+x+":",vt.ERR_BAD_REQUEST,t));return}y.send(i||null)})},Id={http:bx,xhr:Kx};ie.forEach(Id,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const cm=t=>`- ${t}`,Gx=t=>ie.isFunction(t)||t===null||t===!1,Xy={getAdapter:t=>{t=ie.isArray(t)?t:[t];const{length:e}=t;let n,a;const i={};for(let l=0;l<e;l++){n=t[l];let c;if(a=n,!Gx(n)&&(a=Id[(c=String(n)).toLowerCase()],a===void 0))throw new vt(`Unknown adapter '${c}'`);if(a)break;i[c||"#"+l]=a}if(!a){const l=Object.entries(i).map(([u,f])=>`adapter ${u} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(cm).join(`
`):" "+cm(l[0]):"as no adapter specified";throw new vt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a},adapters:Id};function Zu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Cs(null,t)}function um(t){return Zu(t),t.headers=Zr.from(t.headers),t.data=Yu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Xy.getAdapter(t.adapter||vf.adapter)(t).then(function(a){return Zu(t),a.data=Yu.call(t,t.transformResponse,a),a.headers=Zr.from(a.headers),a},function(a){return Hy(a)||(Zu(t),a&&a.response&&(a.response.data=Yu.call(t,t.transformResponse,a.response),a.response.headers=Zr.from(a.response.headers))),Promise.reject(a)})}const dm=t=>t instanceof Zr?t.toJSON():t;function ti(t,e){e=e||{};const n={};function a(m,h,y){return ie.isPlainObject(m)&&ie.isPlainObject(h)?ie.merge.call({caseless:y},m,h):ie.isPlainObject(h)?ie.merge({},h):ie.isArray(h)?h.slice():h}function i(m,h,y){if(ie.isUndefined(h)){if(!ie.isUndefined(m))return a(void 0,m,y)}else return a(m,h,y)}function l(m,h){if(!ie.isUndefined(h))return a(void 0,h)}function c(m,h){if(ie.isUndefined(h)){if(!ie.isUndefined(m))return a(void 0,m)}else return a(void 0,h)}function u(m,h,y){if(y in e)return a(m,h);if(y in t)return a(void 0,m)}const f={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(m,h)=>i(dm(m),dm(h),!0)};return ie.forEach(Object.keys(Object.assign({},t,e)),function(h){const y=f[h]||i,v=y(t[h],e[h],h);ie.isUndefined(v)&&y!==u||(n[h]=v)}),n}const Wy="1.6.2",bf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{bf[t]=function(a){return typeof a===t||"a"+(e<1?"n ":" ")+t}});const fm={};bf.transitional=function(e,n,a){function i(l,c){return"[Axios v"+Wy+"] Transitional option '"+l+"'"+c+(a?". "+a:"")}return(l,c,u)=>{if(e===!1)throw new vt(i(c," has been removed"+(n?" in "+n:"")),vt.ERR_DEPRECATED);return n&&!fm[c]&&(fm[c]=!0,console.warn(i(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,c,u):!0}};function Yx(t,e,n){if(typeof t!="object")throw new vt("options must be an object",vt.ERR_BAD_OPTION_VALUE);const a=Object.keys(t);let i=a.length;for(;i-- >0;){const l=a[i],c=e[l];if(c){const u=t[l],f=u===void 0||c(u,l,t);if(f!==!0)throw new vt("option "+l+" must be "+f,vt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new vt("Unknown option "+l,vt.ERR_BAD_OPTION)}}const jd={assertOptions:Yx,validators:bf},To=jd.validators;let lc=class{constructor(e){this.defaults=e,this.interceptors={request:new im,response:new im}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ti(this.defaults,n);const{transitional:a,paramsSerializer:i,headers:l}=n;a!==void 0&&jd.assertOptions(a,{silentJSONParsing:To.transitional(To.boolean),forcedJSONParsing:To.transitional(To.boolean),clarifyTimeoutError:To.transitional(To.boolean)},!1),i!=null&&(ie.isFunction(i)?n.paramsSerializer={serialize:i}:jd.assertOptions(i,{encode:To.function,serialize:To.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=l&&ie.merge(l.common,l[n.method]);l&&ie.forEach(["delete","get","head","post","put","patch","common"],x=>{delete l[x]}),n.headers=Zr.concat(c,l);const u=[];let f=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(f=f&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const m=[];this.interceptors.response.forEach(function(S){m.push(S.fulfilled,S.rejected)});let h,y=0,v;if(!f){const x=[um.bind(this),void 0];for(x.unshift.apply(x,u),x.push.apply(x,m),v=x.length,h=Promise.resolve(n);y<v;)h=h.then(x[y++],x[y++]);return h}v=u.length;let b=n;for(y=0;y<v;){const x=u[y++],S=u[y++];try{b=x(b)}catch(_){S.call(this,_);break}}try{h=um.call(this,b)}catch(x){return Promise.reject(x)}for(y=0,v=m.length;y<v;)h=h.then(m[y++],m[y++]);return h}getUri(e){e=ti(this.defaults,e);const n=Vy(e.baseURL,e.url);return $y(n,e.params,e.paramsSerializer)}};ie.forEach(["delete","get","head","options"],function(e){lc.prototype[e]=function(n,a){return this.request(ti(a||{},{method:e,url:n,data:(a||{}).data}))}});ie.forEach(["post","put","patch"],function(e){function n(a){return function(l,c,u){return this.request(ti(u||{},{method:e,headers:a?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}lc.prototype[e]=n(),lc.prototype[e+"Form"]=n(!0)});const Kl=lc;let Zx=class Qy{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const a=this;this.promise.then(i=>{if(!a._listeners)return;let l=a._listeners.length;for(;l-- >0;)a._listeners[l](i);a._listeners=null}),this.promise.then=i=>{let l;const c=new Promise(u=>{a.subscribe(u),l=u}).then(i);return c.cancel=function(){a.unsubscribe(l)},c},e(function(l,c,u){a.reason||(a.reason=new Cs(l,c,u),n(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Qy(function(i){e=i}),cancel:e}}};const Jx=Zx;function eC(t){return function(n){return t.apply(null,n)}}function tC(t){return ie.isObject(t)&&t.isAxiosError===!0}const Pd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Pd).forEach(([t,e])=>{Pd[e]=t});const nC=Pd;function Ky(t){const e=new Kl(t),n=Oy(Kl.prototype.request,e);return ie.extend(n,Kl.prototype,e,{allOwnKeys:!0}),ie.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Ky(ti(t,i))},n}const Wt=Ky(vf);Wt.Axios=Kl;Wt.CanceledError=Cs;Wt.CancelToken=Jx;Wt.isCancel=Hy;Wt.VERSION=Wy;Wt.toFormData=wc;Wt.AxiosError=vt;Wt.Cancel=Wt.CanceledError;Wt.all=function(e){return Promise.all(e)};Wt.spread=eC;Wt.isAxiosError=tC;Wt.mergeConfig=ti;Wt.AxiosHeaders=Zr;Wt.formToJSON=t=>qy(ie.isHTMLForm(t)?new FormData(t):t);Wt.getAdapter=Xy.getAdapter;Wt.HttpStatusCode=nC;Wt.default=Wt;const Cc=Wt,{Axios:qj,AxiosError:Hj,CanceledError:Vj,isCancel:Xj,CancelToken:Wj,VERSION:Qj,all:Kj,Cancel:Gj,isAxiosError:rC,spread:Yj,toFormData:Zj,AxiosHeaders:Jj,HttpStatusCode:eP,formToJSON:tP,getAdapter:nP,mergeConfig:rP}=Cc,oC=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);var aC=t=>!oC.has(t&&t.code);const iC=mc(aC);function pm(t,e,n,a,i,l,c){try{var u=t[l](c),f=u.value}catch(m){n(m);return}u.done?e(f):Promise.resolve(f).then(a,i)}function Gy(t){return function(){var e=this,n=arguments;return new Promise(function(a,i){var l=t.apply(e,n);function c(f){pm(l,a,i,c,u,"next",f)}function u(f){pm(l,a,i,c,u,"throw",f)}c(void 0)})}}function hm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,a)}return n}function Ju(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hm(Object(n),!0).forEach(function(a){sC(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hm(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function sC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yy="axios-retry";function Zy(t){var e=["ERR_CANCELED","ECONNABORTED"];return!t.response&&!!t.code&&!e.includes(t.code)&&iC(t)}var Jy=["get","head","options"],lC=Jy.concat(["put","delete"]);function wf(t){return t.code!=="ECONNABORTED"&&(!t.response||t.response.status>=500&&t.response.status<=599)}function cC(t){return t.config?wf(t)&&Jy.indexOf(t.config.method)!==-1:!1}function ev(t){return t.config?wf(t)&&lC.indexOf(t.config.method)!==-1:!1}function tv(t){return Zy(t)||ev(t)}function uC(){return 0}function dC(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,n=Math.pow(2,t)*e,a=n*.2*Math.random();return n+a}var fC={retries:3,retryCondition:tv,retryDelay:uC,shouldResetTimeout:!1,onRetry:()=>{}};function pC(t,e){return Ju(Ju(Ju({},fC),e),t[Yy])}function mm(t,e){var n=pC(t,e);return n.retryCount=n.retryCount||0,t[Yy]=n,n}function hC(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}function mC(t,e){return Nd.apply(this,arguments)}function Nd(){return Nd=Gy(function*(t,e){var{retries:n,retryCondition:a}=t,i=t.retryCount<n&&a(e);if(typeof i=="object")try{var l=yield i;return l!==!1}catch{return!1}return i}),Nd.apply(this,arguments)}function jo(t,e){var n=t.interceptors.request.use(i=>{var l=mm(i,e);return l.lastRequestTime=Date.now(),i}),a=t.interceptors.response.use(null,function(){var i=Gy(function*(l){var{config:c}=l;if(!c)return Promise.reject(l);var u=mm(c,e);if(yield mC(u,l)){u.retryCount+=1;var{retryDelay:f,shouldResetTimeout:m,onRetry:h}=u,y=f(u.retryCount,l);if(hC(t,c),!m&&c.timeout&&u.lastRequestTime){var v=Date.now()-u.lastRequestTime,b=c.timeout-v-y;if(b<=0)return Promise.reject(l);c.timeout=b}return c.transformRequest=[x=>x],yield h(u.retryCount,l,c),new Promise(x=>setTimeout(()=>x(t(c)),y))}return Promise.reject(l)});return function(l){return i.apply(this,arguments)}}());return{requestInterceptorId:n,responseInterceptorId:a}}jo.isNetworkError=Zy;jo.isSafeRequestError=cC;jo.isIdempotentRequestError=ev;jo.isNetworkOrIdempotentRequestError=tv;jo.exponentialDelay=dC;jo.isRetryableError=wf;const no=Cc.create({baseURL:"https://api.zotero.org/",headers:{"Zotero-API-Version":3}});jo(no,{retries:2,retryCondition:t=>{if(t.response){const{status:e}=t.response;return e==429||e>=500}else return!0},retryDelay:(t,e)=>{if(e.response){const{headers:n}=e.response;return(Number(n.backoff)||Number(n["retry-after"])||t)*1e3}else return t*3e3}});const nv=Cc.create({baseURL:"https://api.semanticscholar.org/v1/paper/",params:{include_unknown_references:"true"}});jo(nv,{retries:3});const gC=Cc.create({baseURL:"https://en.wikipedia.org/api/rest_v1/data/citation/zotero"}),yC=window.Blueprint.Core.Toaster,gm=yC.create({className:"zr-toaster"}),rv=t=>t.status==="fulfilled",Bt=t=>!!t;var Ld=(t=>(t.CITED="cited",t.CITING="citing",t))(Ld||{});const ov=t=>t.inLibrary!=!1,Ec=t=>t.data.itemType==="annotation",Sc=t=>t.data.itemType==="note",av=t=>Ec(t)||Sc(t),iv=t=>t.data.itemType==="attachment",sv=t=>!(iv(t)||av(t));function lv(t,e){return[...t,e]}function xf(t,e){return[...t.slice(0,e),...t.slice(e+1,t.length)]}function Cf(t,e,n){return[...t.slice(0,e),n,...t.slice(e+1,t.length)]}function ca(t){return t.reduce((e,n)=>(av(n)?e.notes.push(n):iv(n)?n.data.contentType=="application/pdf"&&e.pdfs.push(n):e.items.push(n),e),{items:[],pdfs:[],notes:[]})}function vC(t){const e=t.replaceAll("."," ").split(" ").filter(Bt);return e.length==1?e[0]:e.slice(1).filter(n=>n.length>1).join(" ")}function bC(t){switch(t.length){case 0:return"";case 1:return t[0];case 2:return t[0]+" & "+t[1];case 3:return t[0]+", "+t[1]+" & "+t[2];default:return t[0]+" et al."}}function wC(t,e){const n=ca(t);return n.items.map(a=>{const i=a.data.key,l=a.library.type+"s/"+a.library.id,{pdfs:c,notes:u}=ua(i,l,{pdfs:n.pdfs,notes:n.notes});return Ef(a,c,u,e)})}function Ef(t,e=[],n=[],a){const i=t.data.url,l=Ts(t.data.DOI),c=i?{href:i,title:i}:l?{href:"https://doi/org/"+l,title:l}:!1,u=t.data.creators.map(b=>({full:"name"in b?b.name:[b.firstName,b.lastName].filter(Bt).join(" ")||"",last:("lastName"in b?b.lastName:b.name)||"",role:b.creatorType||""})),f=Array.from(new Set(t.data.tags.map(b=>b.tag))),m=t.meta.creatorSummary||"",h=t.meta.parsedDate?isNaN(Number(new Date(t.meta.parsedDate)))?"":new Date(t.meta.parsedDate).getUTCFullYear().toString():"",y=h?`(${h})`:"",v={abstract:t.data.abstractNote||"",authors:m,authorsFull:u.map(b=>b.full),authorsLastNames:u.map(b=>b.last),authorsRoles:u.map(b=>b.role),children:{pdfs:e,notes:n},createdByUser:t.meta.createdByUser?.username||null,inGraph:a.get("@"+t.key)||!1,itemKey:t.data.key,itemType:t.data.itemType,key:t.key,location:t.library.type+"s/"+t.library.id,meta:[m,y].filter(Bt).join(" "),publication:t.data.publicationTitle||t.data.bookTitle||t.data.university||"",tags:f,title:t.data.title,weblink:c,year:h,zotero:{local:Es(t,{format:"target"}),web:Ss(t,{format:"target"})},raw:t,_multiField:""};return v._multiField=[v.abstract,v.authorsFull.join(" "),v.year,v.title,v.tags.map(b=>`#${b}`).join(", "),v.key].filter(Bt).join(" "),v}function xC(t,e={},n=[]){return{annotations:n,key:t.data.key,link:_f(t,"href"),parent:e,title:t.data.filename||t.data.title,raw:t,tags:t.data.tags.map(a=>a.tag)}}function Dd(t){let e=t;return e.startsWith(`
`)?(e=e.slice(1),e=Dd(e)):e.endsWith(`
`)&&(e=e.slice(0,-1),e=Dd(e)),e=e.replaceAll(/\n{2}/g,`
`),e}function CC(t){const e={authors:"",authorsLastNames:[],authorsString:"",doi:t.doi,intent:t.intent,isInfluential:t.isInfluential,links:{},meta:t.venue.split(/ ?:/)[0],title:t.title,url:t.url||"",year:t.year?t.year.toString():"",_multiField:""};return e.authorsLastNames=t.authors.map(n=>vC(n.name)),e.authorsString=e.authorsLastNames.join(" "),e.authors=bC(e.authorsLastNames),t.paperId&&(e.links["semantic-scholar"]=`https://www.semanticscholar.org/paper/${t.paperId}`),t.arxivId&&(e.links.arxiv=`https://arxiv.org/abs/${t.arxivId}`),(t.doi||t.title)&&(e.links["connected-papers"]="https://www.connectedpapers.com/"+(t.doi?"api/redirect/doi/"+t.doi:"search?q="+encodeURIComponent(t.title)),e.links["google-scholar"]="https://scholar.google.com/scholar?q="+(t.doi||encodeURIComponent(t.title))),e._multiField=[e.authorsString,e.year,e.title].filter(Bt).join(" "),e}function ym(t,e,n){const{items:a=[],pdfs:i=[],notes:l=[]}=e,c=CC(t);if(c.doi){const u=a.find(f=>Ts(f.data.DOI)==c.doi);if(u){const f=u.data.key,m=u.library.type+"s/"+u.library.id,h=ua(f,m,{pdfs:i,notes:l});return{...c,inGraph:n.get("@"+u.key)||!1,inLibrary:{children:h,raw:u}}}else return{...c,inGraph:!1,inLibrary:!1}}else return{...c,inGraph:!1,inLibrary:!1}}function EC(t,e,n){const{items:a=[],pdfs:i=[],notes:l=[]}=t,c=a.filter(y=>y.data.DOI),{citations:u=[],references:f=[]}=e,m=u.map(y=>({...ym(y,{items:c,pdfs:i,notes:l},n),_type:Ld.CITING})),h=f.map(y=>({...ym(y,{items:c,pdfs:i,notes:l},n),_type:Ld.CITED}));return{citations:m,references:h,backlinks:[...h,...m].filter(ov)}}function Sf(t,e){const[n=0,a=0,i=0]=t,[l=0,c=0,u=0]=e;return n<l||n==l&&(a<c||a==c&&i<=u)?-1:1}function SC(t,e){return Sf(Md(t),Md(e))}function TC(t,e){if(t.meta.parsedDate)if(e.meta.parsedDate){const n=new Date(t.meta.parsedDate).getUTCFullYear()-new Date(e.meta.parsedDate).getUTCFullYear();return n<0||n==0&&t.meta.creatorSummary<e.meta.creatorSummary?-1:1}else return-1;else return e.meta.parsedDate?1:t.meta.creatorSummary<e.meta.creatorSummary?-1:1}function Md(t){return t.split("|").map(e=>Number(e))}function Ro(t){navigator.clipboard?navigator.clipboard.writeText(t).then(e=>{gm.show({intent:"success",message:`Successfully copied to clipboard: ${t}`,timeout:800})}).catch(e=>{window.zoteroRoam?.error?.({origin:"Copy",message:`Failed to copy to clipboard: ${t}`,detail:e.message,showToaster:1e3})}):gm.show({message:`Clipboard API is not available. The following could not be copied: ${t}`,timeout:1e3})}function Bd(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Tf(t,e,...n){const a=Array.prototype.slice.call(arguments,2),i=t.split("."),l=i.pop();let c=e;for(let u=0;u<i.length;u++)c=c[i[u]];if(!c[l])throw new Error(`Function ${l} doesn't exist`);return c[l](...a)}function vm(t,{template_comment:e="{{comment}}",template_highlight:n="[[>]] {{highlight}} ([p. {{page_label}}]({{link_page}})) {{tags_string}}"}={}){if(t.type=="highlight"){const{comment:a,page_label:i,link_page:l,tags_string:c,text:u}=t;let f=e,m=n;const h={comment:a,highlight:u,page_label:i,link_page:l,tags_string:c};for(const y in h)f=f.replaceAll(`{{${y}}}`,`${h[y]}`),m=m.replaceAll(`{{${y}}}`,`${h[y]}`);return{string:m,text:m,children:a?[f]:[]}}else return t.type=="image",null}function _C(t,{group_by:e=!1,template_comment:n,template_highlight:a}={}){const i=Tc(t);if(e=="day_added"){const l=i.sort((c,u)=>c.date_added<u.date_added?-1:1).reduce((c,u)=>{const f=new Date(u.date_added).toLocaleDateString("en-CA");return c[f]?c[f].push(u):c[f]=[u],c},{});return Object.keys(l).sort((c,u)=>new Date(c)<new Date(u)?-1:1).map(c=>{const u=l[c].sort((f,m)=>Sf(f.sortIndex,m.sortIndex));return{string:Ar(`${c}T00:00`,{brackets:!0}),text:Ar(`${c}T00:00`,{brackets:!0}),children:u.map(f=>vm(f,{template_comment:n,template_highlight:a})).filter(Bt)}}).filter(c=>c.children.length>0)}else return i.map(l=>vm(l,{template_comment:n,template_highlight:a})).filter(Bt)}function cv(t,e=`
`){return pv(t,e).flat(1).map(n=>IC(n)).filter(n=>n.trim())}function zd(t,e,{accent_class:n="zr-accent-1"}={}){const a=t.key,i=t.data.title,l=t.meta.creatorSummary||"",c=t.meta.parsedDate?isNaN(Number(new Date(t.meta.parsedDate)))?"":new Date(t.meta.parsedDate).getUTCFullYear():"",u=[l,c?`(${c})`:""].filter(Bt).join(" "),f="@"+a,m=u||a,h={citation:"[{{summary_or_key}}]([[{{citekey}}]])",citekey:"{{citekey}}",inline:"{{summary}}",key:"{{key}}",pageref:"[[{{citekey}}]]",popover:"{{=: {{summary_or_key}} | {{embed: [[{{citekey}}]]}} }}",tag:"#[[{{citekey}}]]",zettlr:`<span class="${n}">{{summary_or_key}}</span> {{title}}`},y={authors:l,citekey:f,key:a,summary:u,summary_or_key:m,title:i,year:c};let v=h[e]||e||"{{citekey}}";for(const b in y)v=v.replaceAll(`{{${b}}}`,`${y[b]}`);return v}function kC(t,{func:e="",use:n="default",__with:a="raw",...i}={}){return n=="function"&&e?Tf(e,window,a=="raw"?t:Tc(t)):_C(t,{...i})}function uv(t,{func:e="",split_char:n="",split_preset:a=`
`,split_use:i="preset",use:l="default",__with:c="raw"}={}){const u=i=="custom"?n:a;return l=="function"&&e?Tf(e,window,c=="raw"?t:pv(t,u)):cv(t,u)}function Es(t,{format:e="markdown",text:n="Local library"}={}){const i=`zotero://select/${t.library.type=="group"?`groups/${t.library.id}`:"library"}/items/${t.data.key}`;switch(e){case"markdown":return`[${n}](${i})`;case"target":default:return i}}function _f(t,e="href"){const n=t.library.type=="group"?`groups/${t.library.id}`:"library";let a="",i="";switch(["linked_file","imported_file","imported_url"].includes(t.data.linkMode)?(a="zotero://open-pdf/"+n+"/items/"+t.data.key,i=t.data.filename||t.data.title):(a=t.data.url,i=t.data.title),e){case"markdown":return`[${i}](${a})`;case"href":default:return a}}function Ss(t,{format:e="markdown",text:n="Web library"}={}){const i=`https://www.zotero.org/${(t.library.type=="user"?"users":"groups")+`/${t.library.id}`}/items/${t.data.key}`;switch(e){case"markdown":return`[${n}](${i})`;case"target":default:return i}}function $d(t,e){const n=Array.from(t),a=Array.from(e);return n.length+a.length!=0&&(n.length!==a.length||n.some((i,l)=>i!==a[l]))}function ua(t,e,{pdfs:n=[],notes:a=[]}={}){const i=n.filter(u=>u.data.parentItem==t&&u.library.type+"s/"+u.library.id==e),l=i.map(u=>u.key),c=a.filter(u=>[t,...l].includes(u.data.parentItem)&&u.library.type+"s/"+u.library.id==e);return{pdfs:i,notes:c}}function OC(t,e,n,{items:a=[],notes:i=[]}){const l=a.find(u=>u.data.key==e&&u.library.type+"s/"+u.library.id==n),c=i.filter(Ec).filter(u=>u.data.parentItem==t&&u.library.type+"s/"+u.library.id==n);return{parent:l,annotations:c}}function RC(t){if(typeof t!="string")throw new Error(`Input is of type ${typeof t}, expected String`);const e=new RegExp(/^<\/?(.+?)>|<(.+?)>$/),n=e.test(t);return{result:n,htmlTag:n&&t.match(e)?.[1]||null}}function AC(t){return t.reduce((e,n)=>{try{const a=n.charAt(0).toLowerCase();e[a]?e[a].push(n):e[a]=[n]}catch{throw new Error(`Could not add ${JSON.stringify(n)} to dictionary`)}return e},{})}function kf(t){const e=t.constructor===Date?t:new Date(t),n=new Date;n.setHours(0,0,0);const a=new Date;if(a.setDate(n.getDate()-1),a.setHours(0,0,0),e>n)return`Today at ${ps(e)}`;if(e>a)return`Yesterday at ${ps(e)}`;{const l=`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]} ${dv(e.getDate())}`,c=e.getFullYear()!=n.getFullYear()?e.getFullYear():!1;return[l,c].filter(Bt).join(" ")}}function Ar(t,{brackets:e=!0}={}){const n=t.constructor===Date?t:new Date(t),i=`${["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()]} ${dv(n.getDate())}, ${n.getFullYear()}`;return e?`[[${i}]]`:i}function dv(t){const e=t%10;return e==1&&t!=11?t+"st":e==2&&t!=12?t+"nd":e==3&&t!=13?t+"rd":t+"th"}function ps(t){const e=t.constructor===Date?t:new Date(t);return`${e.getHours()}:${("0"+e.getMinutes()).slice(-2)}`}function bm(t,e){return t.some(n=>e.includes(n))}function Ts(t){if(t){const e=t.match(/10\.([0-9]+?)\/(.+)/g);return e?e[0].toLowerCase():!1}else return!1}function IC(t){let e=t;const n={"<blockquote>":"> ","</blockquote>":"","<strong>":"**","</strong>":"**","<em>":"__","</em>":"__","<b>":"**","</b>":"**","<br />":`
`,"<br/>":`
`,"<br>":`
`,"<u>":"","</u>":"","<ul>":"","</ul>":"","<ol>":"","</ol>":"","</li><li>":" ","<li>":"","</li>":""};for(const l in n)e=e.replaceAll(`${l}`,`${n[l]}`);["p","div","span","h1","h2","h3","h4","h5","h6"].forEach(l=>{const c=new RegExp(`</?${l}>|<${l} .+?>`,"g");e=e.replaceAll(c,l.startsWith("h")?"**":"")});const i=/<a.+?href="(.+?)">(.+?)<\/a>/g;return e=e.replaceAll(i,"[$2]($1)"),e=Dd(e),e}function fn(t,e,n=""){return`${t==0?"No":t} ${e}${t==1?"":"s"}${n}`}function jC(t,{as_date:e=!0}={}){const[n,a,i,l]=Array.from(t.matchAll(/(.+) ([0-9]+).{2}, ([0-9]{4})/g))[0],c=["January","February","March","April","May","June","July","August","September","October","November","December"],u=[parseInt(l),c.findIndex(f=>f==a),parseInt(i)];return e?new Date(...u):u}function Ln(t,e,{any_case:n=!0,match:a="partial",search_compounds:i=!0,word_order:l="strict"}={}){if(e.constructor===String)return wm(t,e,{any_case:n,match:a,search_compounds:i,word_order:l});if(e.constructor===Array)return e.some(c=>wm(t,c,{any_case:n,match:a,search_compounds:i,word_order:l}));throw new Error(`Unexpected input type ${e.constructor.name} : target should be a String or an Array`)}function wm(t,e,{any_case:n=!0,match:a="partial",search_compounds:i=!0,word_order:l="strict"}={}){let c=t,u=e;n==!0&&(c=t.toLowerCase(),u=e.toLowerCase());const f=c.split(" "),m=f.some(h=>h.includes("-"));if(f.length==1){let h=Bd(c);switch(m&&i==!0&&(h=h.replace("-","(?: |-)?")),a){case"partial":return new RegExp(h).test(u);case"exact":return new RegExp("^"+h+"$").test(u);case"word":return new RegExp("(?:\\W|^)"+h+"(?:\\W|$)").test(u);default:return!1}}else{let h=f.map(y=>Bd(y));return i==!0&&(m?h=h.map(y=>y.includes("-")?y.replace("-","(?: |-)?"):y):!m&&l=="strict"&&(h=[h.join("(?: |-)?")])),l=="loose"?a=="word"?h.map(v=>"(?:\\W|^)"+v+"(?:\\W|$)").every(v=>new RegExp(v).test(u)):h.every(y=>new RegExp(y).test(u)):a=="partial"?new RegExp(h.join(" ")).test(u):a=="exact"?new RegExp("^"+h.join(" ")+"$").test(u):new RegExp("(?:\\W|^)"+h.join(" ")+"(?:\\W|$)").test(u)}}function Tc(t){return t.map(e=>{const{annotationColor:n,annotationComment:a,annotationPageLabel:i,annotationPosition:l,annotationSortIndex:c,annotationText:u,annotationType:f,dateAdded:m,dateModified:h,parentItem:y,tags:v}=e.data,b=Ar(m,{brackets:!1}),x=Ar(h,{brackets:!1}),S=e.library.type+"s/"+e.library.id,_=S.startsWith("groups/")?S:"library",R=JSON.parse(l),L=`zotero://open-pdf/${_}/items/${y}`,U=L+`?page=${R.pageIndex+1}`;return{color:n,comment:a,date_added:m,date_modified:h,day_added:b,day_modified:x,key:e.key,library:S,link_pdf:L,link_page:U,page_label:i,parent_item:y,position:R,raw:e,sortIndex:Md(c),tags:v.map(X=>X.tag),tags_string:v.map(X=>`#[[${X.tag}]]`).join(", "),text:u,type:f}})}function PC(t){return t.map(e=>{const{dateAdded:n,dateModified:a,parentItem:i,note:l,tags:c}=e.data,u=e.library.type+"s/"+e.library.id,m=`zotero://select/${u.startsWith("groups/")?u:"library"}/items/${e.key}`;return{date_added:n,date_modified:a,key:e.key,location:u,link_note:m,note:l,parent_item:i,raw:e,tags:c.map(h=>h.tag)}})}function fv(t,e,n=0){const a={...t,depth:n},i=e.filter(l=>l.data.parentCollection==a.key);if(i.length>0){const l=[a];for(let c=0;c<i.length;c++)l.push(...fv(i[c],e,n+1));return l}else return[a]}function NC(t){if(t.length>0){const e=[...t].sort((l,c)=>l.data.name.toLowerCase()<c.data.name.toLowerCase()?-1:1),n=e.filter(l=>l.data.parentCollection),a=e.filter(l=>!l.data.parentCollection).map(l=>({...l,depth:0})),i=[];for(let l=0;l<a.length;l++)n.filter(u=>u.data.parentCollection==a[l].key).length>0?i.push(...fv(a[l],n)):i.push(a[l]);return i}else return[]}function Fd(t,e){return t.sort((n,a)=>`${n[e]}`.toLowerCase()<`${a[e]}`.toLowerCase()?-1:1)}function pv(t,e){const{result:n,htmlTag:a}=RC(e);if(n&&a){const i=new RegExp(`</?${a}>|<${a} .+?>`,"g");return t.map(l=>l.data.note.split(i).filter(Bt))}else return t.map(i=>i.data.note.split(e).filter(Bt))}function jr(t,e=document){const n=new CustomEvent(`zotero-roam:${t._type}`,{bubbles:!0,cancelable:!0,detail:t});e.dispatchEvent(n)}function xm(t,e){return[t,e].forEach(n=>{if(n.constructor!==Object||!n.tag||!n.meta)throw new Error(`Received bad input: ${JSON.stringify(n)}, expected a Zotero tag`);if(n.meta.type===void 0)throw new Error(`Received bad input: ${JSON.stringify(n)}, expected the tag to have a type`)}),t.meta.type==e.meta.type&&t.tag==e.tag}function LC(t,e){const n=[],a=Array.from(t).sort((i,l)=>i>l?-1:1);for(const i of a)try{const l=n.findIndex(u=>Ln(i,u.token,{any_case:!0,match:"exact",search_compounds:!0})),c=e.get(i);l==-1?n.push({token:i.toLowerCase(),roam:[],zotero:Array.isArray(c)?c:[c]}):Array.isArray(c)?n[l].zotero.push(...c):n[l].zotero.push(c)}catch(l){throw new Error(`Failed to categorize ${i}: `+l.message)}return n.sort((i,l)=>i.token<l.token?-1:1)}function Po(t){try{if(rC(t)){const{code:e,message:n,status:a,config:i}=t;return{code:e,message:n,status:a,config:{url:i?.url}}}return t.message}catch{return t}}async function DC(t,e,n){const{apikey:a,path:i}=e;t.length>50&&window.zoteroRoam?.warn?.({origin:"API",message:"API limits exceeded",detail:"Only 50 Zotero tags can be deleted at once. Any additional tags selected will be ignored."});const l=t.slice(0,50).map(c=>encodeURIComponent(c)).join(" || ");return await no.delete(`${i}/tags`,{headers:{"Zotero-API-Key":a,"If-Unmodified-Since-Version":n},params:{tag:l}})}function MC(t){return[...t].map(n=>{let{key:a}=n,i=!1;return typeof n.data.extra<"u"&&n.data.extra.includes("Citation Key: ")&&(a=n.data.extra.match("Citation Key: (.+)")?.[1]||a,i=!0),{...n,key:a,has_citekey:i}})}async function Of(t,e){const{dataURI:n,apikey:a,since:i=null}=t,l=Math.ceil(e/100-1),c=[];for(let f=1;f<=l;f++){const m=new URLSearchParams("");i&&m.set("since",`${i}`),m.set("start",`${100*f}`),m.set("limit","100"),c.push(no.get(`${n}?${m.toString()}`,{headers:{"Zotero-API-Key":a}}))}let u=[null];try{const f=await Promise.all(c);return u=f,f.map(m=>m.data).flat(1)}catch(f){return window.zoteroRoam?.error?.({origin:"API",message:"Failed to fetch additional data",context:{dataURI:n,error:Po(f),responses:u,totalResults:e}}),Promise.reject(f)}}async function BC(t){let e;try{const{data:n,...a}=await gC.get(encodeURIComponent(t));return e={data:n,...a},{item:n[0],query:t}}catch(n){return window.zoteroRoam?.error?.({origin:"API",message:"Failed to fetch metadata from Wikipedia",context:{error:Po(n),query:t,response:e}}),Promise.reject(n)}}async function zC(t,e=0,{match:n=[]}){const{apikey:a,path:i}=t,l={data:null,error:null,library:i,since:e,success:!1};let c,u,f;try{const{data:m,headers:h,...y}=await no.get(`${i}/collections`,{headers:{"Zotero-API-Key":a},params:{since:e}});c={data:m,headers:h,...y},u=m;const{"last-modified-version":v,"total-results":b}=h,x=Number(b);if(x>100){const S=await Of({dataURI:`${i}/collections`,apikey:a,since:e},x);u.push(...S)}if(e>0&&u.length>0){const{collections:S=[]}=await hv(t,e);f=S,jr({...l,data:u,success:!0,type:"collections",_type:"update"})}return{data:mv({modified:u,deleted:f},n),lastUpdated:Number(v)}}catch(m){return window.zoteroRoam?.error?.({origin:"API",message:"Failed to fetch collections",context:{data:u,deleted:f,error:Po(m),response:c}}),jr({...l,error:m,success:!1,type:"collections",_type:"update"}),Promise.reject(m)}}async function hv(t,e){const{apikey:n,path:a}=t;let i;try{const{data:l}=await no.get(`${a}/deleted`,{headers:{"Zotero-API-Key":n},params:{since:e}});return i=l,l}catch(l){return window.zoteroRoam?.error?.({origin:"API",message:"Failed to fetch deleted data",context:{error:Po(l),response:i}}),Promise.reject(l)}}async function $C(t,{match:e=[]},n){const{apikey:a,dataURI:i,library:{path:l},since:c=0}=t,u=new URLSearchParams("");u.set("since",`${c}`),u.set("start","0"),u.set("limit","100");const f={data:null,error:null,library:l,since:c,success:!1};let m,h,y;try{const{data:v,headers:b,...x}=await no.get(`${i}?${u.toString()}`,{headers:{"Zotero-API-Key":a}});m={data:v,headers:b,...x},h=v;const{"last-modified-version":S,"total-results":_}=b,R=Number(_);if(R>100){const L=await Of({dataURI:i,apikey:a,since:c},R);h.push(...L)}if(c>0){const{items:L=[]}=await hv({apikey:a,path:l},c);y=L;const U=["tags",{library:l}],{lastUpdated:X}=n.getQueryData(U)||{};(h.length>0||Number(X)<Number(S))&&(n.refetchQueries(U),jr({...f,data:h,success:!0,type:"items",_type:"update"}))}return{data:mv({modified:h,deleted:y},e,{with_citekey:!0}),lastUpdated:Number(S)}}catch(v){return window.zoteroRoam?.error?.({origin:"API",message:"Failed to fetch items",context:{data:h,deleted:y,error:Po(v),response:m}}),jr({...f,error:v,success:!1,type:"items",_type:"update"}),Promise.reject(v)}}async function FC(t){try{const{data:e}=await no.get(`keys/${t}`,{headers:{"Zotero-API-Key":t}});return e}catch(e){return window.zoteroRoam?.error?.({origin:"API",message:"Failed to fetch permissions"}),Promise.reject(e)}}async function UC(t){let e;try{const n=await nv.get(`${t}`),{data:{citations:a,references:i}}=n;return e=n,{doi:t,citations:Cm(a),references:Cm(i)}}catch(n){return window.zoteroRoam?.error?.({origin:"API",message:"Failed to fetch data from SemanticScholar",context:{error:Po(n),response:e}}),Promise.reject(n)}}async function qC(t){const{apikey:e,path:n}=t;let a=[];try{const{data:i,headers:l}=await no.get(`${n}/tags?limit=100`,{headers:{"Zotero-API-Key":e}});a=i;const{"last-modified-version":c,"total-results":u}=l,f=Number(u);if(f>100){const m=await Of({dataURI:`${n}/tags`,apikey:e},f);a.push(...m)}return{data:HC(a),lastUpdated:Number(c)}}catch(i){return window.zoteroRoam?.error?.({origin:"API",message:"Failed to fetch tags",context:{error:Po(i),path:n,tags:a}}),Promise.reject(i)}}function HC(t){try{const e=VC(t),n=AC(Array.from(e.keys())),a=Object.keys(n).sort((l,c)=>l<c?-1:1),i={};return a.forEach(l=>{i[l]=LC(n[l],e)}),i}catch(e){throw new Error("Could not create tag list : "+e.message)}}function VC(t){return t.reduce((e,n)=>XC(e,n),new Map)}function mv(t,e=[],{with_citekey:n=!1}={}){const{modified:a=[],deleted:i=[]}=t,l=n?MC([...a]):[...a],c=[...i],u=c.length==0?e:e.filter(f=>!c.includes(f.data.key));if(l.length==0)return u;if(u.length==0)return l;{const[...f]=u;return l.forEach(m=>{const h=f.findIndex(y=>y.data.key==m.data.key);h==-1?f.push(m):f[h]=m}),f}}function Cm(t){return t.map(e=>{const{doi:n,...a}=e;return{doi:Ts(n),...a}})}function XC(t,e){const{tag:n}=e;if(t.has(n)){const a=t.get(n);if(Array.isArray(a))a.every(i=>!xm(e,i))&&t.set(n,[...a,e]);else if(typeof a=="object")xm(e,a)||t.set(n,[a,e]);else throw new Error(`Map entry is of unexpected type ${typeof a}, expected Array or Object`)}else t.set(n,e);return t}function gv(t,e){const{apikey:n,path:a}=e,i=Math.ceil(t.length/50),l=[];for(let c=1;c<=i;c++){const u=t.slice(50*(c-1),50*c);l.push(no.post(`${a}/items`,JSON.stringify(u),{headers:{"Zotero-API-Key":n}}))}return Promise.allSettled(l)}const WC=window.React.Component;class Mn extends WC{constructor(e){super(e),this.state={error:null,errorInfo:null}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n}),window.zoteroRoam?.error?.({origin:"Interface",message:"Failed to render",context:{error:Po(e),errorInfo:n}})}render(){return this.state.error?d.jsx(ky,{error:this.state.error}):this.props.children}}const QC=window.Blueprint.Core.Callout,yv=()=>d.jsxs(QC,{children:["No writeable libraries were found. Please check that your API key(s) have the permission to write to at least one of the Zotero libraries you use. ",d.jsx("a",{href:"https://alix-lahuec.gitbook.io/zotero-roam/getting-started/prereqs#zotero-api-credentials",target:"_blank",rel:"noreferrer",children:"Refer to the extension docs"})," for more details."]}),KC=window.React.useReducer;function GC(t,e){switch(e.type){case"add":return lv(t,e.value);case"remove":return xf(t,e.index);case"update":return Cf(t,e.index,e.value);default:return t}}const YC=(t,e)=>KC(GC,t,e),kl=window.React.useCallback,ZC=window.React.useState,Pt=t=>{const[e,n]=ZC(t),a=kl(()=>{n(u=>!u)},[]),i=kl(u=>{n(u)},[]),l=kl(()=>n(!0),[]),c=kl(()=>n(!1),[]);return[e,{set:i,toggle:a,on:l,off:c}]},JC=window.React.useCallback,eE=window.React.useRef;function tE(t,e){const n=eE(void 0),a=function(){n.current&&(clearTimeout(n.current),n.current=null)};return[JC(l=>{a(),n.current=setTimeout(()=>{n.current=null,t(l)},e)},[t,e]),a]}const nE=window.React.useReducer,rE=(t,e)=>t.map(n=>n.value==e?{...n,active:!n.active}:n),oE=t=>nE(rE,t),Ol=window.React.useCallback,aE=window.React.useState,iE=(t,e)=>t===e,sE=t=>t,Em=(t,e,n,a)=>t.find(i=>n(i,e))?t:[...t,a(e)],Sm=(t,e,n)=>t.filter(a=>!n(a,e)),hs=({start:t=[],identify:e=iE,retrieve:n=sE})=>{const[a,i]=aE(t),l=Ol(m=>{i(h=>Em(h,m,e,n))},[e,n]),c=Ol(m=>{i(h=>Sm(h,m,e))},[e]),u=Ol(m=>{i(h=>h.find(y=>e(y,m))?Sm(h,m,e):Em(h,m,e,n))},[e,n]),f=Ol(m=>{i(m)},[]);return[a,{set:f,toggle:u,add:l,remove:c}]},lE=window.React.useCallback,cE=window.React.useMemo,uE=window.React.useState,_s=({itemsPerPage:t=20})=>{const[e,n]=uE(1),a=cE(()=>[t*(e-1),t*e],[e,t]),i=lE(l=>{n(l)},[]);return{currentPage:e,pageLimits:a,setCurrentPage:i}},dE=window.React.useCallback,fE=window.React.useState,pE=t=>t,hE=({start:t,transform:e=pE})=>{const[n,a]=fE(t),i=dE(l=>{a(e(l.currentTarget.value))},[e]);return[n,i]},mE=window.React.useCallback,gE=window.React.useState,vv=(t="")=>{const[e,n]=gE(t),a=mE(i=>{n(i.target.value)},[]);return[e,a]},yE=window.React.createContext,vE=window.React.useCallback,bE=window.React.useContext,wE=window.React.useMemo,xE=window.React.useState;class tr{constructor(e={}){Gi(this,"context");Gi(this,"hooks");Gi(this,"Provider",({children:e,init:n,updater:a})=>{const[i,l]=xE(n),c=vE(f=>{l(m=>{const h=f(m);return this.hooks.beforeUpdate?.(m,h),a(h),this.hooks.afterUpdate?.(m,h),h})},[a]),u=wE(()=>[i,c],[i,c]);return d.jsx(this.context.Provider,{value:u,children:e})});Gi(this,"useSettings",()=>{const e=bE(this.context);if(!e)throw new Error("No context provided");return e});this.context=yE(null),this.hooks=e}}window.React.useMemo;window.Blueprint.Core.Intent;const{Provider:oP,useSettings:ks}=new tr({afterUpdate:(t,e)=>{window?.zoteroRoam?.updateSetting?.("annotations",e)}});window.React.useMemo;const{Provider:aP,useSettings:bv}=new tr;window.React.useMemo;const{Provider:iP,useSettings:Rf}=new tr;window.React.useMemo;window.Blueprint.Core.Intent;const{Provider:sP,useSettings:_c}=new tr;window.React.useMemo;window.Blueprint.Core.Intent;const{Provider:lP,useSettings:si}=new tr({afterUpdate:(t,e)=>{window?.zoteroRoam?.updateSetting?.("notes",e)}});window.React.useMemo;const{Provider:cP,useSettings:wv}=new tr({beforeUpdate:(t,e)=>{t.cacheEnabled===!0&&e.cacheEnabled===!1&&setTimeout(()=>{window.zoteroRoam?.clearDataCache?.()},1e3)}}),CE=window.Blueprint.Core.Icon,EE=window.Blueprint.DateTime.DateInput,SE=window.Blueprint.DateTime.DateRangeInput,xv={canEscapeKeyClose:!1,fill:!0,minimal:!0,placement:"bottom",popoverClassName:[W.POPOVER,W.DATE_PICKER].join(" ")},Cv={formatDate:t=>Ar(t,{brackets:!1}),parseDate:t=>new Date(t)};function TE({value:t,setValue:e}){return d.jsx(EE,{className:W.INPUT_BOX,closeOnSelection:!0,highlightCurrentDay:!0,onChange:e,placeholder:"Date",popoverProps:xv,rightElement:d.jsx(CE,{icon:"timeline-events"}),shortcuts:!1,value:t,...Cv})}function _E({value:t,setValue:e}){return d.jsx(SE,{className:W.INPUT_DATE_RANGE,closeOnSelection:!0,highlightCurrentDay:!0,onChange:e,popoverProps:xv,shortcuts:!1,value:t,...Cv})}const ed=window.React.useCallback,kE=window.React.useMemo,OE=window.Blueprint.Core.Icon,RE=window.Blueprint.Core.MenuItem,AE=window.Blueprint.Select.MultiSelect,IE={className:W.TEXT_SMALL,initialContent:null,itemPredicate:(t,e)=>Ln(t,e.label,{any_case:!0,match:"partial",search_compounds:!1,word_order:"loose"}),itemsEqual:"value",openOnKeyDown:!0,popoverProps:{canEscapeKeyClose:!1,fill:!0,minimal:!0,popoverClassName:W.POPOVER},resetOnSelect:!0,tagInputProps:{inputProps:{autoComplete:"off",placeholder:"Add...",spellCheck:"false"},placeholder:"Click to add an element"},tagRenderer:t=>t.label};function jE({options:t=[],value:e=[],setValue:n,...a}){const i=kE(()=>t.filter(f=>e.includes(f.value)),[t,e]),l=ed((f,m)=>n([...e,f.value]),[n,e]),c=ed((f,m)=>n(e.filter(h=>h!=f.value)),[n,e]),u=ed((f,m)=>{const{handleClick:h}=m,y=e.includes(f.value);return d.jsx(RE,{"aria-selected":y,labelElement:y?d.jsx(OE,{icon:"small-tick"}):null,onClick:h,text:f.label},f.value)},[e]);return d.jsx(AE,{itemRenderer:u,items:t,onItemSelect:l,onRemove:c,selectedItems:i,...IE,...a})}const PE=window.React.useCallback,NE=window.Blueprint.Core.InputGroup;function LE({value:t,setValue:e}){const n=PE(a=>e(a.target.value),[e]);return d.jsx(NE,{className:[W.INPUT_BOX,W.INPUT_TEXT].join(" "),onChange:n,placeholder:"Enter text",value:t})}function DE(t,e="string"){if(t){const n=t.map(a=>({title:a.data.filename||a.data.title,key:a.key,link:_f(a,"href")}));switch(e){case"identity":return n;case"links":return n.map(a=>`[${a.title}](${a.link})`);case"string":default:return n.map(a=>`[${a.title}](${a.link})`).join(", ")}}else switch(e){case"identity":case"links":return[];case"string":default:return""}}function ME(t,{return_as:e="string",brackets:n=!0,use_type:a=!0}={}){const i=t.data.creators.map(l=>{const c="name"in l?l.name:`${[l.firstName,l.lastName].filter(Bt).join(" ")}`;return{name:c,type:l.creatorType,inGraph:Af(c)}});switch(e){case"identity":return i;case"array":return i.map(l=>l.name);case"string":default:return i.map(l=>{const c=n==!0||n=="existing"&&l.inGraph?`[[${l.name}]]`:l.name;return a==!0?c+(l.type=="author"?"":` (${l.type})`):c}).join(", ")}}function BE(t,{return_as:e="string",brackets:n=!0}={}){const a=t.data.tags.map(l=>l.tag),i=n==!0?a.map(l=>`#[[${l}]]`):a;switch(e){case"array":return i;case"string":default:return i.join(" ")}}window.Blueprint.Core.H5;function Ev(t,e=null,{annotationsSettings:n,notesSettings:a}){if(!t||t.length==0)return[];{const i=t.filter(Ec).sort((v,b)=>SC(v.data.annotationSortIndex,b.data.annotationSortIndex)),l=t.filter(Sc).sort((v,b)=>v.data.dateAdded<b.data.dateAdded?-1:1),c=[...kC(i,n),...uv(l,a)],{nest_char:u,nest_position:f,nest_preset:m,nest_use:h}=a;if(h=="preset"&&!m)return c;if(e){const v=(h=="custom"?u:m)||"",b=HE(v,e);if(b){const{uid:x,children:S=[]}=b,_=f=="bottom"?S.length:0;return c.map(R=>R.constructor===String?{string:R,text:R,order:_,parentUID:x}:{...R,order:_,parentUID:x})}}const y=(h=="custom"?u:m)||"";return[{string:y,text:y,children:c}]}}function zE(t,{brackets:e=!0}={}){return Ar(t.data.dateAdded,{brackets:e})}function Tm(t,e="local",n={}){return e=="local"?Es(t,n):Ss(t,n)}function $E(t,e,n,{annotationsSettings:a,notesSettings:i,typemap:l}){const c=[];if(t.data.title&&c.push(`Title:: ${t.data.title}`),t.data.creators.length>0&&c.push(`Author(s):: ${ME(t,{return_as:"string",brackets:!0,use_type:!0})}`),t.data.abstractNote&&c.push(`Abstract:: ${t.data.abstractNote}`),t.data.itemType&&c.push(`Type:: ${UE(t,{brackets:!0},{typemap:l})}`),c.push(`Publication:: ${FE(t,{brackets:!0})}`),t.data.url&&c.push(`URL : ${t.data.url}`),t.data.dateAdded&&c.push(`Date Added:: ${zE(t)}`),c.push(`Zotero links:: ${Tm(t,"local",{format:"markdown",text:"Local library"})}, ${Tm(t,"web",{format:"markdown",text:"Web library"})}`),t.data.tags.length>0&&c.push(`Tags:: ${BE(t,{return_as:"string",brackets:!0})}`),e.length>0&&c.push(`PDF links : ${DE(e,"links").join(", ")}`),n.length>0){const u=Ev(n,null,{annotationsSettings:a,notesSettings:i});c.push(...u)}return c}function FE(t,{brackets:e=!0}={}){const n=t.data.publicationTitle||t.data.bookTitle||t.data.university;return n?e==!0?`[[${n}]]`:n:""}function UE(t,{brackets:e=!0}={},{typemap:n}){const a=n[t.data.itemType]||t.data.itemType;return e==!0?`[[${a}]]`:a}async function qE(t,e){const{param:n,paramValue:a}=t,{item:i,notes:l,page:c,pdfs:u}=e,f={args:{smartblock:t,uid:c.uid},error:null,page:c,raw:{item:i,notes:l,pdfs:u},success:null},m={targetUid:c.uid,variables:{},[n]:a};Object.keys(e).forEach(h=>{m.variables[h]=e[h]});try{return await window.roamjs?.extension?.smartblocks?.triggerSmartblock(m),Promise.resolve({...f,success:!0})}catch(h){return window.zoteroRoam?.error?.({origin:"SmartBlocks",message:"Failed to trigger SmartBlock",context:{...m,error:h.message}}),Promise.resolve({...f,error:h,success:!1})}}async function Sv(t,e,n=0){const{string:a,children:i=[],...l}=e;if(typeof a>"u")throw window.zoteroRoam?.error?.({origin:"Metadata",message:"Bad object received",context:{object:e}}),new Error("All blocks passed as an Object must have a string property.");{const c=await Ud(l.parentUID||t,a,l.order||n,l);if(i.constructor===Array)for(let u=i.length-1;u>=0;u--){const f=i[u];if(typeof f=="object")await Sv(c,f,n);else if(typeof i[u]=="string")await Ud(c,f,n,{});else throw window.zoteroRoam?.error?.({origin:"Metadata",message:"Bad element received",context:{element:i[u]}}),new Error(`All children array items should be of type String or Object, not ${typeof f}`)}else throw window.zoteroRoam?.error?.({origin:"Metadata",message:"Bad object received",context:{object:e}}),new Error(`If provided, the 'children' property of a block should be an Array, not ${typeof i}`)}}async function Tv(t,e,n=0){const a={args:{blocks:e,uid:t},error:null,success:null};if(e.length>0)try{for(let i=e.length-1;i>=0;i--){const l=e[i];if(typeof l=="object")await Sv(t,l,n);else if(typeof l=="string")await Ud(t,l,n,{});else throw window.zoteroRoam?.error?.({origin:"Metadata",message:"Bad element received",context:{element:e[i]}}),new Error(`All array items should be of type String or Object, not ${e[i].constructor.name}`)}return Promise.resolve({...a,success:!0})}catch(i){return Promise.resolve({...a,error:i,success:!1})}else return window.zoteroRoam?.warn?.({origin:"Metadata",message:"Empty metadata array received"}),Promise.resolve(a)}async function Ud(t,e,n=0,a={}){const i=window.roamAlphaAPI.util.generateUID(),l={string:e,uid:i};if(Object.keys(a).length>0)for(const c of Object.keys(a))["children-view-type","alignment","heading"].includes(c)&&(l[c]=a[c]);return await window.roamAlphaAPI.createBlock({location:{"parent-uid":t,order:n},block:l}),i}function HE(t,e){const n=window.roamAlphaAPI.q(`[
		:find (pull ?b [:block/uid :block/children])
		:in $ ?string ?parentUID
		:where
			[?par :block/uid ?parentUID]
			[?par :block/children ?b]
			[?b :block/uid ?uid]
			[?b :block/string ?string]
	]`,t,e);return n[0]?n[0][0]:!1}function Af(t){const e=window.roamAlphaAPI.q(`[
		:find ?uid 
		:in $ ?title 
		:where
			[?p :node/title ?title]
			[?p :block/uid ?uid]
		]`,t);return e[0]?e[0][0]:!1}function VE(){return window.roamAlphaAPI.q(`[
		:find ?title 
		:where
			[?e :node/title ?title]
		]`).flat(1).sort((t,e)=>t.toLowerCase()<e.toLowerCase()?-1:1)}function XE(){return new Map(window.roamAlphaAPI.q(`[
		:find [(pull ?e [:node/title :edit/time :block/uid {:block/_parents [:edit/time]}])...] 
		:where
			[?e :node/title ?t]
			[(clojure.string/starts-with? ?t "@")]
		]`).filter(t=>t.time).map(t=>{const{title:e,uid:n}=t,a=t._parents?Math.max(...t._parents.map(i=>i.time)):t.time;return[e,{edited:new Date(Math.max(a,t.time)),uid:n}]}))}function WE(t){return window.roamAlphaAPI.q(`[
		:find (pull ?e [:node/title :block/uid]) 
		:in $ [?k ...] 
		:where
			[?e :node/title ?title]
			[(clojure.string/starts-with? ?title ?k)]
		]`,t).flat(1)}async function kc({item:t,pdfs:e=[],notes:n=[]},a,i,l,c,u){const f="@"+t.key,m=a||window.roamAlphaAPI.util.generateUID(),h={new:!1,title:f,uid:m};m!=a&&(window.roamAlphaAPI.createPage({page:{title:f,uid:m}}),h.new=!0);const{use:y="default",func:v="",smartblock:{param:b,paramValue:x}}=i;if(y=="smartblock"){const S={item:t,notes:n,page:h,pdfs:e};try{const _=await qE({param:b,paramValue:x},S);return jr({..._,_type:"metadata-added"}),_}catch(_){return window.zoteroRoam?.error?.({origin:"Metadata",message:"Failed to import metadata via SmartBlock for: "+f,detail:_.message,context:{page:h,settings:{annotations:u,metadata:i,notes:c}},showToaster:1e3}),await Promise.reject(_)}}else try{const S=y=="function"&&v?await Tf(v,window,t,e,n):$E(t,e,n,{annotationsSettings:u,notesSettings:c,typemap:l}),_=await Tv(m,S),R={page:h,raw:{item:t,pdfs:e,notes:n},..._};return jr({...R,_type:"metadata-added"}),R}catch(S){return window.zoteroRoam?.error?.({origin:"Metadata",message:"Failed to import metadata for: "+f,detail:S.message,context:{page:h,settings:{annotations:u,metadata:i,notes:c}},showToaster:1e3}),await Promise.reject(S)}}async function _v({item:t,notes:e=[]},n,a,i){const l="@"+t.key,c=n||window.roamAlphaAPI.util.generateUID(),u={new:!1,title:l,uid:c};c!=n&&(window.roamAlphaAPI.createPage({page:{title:l,uid:c}}),u.new=!0);try{const f=Ev(e,c,{annotationsSettings:i,notesSettings:a}),m=await Tv(c,f),h={page:u,raw:{item:t,notes:e},...m};return jr({...h,_type:"notes-added"}),h}catch(f){return window.zoteroRoam?.error?.({origin:"Notes",message:"Failed to import notes for: "+l,detail:f.message,context:{page:u,settings:{annotations:i,notes:a}},showToaster:1e3}),await Promise.reject(f)}}async function _m(t,e="outline"){await window.roamAlphaAPI.ui.rightSidebar.addWindow({window:{type:e,"block-uid":t}})}async function qd(t){await window.roamAlphaAPI.ui.mainWindow.openPage({page:{uid:t}})}const QE=window.React.memo,km=window.React.useCallback,KE=window.React.useState,Om=window.Blueprint.Core.MenuItem,GE=window.Blueprint.Select.MultiSelect,YE=30,ZE={canEscapeKeyClose:!1,className:"zr-input-tags",fill:!0,minimal:!0,popoverClassName:W.POPOVER},JE={inputProps:{"aria-label":"Add tags from Roam",placeholder:"Add tag",title:"Add tags from Roam"},leftIcon:"tag",tagProps:{minimal:!0}},eS={createNewItemFromQuery:t=>t,createNewItemRenderer:(t,e,n)=>d.jsx(Om,{"aria-selected":e,htmlTitle:`Add tag, '${t}'`,icon:"small-plus",onClick:n,text:t}),itemRenderer:(t,e)=>{const{handleClick:n,modifiers:{active:a}}=e;return d.jsx(Om,{"aria-selected":a,onClick:n,text:t},t)},itemListPredicate:(t,e)=>e.filter(n=>Ln(t,n,{any_case:!0,match:"partial",search_compounds:!0,word_order:"loose"})).sort((n,a)=>n.length<a.length?-1:1).slice(0,YE),tagRenderer:t=>t},kv=QE(function(e){const{selectedTags:n,onRemove:a,onSelect:i,...l}=e,[c]=KE(()=>VE()),u=km((m,h)=>i(m),[i]),f=km((m,h)=>a(m),[a]);return d.jsx(GE,{className:W.TEXT_SMALL,createNewItemPosition:"first",fill:!0,initialContent:null,items:c,onItemSelect:u,onRemove:f,openOnKeyDown:!0,placeholder:"Add tags from Roam",popoverProps:ZE,resetOnQuery:!0,resetOnSelect:!0,selectedItems:n,tagInputProps:JE,...eS,...l})});window.React.useMemo;const{Provider:uP,useSettings:Oc}=new tr;window.ReactDOM.unmountComponentAtNode;const tS=window.Blueprint.Core.parseKeyCombo;function Rc(t){const e={};return Object.keys(t).forEach(n=>{const a=t[n];if(a=="")e[n]=a;else try{tS(t[n]),e[n]=t[n]}catch{window.zoteroRoam?.warn?.({origin:"Shortcuts",message:"Invalid hotkey: "+t[n]})}}),e}window.React.useCallback;window.Blueprint.Core.Button;window.Blueprint.Core.Dialog;const{Provider:dP,useSettings:cr}=new tr({afterUpdate:(t,e)=>{window?.zoteroRoam?.updateLibraries?.(e.libraries)}});var Ov={exports:{}};/*! For license information please see badge.bundle.js.LICENSE.txt */(function(t,e){(function(n,a){t.exports=a()})(self,()=>(()=>{var n={184:(c,u)=>{var f;(function(){var m={}.hasOwnProperty;function h(){for(var y=[],v=0;v<arguments.length;v++){var b=arguments[v];if(b){var x=typeof b;if(x==="string"||x==="number")y.push(b);else if(Array.isArray(b)){if(b.length){var S=h.apply(null,b);S&&y.push(S)}}else if(x==="object")if(b.toString===Object.prototype.toString)for(var _ in b)m.call(b,_)&&b[_]&&y.push(_);else y.push(b.toString())}}return y.join(" ")}c.exports?(h.default=h,c.exports=h):(f=function(){return h}.apply(u,[]))===void 0||(c.exports=f)})()},180:(c,u,f)=>{f.d(u,{Z:()=>y});var m=f(645),h=f.n(m)()(function(v){return v[1]});h.push([c.id,"@import url(https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600&display=swap);"]),h.push([c.id,'@font-face{font-family:scite-icons;font-style:normal;font-weight:400;src:url(https://cdn.scite.ai/assets/fonts/scite-icons/scite-icons.eot?v=5);src:url(https://cdn.scite.ai/assets/fonts/scite-icons/scite-icons.eot?v=5#iefix) format("embedded-opentype"),url(https://cdn.scite.ai/assets/fonts/scite-icons/scite-icons.woff2?v=5) format("woff2"),url(https://cdn.scite.ai/assets/fonts/scite-icons/scite-icons.woff?v=5) format("woff"),url(https://cdn.scite.ai/assets/fonts/scite-icons/scite-icons.ttf?v=5) format("truetype"),url(https://cdn.scite.ai/assets/fonts/scite-icons/scite-icons.svg?v=5#fontello) format("svg")}.Icon__icon___rkFdu{speak:none;font-family:scite-icons!important;font-style:normal!important;font-variant:normal!important;font-weight:400!important;line-height:1.5!important;text-transform:none!important}.Icon__unclassified___KG7dh:before{color:#828179;content:"\\e80a"}.Icon__contrasting___XemUp:before{color:#0062ff;content:"\\e80a"}.Icon__mentioning___eZSXr:before{color:#393f43;content:"\\e902"}.Icon__supporting___6A01H:before{color:#26a65b;content:"\\e903"}.Icon__retractions___\\+fJ\\+N:before{color:#ff3b30;content:"\\e901"}.Icon__notices___DbL2K:before{color:#82807d;content:"\\e90a"}.Icon__publications___3dd2q:before{color:#82807d;content:"\\e90b"}.Icon__smallIcon___3rDRZ{line-height:1rem!important}.Icon__openingArrow___pSL8O:before{color:#82807d;content:"\\e922"}.Icon__closingCaret___EMT7i:before{color:#82807d;content:"\\e925"}.Count__count___VwSFw{display:flex;font-size:14.5px}.Count__label___UClje{display:inline-block;margin-right:12px;text-transform:capitalize;width:82px}.Count__smallLabel___E3KvK{margin-right:6px;text-transform:capitalize}.Count__iconCountWrapper___CTSi2{box-sizing:border-box;display:inline-block}.Count__sectionTallyIconCountWrapper___lTlUR{box-sizing:border-box;display:flex}.Count__expandedIconCount___c3tc2{align-items:center;display:inline-flex;justify-content:space-between;width:100%}.Count__number___4oBqJ{margin-left:8px}.Count__smallNumber___wi6E7{margin-left:6px}.Count__horizontal___wp4Sz{border-left:1px solid #cfcfcf;padding:4px 8px}.Count__horizontal___wp4Sz:first-child{border-left:none}.Count__horizontal___wp4Sz>.Count__label___UClje{width:auto}.Count__horizontal___wp4Sz>.Count__sectionTallyIconCountWrapper___lTlUR>.Count__label___UClje{vertical-align:middle;width:auto}.Count__small___kecST{font-size:10px;padding:2px 4px}.Tally__tally___wF-n7 *{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.Tally__tally___wF-n7{background-color:#fff;color:#0e1d1a;cursor:pointer;display:flex;flex-direction:column;font-family:IBM Plex Sans,sans-serif;font-size:16px;line-height:1.5;opacity:0;padding:8px 12px 0 8px;pointer-events:none;transition:all .2s ease-in-out;will-change:opacity,background-color}.Tally__badgeTally___AkCwi{border-radius:8px 0 0 0;padding-bottom:8px}.Tally__horizontal___TYyqc{flex-direction:row;height:100%;padding:0 8px}.Tally__show___EesAt{opacity:1;pointer-events:auto}.Tally__tally___wF-n7:hover{background-color:#f4f4f4}.Tally__logo___k79zv{display:block;margin-bottom:8px;max-width:4em;width:4em}.Tally__logoSmall___JZuyy{max-width:3em;padding-left:4px;width:3em}.Tally__small___lrym1{padding:0 4px}.Tally__forceCollapse___4k5aa{display:none}.HideableTally__tally___TXiqB *{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.HideableTally__tally___TXiqB{background-color:#fff;color:#0e1d1a;cursor:pointer;display:flex;flex-direction:column;font-family:IBM Plex Sans,sans-serif;font-size:16px;line-height:1.5;transition:all .2s ease-in-out;will-change:opacity,background-color}.HideableTally__tally___TXiqB:hover{background-color:#f4f4f4}.HideableTally__hideContainer___w5Wlj{align-items:center;color:#82807d;display:flex;font-size:12px;padding-left:8px;z-index:1}.HideableTally__logoSingleLetter___OwmJA{max-width:1em;width:1em}.HideableTally__logoContainer___kXnxF{align-items:center;display:flex;padding-right:8px}.HideableTally__openingArrow___yBpbp{color:#82807d;font-size:16px;font-weight:600;margin-right:4px}.HideableTally__closingArrow___pKIyO{color:#82807d;display:block;font-size:16px;font-weight:600;max-width:1em;width:1em}.SectionIcon__sectionIcon___nqPTw{speak:none;display:inline-block!important;font-style:normal!important;font-variant:normal!important;font-weight:400!important;line-height:1.5!important;margin-right:5px!important}.SectionIcon__sectionIcon___nqPTw:before{border-radius:4px;color:#fff;display:inline-block!important;padding:2px 4px;text-align:center;transform:scale(1);width:12px}.SectionIcon__introduction___uhUFG:before{background:#002ab2;content:"I"}.SectionIcon__methods___RVooU:before{background:#0036e5;content:"M"}.SectionIcon__results___1k9LI:before{background:#0062ff;content:"R"}.SectionIcon__discussion___Qeyb0:before{background:#66a3ff;content:"D"}.SectionIcon__other___uF\\+vV:before{background:#9ec4f0;content:"O"}.SectionIcon__smallSectionIcon___nCjHN{line-height:1!important}.SectionTally__sectionTallyWidget___aaCj5 *{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.SectionTally__sectionTallyWidget___aaCj5{padding:8px}.SectionTally__sectionTallyWidget___aaCj5:hover{background-color:#f4f4f4!important}.SectionTally__sectionTallyWrapper___nwj2j{align-items:center;display:flex}.SectionTally__tally___es9p7{color:#0e1d1a;cursor:pointer;display:flex;flex-direction:column;font-family:IBM Plex Sans,sans-serif;font-size:16px;line-height:1.5;opacity:0;padding-bottom:0;padding-right:12px;pointer-events:none;transition:all .2s ease-in-out;will-change:opacity,background-color}.SectionTally__badgeTally___ZYqar{border-radius:8px 0 0 0;padding-bottom:8px}.SectionTally__horizontal___-hgL\\+{flex-direction:row;height:100%;padding:0 8px}.SectionTally__show___wciqp{opacity:1;pointer-events:auto}.SectionTally__logo___pEojg{display:block;margin-bottom:8px;max-width:4em;width:4em}.SectionTally__logoSmall___yzxV\\+{max-width:3em;padding-left:4px;width:3em}.SectionTally__small___QBk26{padding:0 4px}.SectionTally__forceCollapse___MexwG{display:none}.SectionTally__chartSubheading___tm7gz{font-family:IBM Plex Sans,sans-serif;font-size:12px;margin-top:4px;text-align:center;width:140px}.SectionTally__chartLabel___Nm4F\\+{display:block;font-weight:600}',""]);const y=h},717:(c,u,f)=>{f.d(u,{Z:()=>y});var m=f(645),h=f.n(m)()(function(v){return v[1]});h.push([c.id,`.AT5rL7aTm8KKajD1LMmpXg\\=\\= {
    font-family: 'IBM Plex Sans', sans-serif;
    font-size: 16px;

    opacity: 0;
    pointer-events: none;
    will-change: opacity;
    transition: opacity 200ms ease-in-out;

    padding: 16px;

    border: 1px solid #ebebeb;
    border-radius: 8px;
    background-color: white;
    box-shadow: 0px 0px 37px 0px rgba(0,0,0,0.05);

    z-index: 9999;

    width: 250px;
    height: auto;

    cursor: pointer;
}

._2Xtymibu3VEV-gq1N5m\\+aA\\=\\= {
    opacity: 1;
    pointer-events: auto;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="top"]:after, .AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="top"]:before {
	top: 100%;
	left: 50%;
	border: solid transparent;
	content: " ";
	height: 0;
	width: 0;
	position: absolute;
	pointer-events: none;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="top"]:after {
	border-color: rgba(255, 255, 255, 0);
	border-top-color: #FFFFFF;
	border-width: 10px;
	margin-left: -10px;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="top"]:before {
	border-color: rgba(235, 235, 235, 0);
	border-top-color: #ebebeb;
	border-width: 11px;
	margin-left: -11px;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="left"]:after, .AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="left"]:before {
	left: 100%;
	top: 50%;
	border: solid transparent;
	content: " ";
	height: 0;
	width: 0;
	position: absolute;
	pointer-events: none;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="left"]:after {
	border-color: rgba(255, 255, 255, 0);
	border-left-color: #ffffff;
	border-width: 10px;
	margin-top: -10px;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="left"]:before {
	border-color: rgba(235, 235, 235, 0);
	border-left-color: #ebebeb;
	border-width: 11px;
	margin-top: -11px;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="right"]:after, .AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="right"]:before {
	right: 100%;
	top: 50%;
	border: solid transparent;
	content: " ";
	height: 0;
	width: 0;
	position: absolute;
	pointer-events: none;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="right"]:after {
	border-color: rgba(255, 255, 255, 0);
	border-right-color: #ffffff;
	border-width: 10px;
	margin-top: -10px;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="right"]:before {
	border-color: rgba(235, 235, 235, 0);
	border-right-color: #ebebeb;
	border-width: 11px;
	margin-top: -11px;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="bottom"]:after, .AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="bottom"]:before {
	bottom: 100%;
	left: 50%;
	border: solid transparent;
	content: " ";
	height: 0;
	width: 0;
	position: absolute;
	pointer-events: none;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="bottom"]:after {
	border-color: rgba(255, 255, 255, 0);
	border-bottom-color: #FFFFFF;
	border-width: 10px;
	margin-left: -10px;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="bottom"]:before {
	border-color: rgba(235, 235, 235, 0);
	border-bottom-color: #ebebeb;
	border-width: 11px;
	margin-left: -11px;
}

.poEjDAx2EewNn\\+kdnuCNbw\\=\\= {
    /* So it doesn't get wider than the badge itself
     * based on the width of the container */
}

.MlC\\+r-CmnNCcLkgYD8Dr3A\\=\\= {
    font-size: 14px;
}


.JqOPSu81MQ6f4Zf9z\\+kqGA\\=\\= {
    line-height: 1.5;
}

.GPqI5vpEM4VpfAAz4n7HHw\\=\\= {
    display: inline-block;
    margin-top: 0.5rem;
}

.-hEUP2QMiuX6a9sr7dC-lw\\=\\= {
	margin: 0.5rem 0;
	font-weight: bold;
}

.LzVcQqdJWiY7N8-Sq-TVuQ\\=\\= {
    display: inline-block;
}

.VbAViV4Slh84iH9X2erp\\+w\\=\\= {
	display: inline;
}

.f3QM6zcZemgDMSOwqIK2TA\\=\\= {
    display: block;
	margin: 0.5rem 0;
	margin-left: 1rem;
}

.bcxXMmw49C9aDY85vGYeXQ\\=\\= {
    color: #828179;
}

.lrdLQN2-BBgxsMDjSuuRzA\\=\\= {
    font-weight: bold;
    color: black;
}

.sUhEpXXzA4dizL2jxbvHFA\\=\\= {
    text-decoration: none;
    color: inherit;
    font-weight: inherit;
    transition: 200ms opacity ease-in-out;
}

.sUhEpXXzA4dizL2jxbvHFA\\=\\=:hover, .sUhEpXXzA4dizL2jxbvHFA\\=\\=:active {
    opacity: 0.8;
}

._13xrsxGwhLy89Cqv\\+5JjQw\\=\\= {
    display: inline-block;
    background-color: #0062FF;

    border-radius: 6px;

    padding: 6px 12px;
	margin-top: 12px;

    color: white;
    text-decoration: none;

    transition: background-color 200ms ease-in-out;
}

._13xrsxGwhLy89Cqv\\+5JjQw\\=\\=:hover {
    background-color: #4da3ff;

    /* For (a) site(s) that specifies a:hover color to be inherit */
    color: white;

}

._80i\\+8Z8J94Dfk-D9w-MGTw\\=\\= {
  display: block;
  width: 5em;
}

.WtCeh9Ck5GR\\+4htw\\+R1oCg\\=\\= {
	display: block;
	margin: 0.5rem 0;
}


.V5f0vIfUVJ2Syht6KzU80Q\\=\\= {
	color: #D84215;
	font-weight: bold;
}

.AvwIr2RDj3wSP30wVV5UDw\\=\\= {
	color: black;
	font-weight: bold;
}
`,""]),h.locals={tooltip:"AT5rL7aTm8KKajD1LMmpXg==",tooltipShow:"_2Xtymibu3VEV-gq1N5m+aA==",reference:"poEjDAx2EewNn+kdnuCNbw==",tooltipContent:"MlC+r-CmnNCcLkgYD8Dr3A==",tally:"JqOPSu81MQ6f4Zf9z+kqGA==",tallyCounts:"GPqI5vpEM4VpfAAz4n7HHw==",tallyCount:"-hEUP2QMiuX6a9sr7dC-lw==",labels:"LzVcQqdJWiY7N8-Sq-TVuQ==",noticeLabel:"VbAViV4Slh84iH9X2erp+w==",label:"f3QM6zcZemgDMSOwqIK2TA==",message:"bcxXMmw49C9aDY85vGYeXQ==",bold:"lrdLQN2-BBgxsMDjSuuRzA==",link:"sUhEpXXzA4dizL2jxbvHFA==",button:"_13xrsxGwhLy89Cqv+5JjQw==",logo:"_80i+8Z8J94Dfk-D9w-MGTw==",slogan:"WtCeh9Ck5GR+4htw+R1oCg==",retractionsCopy:"V5f0vIfUVJ2Syht6KzU80Q==",noticeCopy:"AvwIr2RDj3wSP30wVV5UDw=="};const y=h},696:(c,u,f)=>{f.d(u,{Z:()=>y});var m=f(645),h=f.n(m)()(function(v){return v[1]});h.push([c.id,`.scite-badge {
    display: inline-block;
}

.scite-badge .scite-tally {
    border-radius: 8px;
    border: 1px solid #cfcfcf;
    min-height: 120px;

    box-sizing: border-box;
}

.scite-badge[data-show-labels='true'] .scite-tally {
}

.scite-badge[data-layout='horizontal'] .scite-tally {
    min-height: 0px;
    max-height: 32px;
}

.scite-badge:not([data-chart-type]) .scite-section-tally {
    border-radius: 8px;
    height: min-content;
    width: min-content;
    padding: 8px 0px 0px 8px;
    border: 1px solid #cfcfcf;
    box-sizing: border-box;
}

.scite-badge[data-section-tally-layout='horizontal'] .scite-section-tally {
    padding: 0px;
}
`,""]),h.locals={};const y=h},645:c=>{c.exports=function(u){var f=[];return f.toString=function(){return this.map(function(m){var h=u(m);return m[2]?"@media ".concat(m[2]," {").concat(h,"}"):h}).join("")},f.i=function(m,h,y){typeof m=="string"&&(m=[[null,m,""]]);var v={};if(y)for(var b=0;b<this.length;b++){var x=this[b][0];x!=null&&(v[x]=!0)}for(var S=0;S<m.length;S++){var _=[].concat(m[S]);y&&v[_[0]]||(h&&(_[2]?_[2]="".concat(h," and ").concat(_[2]):_[2]=h),f.push(_))}},f}},418:c=>{var u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;function h(y){if(y==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(y)}c.exports=function(){try{if(!Object.assign)return!1;var y=new String("abc");if(y[5]="de",Object.getOwnPropertyNames(y)[0]==="5")return!1;for(var v={},b=0;b<10;b++)v["_"+String.fromCharCode(b)]=b;if(Object.getOwnPropertyNames(v).map(function(S){return v[S]}).join("")!=="0123456789")return!1;var x={};return"abcdefghijklmnopqrst".split("").forEach(function(S){x[S]=S}),Object.keys(Object.assign({},x)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(y,v){for(var b,x,S=h(y),_=1;_<arguments.length;_++){for(var R in b=Object(arguments[_]))f.call(b,R)&&(S[R]=b[R]);if(u){x=u(b);for(var L=0;L<x.length;L++)m.call(b,x[L])&&(S[x[L]]=b[x[L]])}}return S}},448:(c,u,f)=>{var m=f(294),h=f(418),y=f(840);function v(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,s=1;s<arguments.length;s++)o+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!m)throw Error(v(227));var b=new Set,x={};function S(r,o){_(r,o),_(r+"Capture",o)}function _(r,o){for(x[r]=o,r=0;r<o.length;r++)b.add(o[r])}var R=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),L=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U=Object.prototype.hasOwnProperty,X={},ee={};function D(r,o,s,p,g,w,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=s,this.propertyName=r,this.type=o,this.sanitizeURL=w,this.removeEmptyString=E}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new D(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];j[o]=new D(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new D(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new D(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new D(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new D(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new D(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new D(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new D(r,5,!1,r.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function q(r){return r[1].toUpperCase()}function fe(r,o,s,p){var g=j.hasOwnProperty(o)?j[o]:null;(g!==null?g.type===0:!p&&2<o.length&&(o[0]==="o"||o[0]==="O")&&(o[1]==="n"||o[1]==="N"))||(function(w,E,O,A){if(E==null||function(F,oe,ke,he){if(ke!==null&&ke.type===0)return!1;switch(typeof oe){case"function":case"symbol":return!0;case"boolean":return!he&&(ke!==null?!ke.acceptsBooleans:(F=F.toLowerCase().slice(0,5))!=="data-"&&F!=="aria-");default:return!1}}(w,E,O,A))return!0;if(A)return!1;if(O!==null)switch(O.type){case 3:return!E;case 4:return E===!1;case 5:return isNaN(E);case 6:return isNaN(E)||1>E}return!1}(o,s,g,p)&&(s=null),p||g===null?function(w){return!!U.call(ee,w)||!U.call(X,w)&&(L.test(w)?ee[w]=!0:(X[w]=!0,!1))}(o)&&(s===null?r.removeAttribute(o):r.setAttribute(o,""+s)):g.mustUseProperty?r[g.propertyName]=s===null?g.type!==3&&"":s:(o=g.attributeName,p=g.attributeNamespace,s===null?r.removeAttribute(o):(s=(g=g.type)===3||g===4&&s===!0?"":""+s,p?r.setAttributeNS(p,o,s):r.setAttribute(o,s))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(P,q);j[o]=new D(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(P,q);j[o]=new D(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(P,q);j[o]=new D(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new D(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new D(r,1,!1,r.toLowerCase(),null,!0,!0)});var me=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ge=60103,ye=60106,Y=60107,be=60108,se=60114,we=60109,ze=60110,Ke=60112,Le=60113,Je=60120,ft=60115,I=60116,M=60121,G=60128,ue=60129,ae=60130,K=60131;if(typeof Symbol=="function"&&Symbol.for){var te=Symbol.for;ge=te("react.element"),ye=te("react.portal"),Y=te("react.fragment"),be=te("react.strict_mode"),se=te("react.profiler"),we=te("react.provider"),ze=te("react.context"),Ke=te("react.forward_ref"),Le=te("react.suspense"),Je=te("react.suspense_list"),ft=te("react.memo"),I=te("react.lazy"),M=te("react.block"),te("react.scope"),G=te("react.opaque.id"),ue=te("react.debug_trace_mode"),ae=te("react.offscreen"),K=te("react.legacy_hidden")}var Ce,Re=typeof Symbol=="function"&&Symbol.iterator;function Ee(r){return r===null||typeof r!="object"?null:typeof(r=Re&&r[Re]||r["@@iterator"])=="function"?r:null}function ot(r){if(Ce===void 0)try{throw Error()}catch(s){var o=s.stack.trim().match(/\n( *(at )?)/);Ce=o&&o[1]||""}return`
`+Ce+r}var St=!1;function Vt(r,o){if(!r||St)return"";St=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(A){var p=A}Reflect.construct(r,[],o)}else{try{o.call()}catch(A){p=A}r.call(o.prototype)}else{try{throw Error()}catch(A){p=A}r()}}catch(A){if(A&&p&&typeof A.stack=="string"){for(var g=A.stack.split(`
`),w=p.stack.split(`
`),E=g.length-1,O=w.length-1;1<=E&&0<=O&&g[E]!==w[O];)O--;for(;1<=E&&0<=O;E--,O--)if(g[E]!==w[O]){if(E!==1||O!==1)do if(E--,0>--O||g[E]!==w[O])return`
`+g[E].replace(" at new "," at ");while(1<=E&&0<=O);break}}}finally{St=!1,Error.prepareStackTrace=s}return(r=r?r.displayName||r.name:"")?ot(r):""}function Ot(r){switch(r.tag){case 5:return ot(r.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 2:case 15:return Vt(r.type,!1);case 11:return Vt(r.type.render,!1);case 22:return Vt(r.type._render,!1);case 1:return Vt(r.type,!0);default:return""}}function xt(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Y:return"Fragment";case ye:return"Portal";case se:return"Profiler";case be:return"StrictMode";case Le:return"Suspense";case Je:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ze:return(r.displayName||"Context")+".Consumer";case we:return(r._context.displayName||"Context")+".Provider";case Ke:var o=r.render;return o=o.displayName||o.name||"",r.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case ft:return xt(r.type);case M:return xt(r._render);case I:o=r._payload,r=r._init;try{return xt(r(o))}catch{}}return null}function lt(r){switch(typeof r){case"boolean":case"number":case"object":case"string":case"undefined":return r;default:return""}}function Qt(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function mt(r){r._valueTracker||(r._valueTracker=function(o){var s=Qt(o)?"checked":"value",p=Object.getOwnPropertyDescriptor(o.constructor.prototype,s),g=""+o[s];if(!o.hasOwnProperty(s)&&p!==void 0&&typeof p.get=="function"&&typeof p.set=="function"){var w=p.get,E=p.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return w.call(this)},set:function(O){g=""+O,E.call(this,O)}}),Object.defineProperty(o,s,{enumerable:p.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}(r))}function wn(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var s=o.getValue(),p="";return r&&(p=Qt(r)?r.checked?"true":"false":r.value),(r=p)!==s&&(o.setValue(r),!0)}function rn(r){if((r=r||(typeof document<"u"?document:void 0))===void 0)return null;try{return r.activeElement||r.body}catch{return r.body}}function pn(r,o){var s=o.checked;return h({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??r._wrapperState.initialChecked})}function xn(r,o){var s=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;s=lt(o.value!=null?o.value:s),r._wrapperState={initialChecked:p,initialValue:s,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function ur(r,o){(o=o.checked)!=null&&fe(r,"checked",o,!1)}function on(r,o){ur(r,o);var s=lt(o.value),p=o.type;if(s!=null)p==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+s):r.value!==""+s&&(r.value=""+s);else if(p==="submit"||p==="reset")return void r.removeAttribute("value");o.hasOwnProperty("value")?nr(r,o.type,s):o.hasOwnProperty("defaultValue")&&nr(r,o.type,lt(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function dr(r,o,s){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,s||o===r.value||(r.value=o),r.defaultValue=o}(s=r.name)!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,s!==""&&(r.name=s)}function nr(r,o,s){o==="number"&&rn(r.ownerDocument)===r||(s==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+s&&(r.defaultValue=""+s))}function Bn(r,o){return r=h({children:void 0},o),(o=function(s){var p="";return m.Children.forEach(s,function(g){g!=null&&(p+=g)}),p}(o.children))&&(r.children=o),r}function fr(r,o,s,p){if(r=r.options,o){o={};for(var g=0;g<s.length;g++)o["$"+s[g]]=!0;for(s=0;s<r.length;s++)g=o.hasOwnProperty("$"+r[s].value),r[s].selected!==g&&(r[s].selected=g),g&&p&&(r[s].defaultSelected=!0)}else{for(s=""+lt(s),o=null,g=0;g<r.length;g++){if(r[g].value===s)return r[g].selected=!0,void(p&&(r[g].defaultSelected=!0));o!==null||r[g].disabled||(o=r[g])}o!==null&&(o.selected=!0)}}function Kt(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(v(91));return h({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function zo(r,o){var s=o.value;if(s==null){if(s=o.children,o=o.defaultValue,s!=null){if(o!=null)throw Error(v(92));if(Array.isArray(s)){if(!(1>=s.length))throw Error(v(93));s=s[0]}o=s}o==null&&(o=""),s=o}r._wrapperState={initialValue:lt(s)}}function da(r,o){var s=lt(o.value),p=lt(o.defaultValue);s!=null&&((s=""+s)!==r.value&&(r.value=s),o.defaultValue==null&&r.defaultValue!==s&&(r.defaultValue=s)),p!=null&&(r.defaultValue=""+p)}function Lr(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}var $o="http://www.w3.org/1999/xhtml";function hn(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rn(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?hn(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var rr,pr,Dr=(pr=function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for((rr=rr||document.createElement("div")).innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=rr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}},typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,s,p){MSApp.execUnsafeLocalFunction(function(){return pr(r,o)})}:pr);function Mr(r,o){if(o){var s=r.firstChild;if(s&&s===r.lastChild&&s.nodeType===3)return void(s.nodeValue=o)}r.textContent=o}var hr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ui=["Webkit","ms","Moz","O"];function z(r,o,s){return o==null||typeof o=="boolean"||o===""?"":s||typeof o!="number"||o===0||hr.hasOwnProperty(r)&&hr[r]?(""+o).trim():o+"px"}function ne(r,o){for(var s in r=r.style,o)if(o.hasOwnProperty(s)){var p=s.indexOf("--")===0,g=z(s,o[s],p);s==="float"&&(s="cssFloat"),p?r.setProperty(s,g):r[s]=g}}Object.keys(hr).forEach(function(r){ui.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),hr[o]=hr[r]})});var Se=h({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function De(r,o){if(o){if(Se[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(v(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(v(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(v(61))}if(o.style!=null&&typeof o.style!="object")throw Error(v(62))}}function ve(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(r){return(r=r.target||r.srcElement||window).correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var He=null,je=null,$e=null;function at(r){if(r=Ks(r)){if(typeof He!="function")throw Error(v(280));var o=r.stateNode;o&&(o=Kc(o),He(r.stateNode,r.type,o))}}function At(r){je?$e?$e.push(r):$e=[r]:je=r}function pt(){if(je){var r=je,o=$e;if($e=je=null,at(r),o)for(r=0;r<o.length;r++)at(o[r])}}function Nt(r,o){return r(o)}function Tt(r,o,s,p,g){return r(o,s,p,g)}function Gt(){}var wt=Nt,Yt=!1,an=!1;function mr(){je===null&&$e===null||(Gt(),pt())}function An(r,o){var s=r.stateNode;if(s===null)return null;var p=Kc(s);if(p===null)return null;s=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(p=!((r=r.type)==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(s&&typeof s!="function")throw Error(v(231,o,typeof s));return s}var or=!1;if(R)try{var Cn={};Object.defineProperty(Cn,"passive",{get:function(){or=!0}}),window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,Cn)}catch{or=!1}function zn(r,o,s,p,g,w,E,O,A){var F=Array.prototype.slice.call(arguments,3);try{o.apply(s,F)}catch(oe){this.onError(oe)}}var sn=!1,En=null,oo=!1,di=null,Dc={onError:function(r){sn=!0,En=r}};function Mc(r,o,s,p,g,w,E,O,A){sn=!1,En=null,zn.apply(Dc,arguments)}function Br(r){var o=r,s=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do 1026&(o=r).flags&&(s=o.return),r=o.return;while(r)}return o.tag===3?s:null}function Ps(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate)!==null&&(o=r.memoizedState),o!==null)return o.dehydrated}return null}function fa(r){if(Br(r)!==r)throw Error(v(188))}function fi(r,o){for(var s=r.alternate;o!==null;){if(o===r||o===s)return!0;o=o.return}return!1}var dt,pa,Ns,Ls,pi=!1,In=[],gr=null,yr=null,vr=null,br=new Map,ao=new Map,io=[],ha="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ma(r,o,s,p,g){return{blockedOn:r,domEventName:o,eventSystemFlags:16|s,nativeEvent:g,targetContainers:[p]}}function hi(r,o){switch(r){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":br.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(o.pointerId)}}function Fo(r,o,s,p,g,w){return r===null||r.nativeEvent!==w?(r=ma(o,s,p,g,w),o!==null&&(o=Ks(o))!==null&&pa(o),r):(r.eventSystemFlags|=p,o=r.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),r)}function mi(r){var o=Vo(r.target);if(o!==null){var s=Br(o);if(s!==null){if((o=s.tag)===13){if((o=Ps(s))!==null)return r.blockedOn=o,void Ls(r.lanePriority,function(){y.unstable_runWithPriority(r.priority,function(){Ns(s)})})}else if(o===3&&s.stateNode.hydrate)return void(r.blockedOn=s.tag===3?s.stateNode.containerInfo:null)}}r.blockedOn=null}function ga(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var s=Be(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(s!==null)return(o=Ks(s))!==null&&pa(o),r.blockedOn=s,!1;o.shift()}return!0}function gi(r,o,s){ga(r)&&s.delete(o)}function Ds(){for(pi=!1;0<In.length;){var r=In[0];if(r.blockedOn!==null){(r=Ks(r.blockedOn))!==null&&dt(r);break}for(var o=r.targetContainers;0<o.length;){var s=Be(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(s!==null){r.blockedOn=s;break}o.shift()}r.blockedOn===null&&In.shift()}gr!==null&&ga(gr)&&(gr=null),yr!==null&&ga(yr)&&(yr=null),vr!==null&&ga(vr)&&(vr=null),br.forEach(gi),ao.forEach(gi)}function $n(r,o){r.blockedOn===o&&(r.blockedOn=null,pi||(pi=!0,y.unstable_scheduleCallback(y.unstable_NormalPriority,Ds)))}function Uo(r){function o(g){return $n(g,r)}if(0<In.length){$n(In[0],r);for(var s=1;s<In.length;s++){var p=In[s];p.blockedOn===r&&(p.blockedOn=null)}}for(gr!==null&&$n(gr,r),yr!==null&&$n(yr,r),vr!==null&&$n(vr,r),br.forEach(o),ao.forEach(o),s=0;s<io.length;s++)(p=io[s]).blockedOn===r&&(p.blockedOn=null);for(;0<io.length&&(s=io[0]).blockedOn===null;)mi(s),s.blockedOn===null&&io.shift()}function so(r,o){var s={};return s[r.toLowerCase()]=o.toLowerCase(),s["Webkit"+r]="webkit"+o,s["Moz"+r]="moz"+o,s}var lo={animationend:so("Animation","AnimationEnd"),animationiteration:so("Animation","AnimationIteration"),animationstart:so("Animation","AnimationStart"),transitionend:so("Transition","TransitionEnd")},qo={},ya={};function Ho(r){if(qo[r])return qo[r];if(!lo[r])return r;var o,s=lo[r];for(o in s)if(s.hasOwnProperty(o)&&o in ya)return qo[r]=s[o];return r}R&&(ya=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);var va=Ho("animationend"),ba=Ho("animationiteration"),Ms=Ho("animationstart"),yi=Ho("transitionend"),T=new Map,C=new Map,k=["abort","abort",va,"animationEnd",ba,"animationIteration",Ms,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",yi,"transitionEnd","waiting","waiting"];function N(r,o){for(var s=0;s<r.length;s+=2){var p=r[s],g=r[s+1];g="on"+(g[0].toUpperCase()+g.slice(1)),C.set(p,o),T.set(p,g),S(g,[p])}}(0,y.unstable_now)();var B=8;function Q(r){if(1&r)return B=15,1;if(2&r)return B=14,2;if(4&r)return B=13,4;var o=24&r;return o!==0?(B=12,o):32&r?(B=11,32):(o=192&r)!=0?(B=10,o):256&r?(B=9,256):(o=3584&r)!=0?(B=8,o):4096&r?(B=7,4096):(o=4186112&r)!=0?(B=6,o):(o=62914560&r)!=0?(B=5,o):67108864&r?(B=4,67108864):134217728&r?(B=3,134217728):(o=805306368&r)!=0?(B=2,o):1073741824&r?(B=1,1073741824):(B=8,r)}function Z(r,o){var s=r.pendingLanes;if(s===0)return B=0;var p=0,g=0,w=r.expiredLanes,E=r.suspendedLanes,O=r.pingedLanes;if(w!==0)p=w,g=B=15;else if((w=134217727&s)!=0){var A=w&~E;A!==0?(p=Q(A),g=B):(O&=w)!=0&&(p=Q(O),g=B)}else(w=s&~E)!=0?(p=Q(w),g=B):O!==0&&(p=Q(O),g=B);if(p===0)return 0;if(p=s&((0>(p=31-Fe(p))?0:1<<p)<<1)-1,o!==0&&o!==p&&(o&E)==0){if(Q(o),g<=B)return o;B=g}if((o=r.entangledLanes)!==0)for(r=r.entanglements,o&=p;0<o;)g=1<<(s=31-Fe(o)),p|=r[s],o&=~g;return p}function le(r){return(r=-1073741825&r.pendingLanes)!=0?r:1073741824&r?1073741824:0}function J(r,o){switch(r){case 15:return 1;case 14:return 2;case 12:return(r=re(24&~o))===0?J(10,o):r;case 10:return(r=re(192&~o))===0?J(8,o):r;case 8:return(r=re(3584&~o))===0&&(r=re(4186112&~o))===0&&(r=512),r;case 2:return(o=re(805306368&~o))===0&&(o=268435456),o}throw Error(v(358,r))}function re(r){return r&-r}function xe(r){for(var o=[],s=0;31>s;s++)o.push(r);return o}function de(r,o,s){r.pendingLanes|=o;var p=o-1;r.suspendedLanes&=p,r.pingedLanes&=p,(r=r.eventTimes)[o=31-Fe(o)]=s}var Fe=Math.clz32?Math.clz32:function(r){return r===0?32:31-(Pe(r)/Ve|0)|0},Pe=Math.log,Ve=Math.LN2,Qe=y.unstable_UserBlockingPriority,Ue=y.unstable_runWithPriority,nt=!0;function et(r,o,s,p){Yt||Gt();var g=We,w=Yt;Yt=!0;try{Tt(g,r,o,s,p)}finally{(Yt=w)||mr()}}function Xe(r,o,s,p){Ue(Qe,We.bind(null,r,o,s,p))}function We(r,o,s,p){var g;if(nt)if((g=(4&o)==0)&&0<In.length&&-1<ha.indexOf(r))r=ma(null,r,o,s,p),In.push(r);else{var w=Be(r,o,s,p);if(w===null)g&&hi(r,p);else{if(g){if(-1<ha.indexOf(r))return r=ma(w,r,o,s,p),void In.push(r);if(function(E,O,A,F,oe){switch(O){case"focusin":return gr=Fo(gr,E,O,A,F,oe),!0;case"dragenter":return yr=Fo(yr,E,O,A,F,oe),!0;case"mouseover":return vr=Fo(vr,E,O,A,F,oe),!0;case"pointerover":var ke=oe.pointerId;return br.set(ke,Fo(br.get(ke)||null,E,O,A,F,oe)),!0;case"gotpointercapture":return ke=oe.pointerId,ao.set(ke,Fo(ao.get(ke)||null,E,O,A,F,oe)),!0}return!1}(w,r,o,s,p))return;hi(r,p)}vp(r,o,p,null,s)}}}function Be(r,o,s,p){var g=Te(p);if((g=Vo(g))!==null){var w=Br(g);if(w===null)g=null;else{var E=w.tag;if(E===13){if((g=Ps(w))!==null)return g;g=null}else if(E===3){if(w.stateNode.hydrate)return w.tag===3?w.stateNode.containerInfo:null;g=null}else w!==g&&(g=null)}}return vp(r,o,p,g,s),null}var _e=null,qe=null,Me=null;function it(){if(Me)return Me;var r,o,s=qe,p=s.length,g="value"in _e?_e.value:_e.textContent,w=g.length;for(r=0;r<p&&s[r]===g[r];r++);var E=p-r;for(o=1;o<=E&&s[p-o]===g[w-o];o++);return Me=g.slice(r,1<o?1-o:void 0)}function gt(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode)===0&&o===13&&(r=13):r=o,r===10&&(r=13),32<=r||r===13?r:0}function st(){return!0}function Rt(){return!1}function rt(r){function o(s,p,g,w,E){for(var O in this._reactName=s,this._targetInst=g,this.type=p,this.nativeEvent=w,this.target=E,this.currentTarget=null,r)r.hasOwnProperty(O)&&(s=r[O],this[O]=s?s(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?st:Rt,this.isPropagationStopped=Rt,this}return h(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=st)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=st)},persist:function(){},isPersistent:st}),o}var Ut,zt,_t,yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ht=rt(yt),Ct=h({},yt,{view:0,detail:0}),kt=rt(Ct),Et=h({},Ct,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==_t&&(_t&&r.type==="mousemove"?(Ut=r.screenX-_t.screenX,zt=r.screenY-_t.screenY):zt=Ut=0,_t=r),Ut)},movementY:function(r){return"movementY"in r?r.movementY:zt}}),It=rt(Et),en=rt(h({},Et,{dataTransfer:0})),mn=rt(h({},Ct,{relatedTarget:0})),ln=rt(h({},yt,{animationName:0,elapsedTime:0,pseudoElement:0})),wr=h({},yt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Oe=rt(wr),zr=rt(h({},yt,{data:0})),vi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},co={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wi(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):!!(r=co[r])&&!!o[r]}function $r(){return wi}var wa=h({},Ct,{key:function(r){if(r.key){var o=vi[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=gt(r))===13?"Enter":String.fromCharCode(r):r.type==="keydown"||r.type==="keyup"?bi[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(r){return r.type==="keypress"?gt(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?gt(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),uo=rt(wa),Fr=rt(h({},Et,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Fn=rt(h({},Ct,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r})),Ur=rt(h({},yt,{propertyName:0,elapsedTime:0,pseudoElement:0})),qr=h({},Et,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=rt(qr),Bs=[9,13,27,32],Ca=R&&"CompositionEvent"in window,Hr=null;R&&"documentMode"in document&&(Hr=document.documentMode);var zs=R&&"TextEvent"in window&&!Hr,xi=R&&(!Ca||Hr&&8<Hr&&11>=Hr),Ci=String.fromCharCode(32),Ei=!1;function $s(r,o){switch(r){case"keyup":return Bs.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fs(r){return typeof(r=r.detail)=="object"&&"data"in r?r.data:null}var xr=!1,Us={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jf(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Us[r.type]:o==="textarea"}function ep(r,o,s,p){At(p),0<(o=Vs(o,"onChange")).length&&(s=new ht("onChange","change",null,s,p),r.push({event:s,listeners:o}))}var qs=null,Si=null;function tw(r){pp(r,0)}function Hs(r){if(wn(Ri(r)))return r}function nw(r,o){if(r==="change")return o}var tp=!1;if(R){var Bc;if(R){var zc="oninput"in document;if(!zc){var np=document.createElement("div");np.setAttribute("oninput","return;"),zc=typeof np.oninput=="function"}Bc=zc}else Bc=!1;tp=Bc&&(!document.documentMode||9<document.documentMode)}function rp(){qs&&(qs.detachEvent("onpropertychange",op),Si=qs=null)}function op(r){if(r.propertyName==="value"&&Hs(Si)){var o=[];if(ep(o,Si,r,Te(r)),r=tw,Yt)r(o);else{Yt=!0;try{Nt(r,o)}finally{Yt=!1,mr()}}}}function rw(r,o,s){r==="focusin"?(rp(),Si=s,(qs=o).attachEvent("onpropertychange",op)):r==="focusout"&&rp()}function ow(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Hs(Si)}function aw(r,o){if(r==="click")return Hs(o)}function iw(r,o){if(r==="input"||r==="change")return Hs(o)}var Un=typeof Object.is=="function"?Object.is:function(r,o){return r===o&&(r!==0||1/r==1/o)||r!=r&&o!=o},sw=Object.prototype.hasOwnProperty;function Ti(r,o){if(Un(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var s=Object.keys(r),p=Object.keys(o);if(s.length!==p.length)return!1;for(p=0;p<s.length;p++)if(!sw.call(o,s[p])||!Un(r[s[p]],o[s[p]]))return!1;return!0}function ap(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ip(r,o){var s,p=ap(r);for(r=0;p;){if(p.nodeType===3){if(s=r+p.textContent.length,r<=o&&s>=o)return{node:p,offset:o-r};r=s}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=ap(p)}}function sp(r,o){return!(!r||!o)&&(r===o||(!r||r.nodeType!==3)&&(o&&o.nodeType===3?sp(r,o.parentNode):"contains"in r?r.contains(o):!!r.compareDocumentPosition&&!!(16&r.compareDocumentPosition(o))))}function lp(){for(var r=window,o=rn();o instanceof r.HTMLIFrameElement;){try{var s=typeof o.contentWindow.location.href=="string"}catch{s=!1}if(!s)break;o=rn((r=o.contentWindow).document)}return o}function $c(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var lw=R&&"documentMode"in document&&11>=document.documentMode,Ea=null,Fc=null,_i=null,Uc=!1;function cp(r,o,s){var p=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Uc||Ea==null||Ea!==rn(p)||(p="selectionStart"in(p=Ea)&&$c(p)?{start:p.selectionStart,end:p.selectionEnd}:{anchorNode:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset},_i&&Ti(_i,p)||(_i=p,0<(p=Vs(Fc,"onSelect")).length&&(o=new ht("onSelect","select",null,o,s),r.push({event:o,listeners:p}),o.target=Ea)))}N("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),N("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),N(k,2);for(var up="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),qc=0;qc<up.length;qc++)C.set(up[qc],0);_("onMouseEnter",["mouseout","mouseover"]),_("onMouseLeave",["mouseout","mouseover"]),_("onPointerEnter",["pointerout","pointerover"]),_("onPointerLeave",["pointerout","pointerover"]),S("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),S("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),S("onBeforeInput",["compositionend","keypress","textInput","paste"]),S("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dp=new Set("cancel close invalid load scroll toggle".split(" ").concat(ki));function fp(r,o,s){var p=r.type||"unknown-event";r.currentTarget=s,function(g,w,E,O,A,F,oe,ke,he){if(Mc.apply(this,arguments),sn){if(!sn)throw Error(v(198));var Ie=En;sn=!1,En=null,oo||(oo=!0,di=Ie)}}(p,o,void 0,r),r.currentTarget=null}function pp(r,o){o=(4&o)!=0;for(var s=0;s<r.length;s++){var p=r[s],g=p.event;p=p.listeners;e:{var w=void 0;if(o)for(var E=p.length-1;0<=E;E--){var O=p[E],A=O.instance,F=O.currentTarget;if(O=O.listener,A!==w&&g.isPropagationStopped())break e;fp(g,O,F),w=A}else for(E=0;E<p.length;E++){if(A=(O=p[E]).instance,F=O.currentTarget,O=O.listener,A!==w&&g.isPropagationStopped())break e;fp(g,O,F),w=A}}}if(oo)throw r=di,oo=!1,di=null,r}function Lt(r,o){var s=Sp(o),p=r+"__bubble";s.has(p)||(yp(o,r,2,!1),s.add(p))}var hp="_reactListening"+Math.random().toString(36).slice(2);function mp(r){r[hp]||(r[hp]=!0,b.forEach(function(o){dp.has(o)||gp(o,!1,r,null),gp(o,!0,r,null)}))}function gp(r,o,s,p){var g=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,w=s;if(r==="selectionchange"&&s.nodeType!==9&&(w=s.ownerDocument),p!==null&&!o&&dp.has(r)){if(r!=="scroll")return;g|=2,w=p}var E=Sp(w),O=r+"__"+(o?"capture":"bubble");E.has(O)||(o&&(g|=4),yp(w,r,g,o),E.add(O))}function yp(r,o,s,p){var g=C.get(o);switch(g===void 0?2:g){case 0:g=et;break;case 1:g=Xe;break;default:g=We}s=g.bind(null,o,s,r),g=void 0,!or||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),p?g!==void 0?r.addEventListener(o,s,{capture:!0,passive:g}):r.addEventListener(o,s,!0):g!==void 0?r.addEventListener(o,s,{passive:g}):r.addEventListener(o,s,!1)}function vp(r,o,s,p,g){var w=p;if(!(1&o)&&!(2&o)&&p!==null)e:for(;;){if(p===null)return;var E=p.tag;if(E===3||E===4){var O=p.stateNode.containerInfo;if(O===g||O.nodeType===8&&O.parentNode===g)break;if(E===4)for(E=p.return;E!==null;){var A=E.tag;if((A===3||A===4)&&((A=E.stateNode.containerInfo)===g||A.nodeType===8&&A.parentNode===g))return;E=E.return}for(;O!==null;){if((E=Vo(O))===null)return;if((A=E.tag)===5||A===6){p=w=E;continue e}O=O.parentNode}}p=p.return}(function(F,oe,ke){if(an)return F();an=!0;try{wt(F,oe,ke)}finally{an=!1,mr()}})(function(){var F=w,oe=Te(s),ke=[];e:{var he=T.get(r);if(he!==void 0){var Ie=ht,Ye=r;switch(r){case"keypress":if(gt(s)===0)break e;case"keydown":case"keyup":Ie=uo;break;case"focusin":Ye="focus",Ie=mn;break;case"focusout":Ye="blur",Ie=mn;break;case"beforeblur":case"afterblur":Ie=mn;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=It;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=en;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=Fn;break;case va:case ba:case Ms:Ie=ln;break;case yi:Ie=Ur;break;case"scroll":Ie=kt;break;case"wheel":Ie=xa;break;case"copy":case"cut":case"paste":Ie=Oe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=Fr}var Ze=(4&o)!=0,V=!Ze&&r==="scroll",$=Ze?he!==null?he+"Capture":null:he;Ze=[];for(var H,ce=F;ce!==null;){var pe=(H=ce).stateNode;if(H.tag===5&&pe!==null&&(H=pe,$!==null&&(pe=An(ce,$))!=null&&Ze.push(Oi(ce,pe,H))),V)break;ce=ce.return}0<Ze.length&&(he=new Ie(he,Ye,null,s,oe),ke.push({event:he,listeners:Ze}))}}if(!(7&o)){if(Ie=r==="mouseout"||r==="pointerout",(!(he=r==="mouseover"||r==="pointerover")||(16&o)!=0||!(Ye=s.relatedTarget||s.fromElement)||!Vo(Ye)&&!Ye[_a])&&(Ie||he)&&(he=oe.window===oe?oe:(he=oe.ownerDocument)?he.defaultView||he.parentWindow:window,Ie?(Ie=F,(Ye=(Ye=s.relatedTarget||s.toElement)?Vo(Ye):null)!==null&&(Ye!==(V=Br(Ye))||Ye.tag!==5&&Ye.tag!==6)&&(Ye=null)):(Ie=null,Ye=F),Ie!==Ye)){if(Ze=It,pe="onMouseLeave",$="onMouseEnter",ce="mouse",r!=="pointerout"&&r!=="pointerover"||(Ze=Fr,pe="onPointerLeave",$="onPointerEnter",ce="pointer"),V=Ie==null?he:Ri(Ie),H=Ye==null?he:Ri(Ye),(he=new Ze(pe,ce+"leave",Ie,s,oe)).target=V,he.relatedTarget=H,pe=null,Vo(oe)===F&&((Ze=new Ze($,ce+"enter",Ye,s,oe)).target=H,Ze.relatedTarget=V,pe=Ze),V=pe,Ie&&Ye)e:{for($=Ye,ce=0,H=Ze=Ie;H;H=Sa(H))ce++;for(H=0,pe=$;pe;pe=Sa(pe))H++;for(;0<ce-H;)Ze=Sa(Ze),ce--;for(;0<H-ce;)$=Sa($),H--;for(;ce--;){if(Ze===$||$!==null&&Ze===$.alternate)break e;Ze=Sa(Ze),$=Sa($)}Ze=null}else Ze=null;Ie!==null&&bp(ke,he,Ie,Ze,!1),Ye!==null&&V!==null&&bp(ke,V,Ye,Ze,!0)}if((Ie=(he=F?Ri(F):window).nodeName&&he.nodeName.toLowerCase())==="select"||Ie==="input"&&he.type==="file")var tt=nw;else if(Jf(he))if(tp)tt=iw;else{tt=ow;var Ne=rw}else(Ie=he.nodeName)&&Ie.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(tt=aw);switch(tt&&(tt=tt(r,F))?ep(ke,tt,s,oe):(Ne&&Ne(r,he,F),r==="focusout"&&(Ne=he._wrapperState)&&Ne.controlled&&he.type==="number"&&nr(he,"number",he.value)),Ne=F?Ri(F):window,r){case"focusin":(Jf(Ne)||Ne.contentEditable==="true")&&(Ea=Ne,Fc=F,_i=null);break;case"focusout":_i=Fc=Ea=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,cp(ke,s,oe);break;case"selectionchange":if(lw)break;case"keydown":case"keyup":cp(ke,s,oe)}var ct;if(Ca)e:{switch(r){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else xr?$s(r,s)&&(bt="onCompositionEnd"):r==="keydown"&&s.keyCode===229&&(bt="onCompositionStart");bt&&(xi&&s.locale!=="ko"&&(xr||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&xr&&(ct=it()):(qe="value"in(_e=oe)?_e.value:_e.textContent,xr=!0)),0<(Ne=Vs(F,bt)).length&&(bt=new zr(bt,r,null,s,oe),ke.push({event:bt,listeners:Ne}),(ct||(ct=Fs(s))!==null)&&(bt.data=ct))),(ct=zs?function(Ge,jt){switch(Ge){case"compositionend":return Fs(jt);case"keypress":return jt.which!==32?null:(Ei=!0,Ci);case"textInput":return(Ge=jt.data)===Ci&&Ei?null:Ge;default:return null}}(r,s):function(Ge,jt){if(xr)return Ge==="compositionend"||!Ca&&$s(Ge,jt)?(Ge=it(),Me=qe=_e=null,xr=!1,Ge):null;switch(Ge){case"paste":default:return null;case"keypress":if(!(jt.ctrlKey||jt.altKey||jt.metaKey)||jt.ctrlKey&&jt.altKey){if(jt.char&&1<jt.char.length)return jt.char;if(jt.which)return String.fromCharCode(jt.which)}return null;case"compositionend":return xi&&jt.locale!=="ko"?null:jt.data}}(r,s))&&0<(F=Vs(F,"onBeforeInput")).length&&(oe=new zr("onBeforeInput","beforeinput",null,s,oe),ke.push({event:oe,listeners:F}),oe.data=ct)}pp(ke,o)})}function Oi(r,o,s){return{instance:r,listener:o,currentTarget:s}}function Vs(r,o){for(var s=o+"Capture",p=[];r!==null;){var g=r,w=g.stateNode;g.tag===5&&w!==null&&(g=w,(w=An(r,s))!=null&&p.unshift(Oi(r,w,g)),(w=An(r,o))!=null&&p.push(Oi(r,w,g))),r=r.return}return p}function Sa(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function bp(r,o,s,p,g){for(var w=o._reactName,E=[];s!==null&&s!==p;){var O=s,A=O.alternate,F=O.stateNode;if(A!==null&&A===p)break;O.tag===5&&F!==null&&(O=F,g?(A=An(s,w))!=null&&E.unshift(Oi(s,A,O)):g||(A=An(s,w))!=null&&E.push(Oi(s,A,O))),s=s.return}E.length!==0&&r.push({event:o,listeners:E})}function Xs(){}var Hc=null,Vc=null;function wp(r,o){switch(r){case"button":case"input":case"select":case"textarea":return!!o.autoFocus}return!1}function Xc(r,o){return r==="textarea"||r==="option"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var xp=typeof setTimeout=="function"?setTimeout:void 0,cw=typeof clearTimeout=="function"?clearTimeout:void 0;function Wc(r){(r.nodeType===1||r.nodeType===9&&(r=r.body)!=null)&&(r.textContent="")}function Ta(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break}return r}function Cp(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var s=r.data;if(s==="$"||s==="$!"||s==="$?"){if(o===0)return r;o--}else s==="/$"&&o++}r=r.previousSibling}return null}var Qc=0,Ws=Math.random().toString(36).slice(2),fo="__reactFiber$"+Ws,Qs="__reactProps$"+Ws,_a="__reactContainer$"+Ws,Ep="__reactEvents$"+Ws;function Vo(r){var o=r[fo];if(o)return o;for(var s=r.parentNode;s;){if(o=s[_a]||s[fo]){if(s=o.alternate,o.child!==null||s!==null&&s.child!==null)for(r=Cp(r);r!==null;){if(s=r[fo])return s;r=Cp(r)}return o}s=(r=s).parentNode}return null}function Ks(r){return!(r=r[fo]||r[_a])||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ri(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(v(33))}function Kc(r){return r[Qs]||null}function Sp(r){var o=r[Ep];return o===void 0&&(o=r[Ep]=new Set),o}var Gc=[],ka=-1;function po(r){return{current:r}}function $t(r){0>ka||(r.current=Gc[ka],Gc[ka]=null,ka--)}function Ft(r,o){ka++,Gc[ka]=r.current,r.current=o}var ho={},cn=po(ho),Sn=po(!1),Xo=ho;function Oa(r,o){var s=r.type.contextTypes;if(!s)return ho;var p=r.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var g,w={};for(g in s)w[g]=o[g];return p&&((r=r.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=w),w}function jn(r){return r.childContextTypes!=null}function Yc(){$t(Sn),$t(cn)}function Tp(r,o,s){if(cn.current!==ho)throw Error(v(168));Ft(cn,o),Ft(Sn,s)}function _p(r,o,s){var p=r.stateNode;if(r=o.childContextTypes,typeof p.getChildContext!="function")return s;for(var g in p=p.getChildContext())if(!(g in r))throw Error(v(108,xt(o)||"Unknown",g));return h({},s,p)}function Gs(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ho,Xo=cn.current,Ft(cn,r),Ft(Sn,Sn.current),!0}function kp(r,o,s){var p=r.stateNode;if(!p)throw Error(v(169));s?(r=_p(r,o,Xo),p.__reactInternalMemoizedMergedChildContext=r,$t(Sn),$t(cn),Ft(cn,r)):$t(Sn),Ft(Sn,s)}var Zc=null,Wo=null,uw=y.unstable_runWithPriority,Jc=y.unstable_scheduleCallback,eu=y.unstable_cancelCallback,dw=y.unstable_shouldYield,Op=y.unstable_requestPaint,tu=y.unstable_now,fw=y.unstable_getCurrentPriorityLevel,Ys=y.unstable_ImmediatePriority,Rp=y.unstable_UserBlockingPriority,Ap=y.unstable_NormalPriority,Ip=y.unstable_LowPriority,jp=y.unstable_IdlePriority,nu={},pw=Op!==void 0?Op:function(){},Vr=null,Zs=null,ru=!1,Pp=tu(),un=1e4>Pp?tu:function(){return tu()-Pp};function Ra(){switch(fw()){case Ys:return 99;case Rp:return 98;case Ap:return 97;case Ip:return 96;case jp:return 95;default:throw Error(v(332))}}function Np(r){switch(r){case 99:return Ys;case 98:return Rp;case 97:return Ap;case 96:return Ip;case 95:return jp;default:throw Error(v(332))}}function Aa(r,o){return r=Np(r),uw(r,o)}function Ai(r,o,s){return r=Np(r),Jc(r,o,s)}function Xr(){if(Zs!==null){var r=Zs;Zs=null,eu(r)}Lp()}function Lp(){if(!ru&&Vr!==null){ru=!0;var r=0;try{var o=Vr;Aa(99,function(){for(;r<o.length;r++){var s=o[r];do s=s(!0);while(s!==null)}}),Vr=null}catch(s){throw Vr!==null&&(Vr=Vr.slice(r+1)),Jc(Ys,Xr),s}finally{ru=!1}}}var hw=me.ReactCurrentBatchConfig;function ar(r,o){if(r&&r.defaultProps){for(var s in o=h({},o),r=r.defaultProps)o[s]===void 0&&(o[s]=r[s]);return o}return o}var Js=po(null),el=null,Ia=null,tl=null;function ou(){tl=Ia=el=null}function au(r){var o=Js.current;$t(Js),r.type._context._currentValue=o}function Dp(r,o){for(;r!==null;){var s=r.alternate;if((r.childLanes&o)===o){if(s===null||(s.childLanes&o)===o)break;s.childLanes|=o}else r.childLanes|=o,s!==null&&(s.childLanes|=o);r=r.return}}function ja(r,o){el=r,tl=Ia=null,(r=r.dependencies)!==null&&r.firstContext!==null&&(r.lanes&o&&(ir=!0),r.firstContext=null)}function qn(r,o){if(tl!==r&&o!==!1&&o!==0)if(typeof o=="number"&&o!==1073741823||(tl=r,o=1073741823),o={context:r,observedBits:o,next:null},Ia===null){if(el===null)throw Error(v(308));Ia=o,el.dependencies={lanes:0,firstContext:o,responders:null}}else Ia=Ia.next=o;return r._currentValue}var mo=!1;function iu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Mp(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function go(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function yo(r,o){if((r=r.updateQueue)!==null){var s=(r=r.shared).pending;s===null?o.next=o:(o.next=s.next,s.next=o),r.pending=o}}function Bp(r,o){var s=r.updateQueue,p=r.alternate;if(p!==null&&s===(p=p.updateQueue)){var g=null,w=null;if((s=s.firstBaseUpdate)!==null){do{var E={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};w===null?g=w=E:w=w.next=E,s=s.next}while(s!==null);w===null?g=w=o:w=w.next=o}else g=w=o;return s={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:p.shared,effects:p.effects},void(r.updateQueue=s)}(r=s.lastBaseUpdate)===null?s.firstBaseUpdate=o:r.next=o,s.lastBaseUpdate=o}function Ii(r,o,s,p){var g=r.updateQueue;mo=!1;var w=g.firstBaseUpdate,E=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var A=O,F=A.next;A.next=null,E===null?w=F:E.next=F,E=A;var oe=r.alternate;if(oe!==null){var ke=(oe=oe.updateQueue).lastBaseUpdate;ke!==E&&(ke===null?oe.firstBaseUpdate=F:ke.next=F,oe.lastBaseUpdate=A)}}if(w!==null){for(ke=g.baseState,E=0,oe=F=A=null;;){O=w.lane;var he=w.eventTime;if((p&O)===O){oe!==null&&(oe=oe.next={eventTime:he,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var Ie=r,Ye=w;switch(O=o,he=s,Ye.tag){case 1:if(typeof(Ie=Ye.payload)=="function"){ke=Ie.call(he,ke,O);break e}ke=Ie;break e;case 3:Ie.flags=-4097&Ie.flags|64;case 0:if((O=typeof(Ie=Ye.payload)=="function"?Ie.call(he,ke,O):Ie)==null)break e;ke=h({},ke,O);break e;case 2:mo=!0}}w.callback!==null&&(r.flags|=32,(O=g.effects)===null?g.effects=[w]:O.push(w))}else he={eventTime:he,lane:O,tag:w.tag,payload:w.payload,callback:w.callback,next:null},oe===null?(F=oe=he,A=ke):oe=oe.next=he,E|=O;if((w=w.next)===null){if((O=g.shared.pending)===null)break;w=O.next,O.next=null,g.lastBaseUpdate=O,g.shared.pending=null}}oe===null&&(A=ke),g.baseState=A,g.firstBaseUpdate=F,g.lastBaseUpdate=oe,qi|=E,r.lanes=E,r.memoizedState=ke}}function zp(r,o,s){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var p=r[o],g=p.callback;if(g!==null){if(p.callback=null,p=s,typeof g!="function")throw Error(v(191,g));g.call(p)}}}var $p=new m.Component().refs;function nl(r,o,s,p){s=(s=s(p,o=r.memoizedState))==null?o:h({},o,s),r.memoizedState=s,r.lanes===0&&(r.updateQueue.baseState=s)}var rl={isMounted:function(r){return!!(r=r._reactInternals)&&Br(r)===r},enqueueSetState:function(r,o,s){r=r._reactInternals;var p=Nn(),g=xo(r),w=go(p,g);w.payload=o,s!=null&&(w.callback=s),yo(r,w),Co(r,g,p)},enqueueReplaceState:function(r,o,s){r=r._reactInternals;var p=Nn(),g=xo(r),w=go(p,g);w.tag=1,w.payload=o,s!=null&&(w.callback=s),yo(r,w),Co(r,g,p)},enqueueForceUpdate:function(r,o){r=r._reactInternals;var s=Nn(),p=xo(r),g=go(s,p);g.tag=2,o!=null&&(g.callback=o),yo(r,g),Co(r,p,s)}};function Fp(r,o,s,p,g,w,E){return typeof(r=r.stateNode).shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,w,E):!(o.prototype&&o.prototype.isPureReactComponent&&Ti(s,p)&&Ti(g,w))}function Up(r,o,s){var p=!1,g=ho,w=o.contextType;return typeof w=="object"&&w!==null?w=qn(w):(g=jn(o)?Xo:cn.current,w=(p=(p=o.contextTypes)!=null)?Oa(r,g):ho),o=new o(s,w),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=rl,r.stateNode=o,o._reactInternals=r,p&&((r=r.stateNode).__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=w),o}function qp(r,o,s,p){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(s,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(s,p),o.state!==r&&rl.enqueueReplaceState(o,o.state,null)}function su(r,o,s,p){var g=r.stateNode;g.props=s,g.state=r.memoizedState,g.refs=$p,iu(r);var w=o.contextType;typeof w=="object"&&w!==null?g.context=qn(w):(w=jn(o)?Xo:cn.current,g.context=Oa(r,w)),Ii(r,s,g,p),g.state=r.memoizedState,typeof(w=o.getDerivedStateFromProps)=="function"&&(nl(r,o,w,s),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&rl.enqueueReplaceState(g,g.state,null),Ii(r,s,g,p),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4)}var ol=Array.isArray;function ji(r,o,s){if((r=s.ref)!==null&&typeof r!="function"&&typeof r!="object"){if(s._owner){if(s=s._owner){if(s.tag!==1)throw Error(v(309));var p=s.stateNode}if(!p)throw Error(v(147,r));var g=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===g?o.ref:(o=function(w){var E=p.refs;E===$p&&(E=p.refs={}),w===null?delete E[g]:E[g]=w},o._stringRef=g,o)}if(typeof r!="string")throw Error(v(284));if(!s._owner)throw Error(v(290,r))}return r}function al(r,o){if(r.type!=="textarea")throw Error(v(31,Object.prototype.toString.call(o)==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":o))}function Hp(r){function o(V,$){if(r){var H=V.lastEffect;H!==null?(H.nextEffect=$,V.lastEffect=$):V.firstEffect=V.lastEffect=$,$.nextEffect=null,$.flags=8}}function s(V,$){if(!r)return null;for(;$!==null;)o(V,$),$=$.sibling;return null}function p(V,$){for(V=new Map;$!==null;)$.key!==null?V.set($.key,$):V.set($.index,$),$=$.sibling;return V}function g(V,$){return(V=So(V,$)).index=0,V.sibling=null,V}function w(V,$,H){return V.index=H,r?(H=V.alternate)!==null?(H=H.index)<$?(V.flags=2,$):H:(V.flags=2,$):$}function E(V){return r&&V.alternate===null&&(V.flags=2),V}function O(V,$,H,ce){return $===null||$.tag!==6?(($=Uu(H,V.mode,ce)).return=V,$):(($=g($,H)).return=V,$)}function A(V,$,H,ce){return $!==null&&$.elementType===H.type?((ce=g($,H.props)).ref=ji(V,$,H),ce.return=V,ce):((ce=Cl(H.type,H.key,H.props,null,V.mode,ce)).ref=ji(V,$,H),ce.return=V,ce)}function F(V,$,H,ce){return $===null||$.tag!==4||$.stateNode.containerInfo!==H.containerInfo||$.stateNode.implementation!==H.implementation?(($=qu(H,V.mode,ce)).return=V,$):(($=g($,H.children||[])).return=V,$)}function oe(V,$,H,ce,pe){return $===null||$.tag!==7?(($=Fa(H,V.mode,ce,pe)).return=V,$):(($=g($,H)).return=V,$)}function ke(V,$,H){if(typeof $=="string"||typeof $=="number")return($=Uu(""+$,V.mode,H)).return=V,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case ge:return(H=Cl($.type,$.key,$.props,null,V.mode,H)).ref=ji(V,null,$),H.return=V,H;case ye:return($=qu($,V.mode,H)).return=V,$}if(ol($)||Ee($))return($=Fa($,V.mode,H,null)).return=V,$;al(V,$)}return null}function he(V,$,H,ce){var pe=$!==null?$.key:null;if(typeof H=="string"||typeof H=="number")return pe!==null?null:O(V,$,""+H,ce);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ge:return H.key===pe?H.type===Y?oe(V,$,H.props.children,ce,pe):A(V,$,H,ce):null;case ye:return H.key===pe?F(V,$,H,ce):null}if(ol(H)||Ee(H))return pe!==null?null:oe(V,$,H,ce,null);al(V,H)}return null}function Ie(V,$,H,ce,pe){if(typeof ce=="string"||typeof ce=="number")return O($,V=V.get(H)||null,""+ce,pe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case ge:return V=V.get(ce.key===null?H:ce.key)||null,ce.type===Y?oe($,V,ce.props.children,pe,ce.key):A($,V,ce,pe);case ye:return F($,V=V.get(ce.key===null?H:ce.key)||null,ce,pe)}if(ol(ce)||Ee(ce))return oe($,V=V.get(H)||null,ce,pe,null);al($,ce)}return null}function Ye(V,$,H,ce){for(var pe=null,tt=null,Ne=$,ct=$=0,bt=null;Ne!==null&&ct<H.length;ct++){Ne.index>ct?(bt=Ne,Ne=null):bt=Ne.sibling;var Ge=he(V,Ne,H[ct],ce);if(Ge===null){Ne===null&&(Ne=bt);break}r&&Ne&&Ge.alternate===null&&o(V,Ne),$=w(Ge,$,ct),tt===null?pe=Ge:tt.sibling=Ge,tt=Ge,Ne=bt}if(ct===H.length)return s(V,Ne),pe;if(Ne===null){for(;ct<H.length;ct++)(Ne=ke(V,H[ct],ce))!==null&&($=w(Ne,$,ct),tt===null?pe=Ne:tt.sibling=Ne,tt=Ne);return pe}for(Ne=p(V,Ne);ct<H.length;ct++)(bt=Ie(Ne,V,ct,H[ct],ce))!==null&&(r&&bt.alternate!==null&&Ne.delete(bt.key===null?ct:bt.key),$=w(bt,$,ct),tt===null?pe=bt:tt.sibling=bt,tt=bt);return r&&Ne.forEach(function(jt){return o(V,jt)}),pe}function Ze(V,$,H,ce){var pe=Ee(H);if(typeof pe!="function")throw Error(v(150));if((H=pe.call(H))==null)throw Error(v(151));for(var tt=pe=null,Ne=$,ct=$=0,bt=null,Ge=H.next();Ne!==null&&!Ge.done;ct++,Ge=H.next()){Ne.index>ct?(bt=Ne,Ne=null):bt=Ne.sibling;var jt=he(V,Ne,Ge.value,ce);if(jt===null){Ne===null&&(Ne=bt);break}r&&Ne&&jt.alternate===null&&o(V,Ne),$=w(jt,$,ct),tt===null?pe=jt:tt.sibling=jt,tt=jt,Ne=bt}if(Ge.done)return s(V,Ne),pe;if(Ne===null){for(;!Ge.done;ct++,Ge=H.next())(Ge=ke(V,Ge.value,ce))!==null&&($=w(Ge,$,ct),tt===null?pe=Ge:tt.sibling=Ge,tt=Ge);return pe}for(Ne=p(V,Ne);!Ge.done;ct++,Ge=H.next())(Ge=Ie(Ne,V,ct,Ge.value,ce))!==null&&(r&&Ge.alternate!==null&&Ne.delete(Ge.key===null?ct:Ge.key),$=w(Ge,$,ct),tt===null?pe=Ge:tt.sibling=Ge,tt=Ge);return r&&Ne.forEach(function(zw){return o(V,zw)}),pe}return function(V,$,H,ce){var pe=typeof H=="object"&&H!==null&&H.type===Y&&H.key===null;pe&&(H=H.props.children);var tt=typeof H=="object"&&H!==null;if(tt)switch(H.$$typeof){case ge:e:{for(tt=H.key,pe=$;pe!==null;){if(pe.key===tt){if(pe.tag===7){if(H.type===Y){s(V,pe.sibling),($=g(pe,H.props.children)).return=V,V=$;break e}}else if(pe.elementType===H.type){s(V,pe.sibling),($=g(pe,H.props)).ref=ji(V,pe,H),$.return=V,V=$;break e}s(V,pe);break}o(V,pe),pe=pe.sibling}H.type===Y?(($=Fa(H.props.children,V.mode,ce,H.key)).return=V,V=$):((ce=Cl(H.type,H.key,H.props,null,V.mode,ce)).ref=ji(V,$,H),ce.return=V,V=ce)}return E(V);case ye:e:{for(pe=H.key;$!==null;){if($.key===pe){if($.tag===4&&$.stateNode.containerInfo===H.containerInfo&&$.stateNode.implementation===H.implementation){s(V,$.sibling),($=g($,H.children||[])).return=V,V=$;break e}s(V,$);break}o(V,$),$=$.sibling}($=qu(H,V.mode,ce)).return=V,V=$}return E(V)}if(typeof H=="string"||typeof H=="number")return H=""+H,$!==null&&$.tag===6?(s(V,$.sibling),($=g($,H)).return=V,V=$):(s(V,$),($=Uu(H,V.mode,ce)).return=V,V=$),E(V);if(ol(H))return Ye(V,$,H,ce);if(Ee(H))return Ze(V,$,H,ce);if(tt&&al(V,H),H===void 0&&!pe)switch(V.tag){case 1:case 22:case 0:case 11:case 15:throw Error(v(152,xt(V.type)||"Component"))}return s(V,$)}}var il=Hp(!0),Vp=Hp(!1),Pi={},Cr=po(Pi),Ni=po(Pi),Li=po(Pi);function Qo(r){if(r===Pi)throw Error(v(174));return r}function lu(r,o){switch(Ft(Li,o),Ft(Ni,r),Ft(Cr,Pi),r=o.nodeType){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Rn(null,"");break;default:o=Rn(o=(r=r===8?o.parentNode:o).namespaceURI||null,r=r.tagName)}$t(Cr),Ft(Cr,o)}function Pa(){$t(Cr),$t(Ni),$t(Li)}function Xp(r){Qo(Li.current);var o=Qo(Cr.current),s=Rn(o,r.type);o!==s&&(Ft(Ni,r),Ft(Cr,s))}function cu(r){Ni.current===r&&($t(Cr),$t(Ni))}var qt=po(0);function sl(r){for(var o=r;o!==null;){if(o.tag===13){var s=o.memoizedState;if(s!==null&&((s=s.dehydrated)===null||s.data==="$?"||s.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(64&o.flags)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Wr=null,vo=null,Er=!1;function Wp(r,o){var s=Xn(5,null,null,0);s.elementType="DELETED",s.type="DELETED",s.stateNode=o,s.return=r,s.flags=8,r.lastEffect!==null?(r.lastEffect.nextEffect=s,r.lastEffect=s):r.firstEffect=r.lastEffect=s}function Qp(r,o){switch(r.tag){case 5:var s=r.type;return(o=o.nodeType!==1||s.toLowerCase()!==o.nodeName.toLowerCase()?null:o)!==null&&(r.stateNode=o,!0);case 6:return(o=r.pendingProps===""||o.nodeType!==3?null:o)!==null&&(r.stateNode=o,!0);default:return!1}}function uu(r){if(Er){var o=vo;if(o){var s=o;if(!Qp(r,o)){if(!(o=Ta(s.nextSibling))||!Qp(r,o))return r.flags=-1025&r.flags|2,Er=!1,void(Wr=r);Wp(Wr,s)}Wr=r,vo=Ta(o.firstChild)}else r.flags=-1025&r.flags|2,Er=!1,Wr=r}}function Kp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Wr=r}function ll(r){if(r!==Wr)return!1;if(!Er)return Kp(r),Er=!0,!1;var o=r.type;if(r.tag!==5||o!=="head"&&o!=="body"&&!Xc(o,r.memoizedProps))for(o=vo;o;)Wp(r,o),o=Ta(o.nextSibling);if(Kp(r),r.tag===13){if(!(r=(r=r.memoizedState)!==null?r.dehydrated:null))throw Error(v(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var s=r.data;if(s==="/$"){if(o===0){vo=Ta(r.nextSibling);break e}o--}else s!=="$"&&s!=="$!"&&s!=="$?"||o++}r=r.nextSibling}vo=null}}else vo=Wr?Ta(r.stateNode.nextSibling):null;return!0}function du(){vo=Wr=null,Er=!1}var Na=[];function fu(){for(var r=0;r<Na.length;r++)Na[r]._workInProgressVersionPrimary=null;Na.length=0}var Di=me.ReactCurrentDispatcher,Hn=me.ReactCurrentBatchConfig,Mi=0,Ht=null,gn=null,tn=null,cl=!1,Bi=!1;function Tn(){throw Error(v(321))}function pu(r,o){if(o===null)return!1;for(var s=0;s<o.length&&s<r.length;s++)if(!Un(r[s],o[s]))return!1;return!0}function hu(r,o,s,p,g,w){if(Mi=w,Ht=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Di.current=r===null||r.memoizedState===null?gw:yw,r=s(p,g),Bi){w=0;do{if(Bi=!1,!(25>w))throw Error(v(301));w+=1,tn=gn=null,o.updateQueue=null,Di.current=vw,r=s(p,g)}while(Bi)}if(Di.current=pl,o=gn!==null&&gn.next!==null,Mi=0,tn=gn=Ht=null,cl=!1,o)throw Error(v(300));return r}function Ko(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Ht.memoizedState=tn=r:tn=tn.next=r,tn}function Go(){if(gn===null){var r=Ht.alternate;r=r!==null?r.memoizedState:null}else r=gn.next;var o=tn===null?Ht.memoizedState:tn.next;if(o!==null)tn=o,gn=r;else{if(r===null)throw Error(v(310));r={memoizedState:(gn=r).memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},tn===null?Ht.memoizedState=tn=r:tn=tn.next=r}return tn}function Sr(r,o){return typeof o=="function"?o(r):o}function zi(r){var o=Go(),s=o.queue;if(s===null)throw Error(v(311));s.lastRenderedReducer=r;var p=gn,g=p.baseQueue,w=s.pending;if(w!==null){if(g!==null){var E=g.next;g.next=w.next,w.next=E}p.baseQueue=g=w,s.pending=null}if(g!==null){g=g.next,p=p.baseState;var O=E=w=null,A=g;do{var F=A.lane;if((Mi&F)===F)O!==null&&(O=O.next={lane:0,action:A.action,eagerReducer:A.eagerReducer,eagerState:A.eagerState,next:null}),p=A.eagerReducer===r?A.eagerState:r(p,A.action);else{var oe={lane:F,action:A.action,eagerReducer:A.eagerReducer,eagerState:A.eagerState,next:null};O===null?(E=O=oe,w=p):O=O.next=oe,Ht.lanes|=F,qi|=F}A=A.next}while(A!==null&&A!==g);O===null?w=p:O.next=E,Un(p,o.memoizedState)||(ir=!0),o.memoizedState=p,o.baseState=w,o.baseQueue=O,s.lastRenderedState=p}return[o.memoizedState,s.dispatch]}function $i(r){var o=Go(),s=o.queue;if(s===null)throw Error(v(311));s.lastRenderedReducer=r;var p=s.dispatch,g=s.pending,w=o.memoizedState;if(g!==null){s.pending=null;var E=g=g.next;do w=r(w,E.action),E=E.next;while(E!==g);Un(w,o.memoizedState)||(ir=!0),o.memoizedState=w,o.baseQueue===null&&(o.baseState=w),s.lastRenderedState=w}return[w,p]}function Gp(r,o,s){var p=o._getVersion;p=p(o._source);var g=o._workInProgressVersionPrimary;if(g!==null?r=g===p:(r=r.mutableReadLanes,(r=(Mi&r)===r)&&(o._workInProgressVersionPrimary=p,Na.push(o))),r)return s(o._source);throw Na.push(o),Error(v(350))}function Yp(r,o,s,p){var g=yn;if(g===null)throw Error(v(349));var w=o._getVersion,E=w(o._source),O=Di.current,A=O.useState(function(){return Gp(g,o,s)}),F=A[1],oe=A[0];A=tn;var ke=r.memoizedState,he=ke.refs,Ie=he.getSnapshot,Ye=ke.source;ke=ke.subscribe;var Ze=Ht;return r.memoizedState={refs:he,source:o,subscribe:p},O.useEffect(function(){he.getSnapshot=s,he.setSnapshot=F;var V=w(o._source);if(!Un(E,V)){V=s(o._source),Un(oe,V)||(F(V),V=xo(Ze),g.mutableReadLanes|=V&g.pendingLanes),V=g.mutableReadLanes,g.entangledLanes|=V;for(var $=g.entanglements,H=V;0<H;){var ce=31-Fe(H),pe=1<<ce;$[ce]|=V,H&=~pe}}},[s,o,p]),O.useEffect(function(){return p(o._source,function(){var V=he.getSnapshot,$=he.setSnapshot;try{$(V(o._source));var H=xo(Ze);g.mutableReadLanes|=H&g.pendingLanes}catch(ce){$(function(){throw ce})}})},[o,p]),Un(Ie,s)&&Un(Ye,o)&&Un(ke,p)||((r={pending:null,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:oe}).dispatch=F=vu.bind(null,Ht,r),A.queue=r,A.baseQueue=null,oe=Gp(g,o,s),A.memoizedState=A.baseState=oe),oe}function Zp(r,o,s){return Yp(Go(),r,o,s)}function Fi(r){var o=Ko();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r=(r=o.queue={pending:null,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:r}).dispatch=vu.bind(null,Ht,r),[o.memoizedState,r]}function ul(r,o,s,p){return r={tag:r,create:o,destroy:s,deps:p,next:null},(o=Ht.updateQueue)===null?(o={lastEffect:null},Ht.updateQueue=o,o.lastEffect=r.next=r):(s=o.lastEffect)===null?o.lastEffect=r.next=r:(p=s.next,s.next=r,r.next=p,o.lastEffect=r),r}function Jp(r){return r={current:r},Ko().memoizedState=r}function dl(){return Go().memoizedState}function mu(r,o,s,p){var g=Ko();Ht.flags|=r,g.memoizedState=ul(1|o,s,void 0,p===void 0?null:p)}function gu(r,o,s,p){var g=Go();p=p===void 0?null:p;var w=void 0;if(gn!==null){var E=gn.memoizedState;if(w=E.destroy,p!==null&&pu(p,E.deps))return void ul(o,s,w,p)}Ht.flags|=r,g.memoizedState=ul(1|o,s,w,p)}function eh(r,o){return mu(516,4,r,o)}function fl(r,o){return gu(516,4,r,o)}function th(r,o){return gu(4,2,r,o)}function nh(r,o){return typeof o=="function"?(r=r(),o(r),function(){o(null)}):o!=null?(r=r(),o.current=r,function(){o.current=null}):void 0}function rh(r,o,s){return s=s!=null?s.concat([r]):null,gu(4,2,nh.bind(null,o,r),s)}function yu(){}function oh(r,o){var s=Go();o=o===void 0?null:o;var p=s.memoizedState;return p!==null&&o!==null&&pu(o,p[1])?p[0]:(s.memoizedState=[r,o],r)}function ah(r,o){var s=Go();o=o===void 0?null:o;var p=s.memoizedState;return p!==null&&o!==null&&pu(o,p[1])?p[0]:(r=r(),s.memoizedState=[r,o],r)}function mw(r,o){var s=Ra();Aa(98>s?98:s,function(){r(!0)}),Aa(97<s?97:s,function(){var p=Hn.transition;Hn.transition=1;try{r(!1),o()}finally{Hn.transition=p}})}function vu(r,o,s){var p=Nn(),g=xo(r),w={lane:g,action:s,eagerReducer:null,eagerState:null,next:null},E=o.pending;if(E===null?w.next=w:(w.next=E.next,E.next=w),o.pending=w,E=r.alternate,r===Ht||E!==null&&E===Ht)Bi=cl=!0;else{if(r.lanes===0&&(E===null||E.lanes===0)&&(E=o.lastRenderedReducer)!==null)try{var O=o.lastRenderedState,A=E(O,s);if(w.eagerReducer=E,w.eagerState=A,Un(A,O))return}catch{}Co(r,g,p)}}var pl={readContext:qn,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useOpaqueIdentifier:Tn,unstable_isNewReconciler:!1},gw={readContext:qn,useCallback:function(r,o){return Ko().memoizedState=[r,o===void 0?null:o],r},useContext:qn,useEffect:eh,useImperativeHandle:function(r,o,s){return s=s!=null?s.concat([r]):null,mu(4,2,nh.bind(null,o,r),s)},useLayoutEffect:function(r,o){return mu(4,2,r,o)},useMemo:function(r,o){var s=Ko();return o=o===void 0?null:o,r=r(),s.memoizedState=[r,o],r},useReducer:function(r,o,s){var p=Ko();return o=s!==void 0?s(o):o,p.memoizedState=p.baseState=o,r=(r=p.queue={pending:null,dispatch:null,lastRenderedReducer:r,lastRenderedState:o}).dispatch=vu.bind(null,Ht,r),[p.memoizedState,r]},useRef:Jp,useState:Fi,useDebugValue:yu,useDeferredValue:function(r){var o=Fi(r),s=o[0],p=o[1];return eh(function(){var g=Hn.transition;Hn.transition=1;try{p(r)}finally{Hn.transition=g}},[r]),s},useTransition:function(){var r=Fi(!1),o=r[0];return Jp(r=mw.bind(null,r[1])),[r,o]},useMutableSource:function(r,o,s){var p=Ko();return p.memoizedState={refs:{getSnapshot:o,setSnapshot:null},source:r,subscribe:s},Yp(p,r,o,s)},useOpaqueIdentifier:function(){if(Er){var r=!1,o=function(p){return{$$typeof:G,toString:p,valueOf:p}}(function(){throw r||(r=!0,s("r:"+(Qc++).toString(36))),Error(v(355))}),s=Fi(o)[1];return!(2&Ht.mode)&&(Ht.flags|=516,ul(5,function(){s("r:"+(Qc++).toString(36))},void 0,null)),o}return Fi(o="r:"+(Qc++).toString(36)),o},unstable_isNewReconciler:!1},yw={readContext:qn,useCallback:oh,useContext:qn,useEffect:fl,useImperativeHandle:rh,useLayoutEffect:th,useMemo:ah,useReducer:zi,useRef:dl,useState:function(){return zi(Sr)},useDebugValue:yu,useDeferredValue:function(r){var o=zi(Sr),s=o[0],p=o[1];return fl(function(){var g=Hn.transition;Hn.transition=1;try{p(r)}finally{Hn.transition=g}},[r]),s},useTransition:function(){var r=zi(Sr)[0];return[dl().current,r]},useMutableSource:Zp,useOpaqueIdentifier:function(){return zi(Sr)[0]},unstable_isNewReconciler:!1},vw={readContext:qn,useCallback:oh,useContext:qn,useEffect:fl,useImperativeHandle:rh,useLayoutEffect:th,useMemo:ah,useReducer:$i,useRef:dl,useState:function(){return $i(Sr)},useDebugValue:yu,useDeferredValue:function(r){var o=$i(Sr),s=o[0],p=o[1];return fl(function(){var g=Hn.transition;Hn.transition=1;try{p(r)}finally{Hn.transition=g}},[r]),s},useTransition:function(){var r=$i(Sr)[0];return[dl().current,r]},useMutableSource:Zp,useOpaqueIdentifier:function(){return $i(Sr)[0]},unstable_isNewReconciler:!1},bw=me.ReactCurrentOwner,ir=!1;function Pn(r,o,s,p){o.child=r===null?Vp(o,null,s,p):il(o,r.child,s,p)}function ih(r,o,s,p,g){s=s.render;var w=o.ref;return ja(o,g),p=hu(r,o,s,p,w,g),r===null||ir?(o.flags|=1,Pn(r,o,p,g),o.child):(o.updateQueue=r.updateQueue,o.flags&=-517,r.lanes&=~g,Qr(r,o,g))}function sh(r,o,s,p,g,w){if(r===null){var E=s.type;return typeof E!="function"||$u(E)||E.defaultProps!==void 0||s.compare!==null||s.defaultProps!==void 0?((r=Cl(s.type,null,p,o,o.mode,w)).ref=o.ref,r.return=o,o.child=r):(o.tag=15,o.type=E,lh(r,o,E,p,g,w))}return E=r.child,!(g&w)&&(g=E.memoizedProps,(s=(s=s.compare)!==null?s:Ti)(g,p)&&r.ref===o.ref)?Qr(r,o,w):(o.flags|=1,(r=So(E,p)).ref=o.ref,r.return=o,o.child=r)}function lh(r,o,s,p,g,w){if(r!==null&&Ti(r.memoizedProps,p)&&r.ref===o.ref){if(ir=!1,(w&g)==0)return o.lanes=r.lanes,Qr(r,o,w);16384&r.flags&&(ir=!0)}return bu(r,o,s,p,w)}function ch(r,o,s){var p=o.pendingProps,g=p.children,w=r!==null?r.memoizedState:null;if(p.mode==="hidden"||p.mode==="unstable-defer-without-hiding")if(!(4&o.mode))o.memoizedState={baseLanes:0},xl(0,s);else{if(!(1073741824&s))return r=w!==null?w.baseLanes|s:s,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r},xl(0,r),null;o.memoizedState={baseLanes:0},xl(0,w!==null?w.baseLanes:s)}else w!==null?(p=w.baseLanes|s,o.memoizedState=null):p=s,xl(0,p);return Pn(r,o,g,s),o.child}function uh(r,o){var s=o.ref;(r===null&&s!==null||r!==null&&r.ref!==s)&&(o.flags|=128)}function bu(r,o,s,p,g){var w=jn(s)?Xo:cn.current;return w=Oa(o,w),ja(o,g),s=hu(r,o,s,p,w,g),r===null||ir?(o.flags|=1,Pn(r,o,s,g),o.child):(o.updateQueue=r.updateQueue,o.flags&=-517,r.lanes&=~g,Qr(r,o,g))}function dh(r,o,s,p,g){if(jn(s)){var w=!0;Gs(o)}else w=!1;if(ja(o,g),o.stateNode===null)r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2),Up(o,s,p),su(o,s,p,g),p=!0;else if(r===null){var E=o.stateNode,O=o.memoizedProps;E.props=O;var A=E.context,F=s.contextType;F=typeof F=="object"&&F!==null?qn(F):Oa(o,F=jn(s)?Xo:cn.current);var oe=s.getDerivedStateFromProps,ke=typeof oe=="function"||typeof E.getSnapshotBeforeUpdate=="function";ke||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==p||A!==F)&&qp(o,E,p,F),mo=!1;var he=o.memoizedState;E.state=he,Ii(o,p,E,g),A=o.memoizedState,O!==p||he!==A||Sn.current||mo?(typeof oe=="function"&&(nl(o,s,oe,p),A=o.memoizedState),(O=mo||Fp(o,s,O,p,he,A,F))?(ke||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4)):(typeof E.componentDidMount=="function"&&(o.flags|=4),o.memoizedProps=p,o.memoizedState=A),E.props=p,E.state=A,E.context=F,p=O):(typeof E.componentDidMount=="function"&&(o.flags|=4),p=!1)}else{E=o.stateNode,Mp(r,o),O=o.memoizedProps,F=o.type===o.elementType?O:ar(o.type,O),E.props=F,ke=o.pendingProps,he=E.context,A=typeof(A=s.contextType)=="object"&&A!==null?qn(A):Oa(o,A=jn(s)?Xo:cn.current);var Ie=s.getDerivedStateFromProps;(oe=typeof Ie=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==ke||he!==A)&&qp(o,E,p,A),mo=!1,he=o.memoizedState,E.state=he,Ii(o,p,E,g);var Ye=o.memoizedState;O!==ke||he!==Ye||Sn.current||mo?(typeof Ie=="function"&&(nl(o,s,Ie,p),Ye=o.memoizedState),(F=mo||Fp(o,s,F,p,he,Ye,A))?(oe||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(p,Ye,A),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(p,Ye,A)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=256)):(typeof E.componentDidUpdate!="function"||O===r.memoizedProps&&he===r.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&he===r.memoizedState||(o.flags|=256),o.memoizedProps=p,o.memoizedState=Ye),E.props=p,E.state=Ye,E.context=A,p=F):(typeof E.componentDidUpdate!="function"||O===r.memoizedProps&&he===r.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&he===r.memoizedState||(o.flags|=256),p=!1)}return wu(r,o,s,p,w,g)}function wu(r,o,s,p,g,w){uh(r,o);var E=(64&o.flags)!=0;if(!p&&!E)return g&&kp(o,s,!1),Qr(r,o,w);p=o.stateNode,bw.current=o;var O=E&&typeof s.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,r!==null&&E?(o.child=il(o,r.child,null,w),o.child=il(o,null,O,w)):Pn(r,o,O,w),o.memoizedState=p.state,g&&kp(o,s,!0),o.child}function fh(r){var o=r.stateNode;o.pendingContext?Tp(0,o.pendingContext,o.pendingContext!==o.context):o.context&&Tp(0,o.context,!1),lu(r,o.containerInfo)}var ph,hh,mh,xu={dehydrated:null,retryLane:0};function gh(r,o,s){var p,g=o.pendingProps,w=qt.current,E=!1;return(p=(64&o.flags)!=0)||(p=(r===null||r.memoizedState!==null)&&(2&w)!=0),p?(E=!0,o.flags&=-65):r!==null&&r.memoizedState===null||g.fallback===void 0||g.unstable_avoidThisFallback===!0||(w|=1),Ft(qt,1&w),r===null?(g.fallback!==void 0&&uu(o),r=g.children,w=g.fallback,E?(r=yh(o,r,w,s),o.child.memoizedState={baseLanes:s},o.memoizedState=xu,r):typeof g.unstable_expectedLoadTime=="number"?(r=yh(o,r,w,s),o.child.memoizedState={baseLanes:s},o.memoizedState=xu,o.lanes=33554432,r):((s=Fu({mode:"visible",children:r},o.mode,s,null)).return=o,o.child=s)):(r.memoizedState,E?(g=function(O,A,F,oe,ke){var he=A.mode,Ie=O.child;O=Ie.sibling;var Ye={mode:"hidden",children:F};return!(2&he)&&A.child!==Ie?((F=A.child).childLanes=0,F.pendingProps=Ye,(Ie=F.lastEffect)!==null?(A.firstEffect=F.firstEffect,A.lastEffect=Ie,Ie.nextEffect=null):A.firstEffect=A.lastEffect=null):F=So(Ie,Ye),O!==null?oe=So(O,oe):(oe=Fa(oe,he,ke,null)).flags|=2,oe.return=A,F.return=A,F.sibling=oe,A.child=F,oe}(r,o,g.children,g.fallback,s),E=o.child,w=r.child.memoizedState,E.memoizedState=w===null?{baseLanes:s}:{baseLanes:w.baseLanes|s},E.childLanes=r.childLanes&~s,o.memoizedState=xu,g):(s=function(O,A,F,oe){var ke=O.child;return O=ke.sibling,F=So(ke,{mode:"visible",children:F}),!(2&A.mode)&&(F.lanes=oe),F.return=A,F.sibling=null,O!==null&&(O.nextEffect=null,O.flags=8,A.firstEffect=A.lastEffect=O),A.child=F}(r,o,g.children,s),o.memoizedState=null,s))}function yh(r,o,s,p){var g=r.mode,w=r.child;return o={mode:"hidden",children:o},!(2&g)&&w!==null?(w.childLanes=0,w.pendingProps=o):w=Fu(o,g,0,null),s=Fa(s,g,p,null),w.return=r,s.return=r,w.sibling=s,r.child=w,s}function vh(r,o){r.lanes|=o;var s=r.alternate;s!==null&&(s.lanes|=o),Dp(r.return,o)}function Cu(r,o,s,p,g,w){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:s,tailMode:g,lastEffect:w}:(E.isBackwards=o,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=s,E.tailMode=g,E.lastEffect=w)}function bh(r,o,s){var p=o.pendingProps,g=p.revealOrder,w=p.tail;if(Pn(r,o,p.children,s),(2&(p=qt.current))!=0)p=1&p|2,o.flags|=64;else{if(r!==null&&64&r.flags)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&vh(r,s);else if(r.tag===19)vh(r,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}if(Ft(qt,p),(2&o.mode)==0)o.memoizedState=null;else switch(g){case"forwards":for(s=o.child,g=null;s!==null;)(r=s.alternate)!==null&&sl(r)===null&&(g=s),s=s.sibling;(s=g)===null?(g=o.child,o.child=null):(g=s.sibling,s.sibling=null),Cu(o,!1,g,s,w,o.lastEffect);break;case"backwards":for(s=null,g=o.child,o.child=null;g!==null;){if((r=g.alternate)!==null&&sl(r)===null){o.child=g;break}r=g.sibling,g.sibling=s,s=g,g=r}Cu(o,!0,s,null,w,o.lastEffect);break;case"together":Cu(o,!1,null,null,void 0,o.lastEffect);break;default:o.memoizedState=null}return o.child}function Qr(r,o,s){if(r!==null&&(o.dependencies=r.dependencies),qi|=o.lanes,(s&o.childLanes)!=0){if(r!==null&&o.child!==r.child)throw Error(v(153));if(o.child!==null){for(s=So(r=o.child,r.pendingProps),o.child=s,s.return=o;r.sibling!==null;)r=r.sibling,(s=s.sibling=So(r,r.pendingProps)).return=o;s.sibling=null}return o.child}return null}function Ui(r,o){if(!Er)switch(r.tailMode){case"hidden":o=r.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?r.tail=null:s.sibling=null;break;case"collapsed":s=r.tail;for(var p=null;s!==null;)s.alternate!==null&&(p=s),s=s.sibling;p===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function ww(r,o,s){var p=o.pendingProps;switch(o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return jn(o.type)&&Yc(),null;case 3:return Pa(),$t(Sn),$t(cn),fu(),(p=o.stateNode).pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),r!==null&&r.child!==null||(ll(o)?o.flags|=4:p.hydrate||(o.flags|=256)),null;case 5:cu(o);var g=Qo(Li.current);if(s=o.type,r!==null&&o.stateNode!=null)hh(r,o,s,p),r.ref!==o.ref&&(o.flags|=128);else{if(!p){if(o.stateNode===null)throw Error(v(166));return null}if(r=Qo(Cr.current),ll(o)){p=o.stateNode,s=o.type;var w=o.memoizedProps;switch(p[fo]=o,p[Qs]=w,s){case"dialog":Lt("cancel",p),Lt("close",p);break;case"iframe":case"object":case"embed":Lt("load",p);break;case"video":case"audio":for(r=0;r<ki.length;r++)Lt(ki[r],p);break;case"source":Lt("error",p);break;case"img":case"image":case"link":Lt("error",p),Lt("load",p);break;case"details":Lt("toggle",p);break;case"input":xn(p,w),Lt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},Lt("invalid",p);break;case"textarea":zo(p,w),Lt("invalid",p)}for(var E in De(s,w),r=null,w)w.hasOwnProperty(E)&&(g=w[E],E==="children"?typeof g=="string"?p.textContent!==g&&(r=["children",g]):typeof g=="number"&&p.textContent!==""+g&&(r=["children",""+g]):x.hasOwnProperty(E)&&g!=null&&E==="onScroll"&&Lt("scroll",p));switch(s){case"input":mt(p),dr(p,w,!0);break;case"textarea":mt(p),Lr(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=Xs)}p=r,o.updateQueue=p,p!==null&&(o.flags|=4)}else{switch(E=g.nodeType===9?g:g.ownerDocument,r===$o&&(r=hn(s)),r===$o?s==="script"?((r=E.createElement("div")).innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof p.is=="string"?r=E.createElement(s,{is:p.is}):(r=E.createElement(s),s==="select"&&(E=r,p.multiple?E.multiple=!0:p.size&&(E.size=p.size))):r=E.createElementNS(r,s),r[fo]=o,r[Qs]=p,ph(r,o),o.stateNode=r,E=ve(s,p),s){case"dialog":Lt("cancel",r),Lt("close",r),g=p;break;case"iframe":case"object":case"embed":Lt("load",r),g=p;break;case"video":case"audio":for(g=0;g<ki.length;g++)Lt(ki[g],r);g=p;break;case"source":Lt("error",r),g=p;break;case"img":case"image":case"link":Lt("error",r),Lt("load",r),g=p;break;case"details":Lt("toggle",r),g=p;break;case"input":xn(r,p),g=pn(r,p),Lt("invalid",r);break;case"option":g=Bn(r,p);break;case"select":r._wrapperState={wasMultiple:!!p.multiple},g=h({},p,{value:void 0}),Lt("invalid",r);break;case"textarea":zo(r,p),g=Kt(r,p),Lt("invalid",r);break;default:g=p}De(s,g);var O=g;for(w in O)if(O.hasOwnProperty(w)){var A=O[w];w==="style"?ne(r,A):w==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0)!=null&&Dr(r,A):w==="children"?typeof A=="string"?(s!=="textarea"||A!=="")&&Mr(r,A):typeof A=="number"&&Mr(r,""+A):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(x.hasOwnProperty(w)?A!=null&&w==="onScroll"&&Lt("scroll",r):A!=null&&fe(r,w,A,E))}switch(s){case"input":mt(r),dr(r,p,!1);break;case"textarea":mt(r),Lr(r);break;case"option":p.value!=null&&r.setAttribute("value",""+lt(p.value));break;case"select":r.multiple=!!p.multiple,(w=p.value)!=null?fr(r,!!p.multiple,w,!1):p.defaultValue!=null&&fr(r,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=Xs)}wp(s,p)&&(o.flags|=4)}o.ref!==null&&(o.flags|=128)}return null;case 6:if(r&&o.stateNode!=null)mh(0,o,r.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(v(166));s=Qo(Li.current),Qo(Cr.current),ll(o)?(p=o.stateNode,s=o.memoizedProps,p[fo]=o,p.nodeValue!==s&&(o.flags|=4)):((p=(s.nodeType===9?s:s.ownerDocument).createTextNode(p))[fo]=o,o.stateNode=p)}return null;case 13:return $t(qt),p=o.memoizedState,64&o.flags?(o.lanes=s,o):(p=p!==null,s=!1,r===null?o.memoizedProps.fallback!==void 0&&ll(o):s=r.memoizedState!==null,p&&!s&&2&o.mode&&(r===null&&o.memoizedProps.unstable_avoidThisFallback!==!0||1&qt.current?nn===0&&(nn=3):(nn!==0&&nn!==3||(nn=4),yn===null||!(134217727&qi)&&!(134217727&Da)||Ba(yn,dn))),(p||s)&&(o.flags|=4),null);case 4:return Pa(),r===null&&mp(o.stateNode.containerInfo),null;case 10:return au(o),null;case 19:if($t(qt),(p=o.memoizedState)===null)return null;if(w=(64&o.flags)!=0,(E=p.rendering)===null)if(w)Ui(p,!1);else{if(nn!==0||r!==null&&64&r.flags)for(r=o.child;r!==null;){if((E=sl(r))!==null){for(o.flags|=64,Ui(p,!1),(w=E.updateQueue)!==null&&(o.updateQueue=w,o.flags|=4),p.lastEffect===null&&(o.firstEffect=null),o.lastEffect=p.lastEffect,p=s,s=o.child;s!==null;)r=p,(w=s).flags&=2,w.nextEffect=null,w.firstEffect=null,w.lastEffect=null,(E=w.alternate)===null?(w.childLanes=0,w.lanes=r,w.child=null,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=E.childLanes,w.lanes=E.lanes,w.child=E.child,w.memoizedProps=E.memoizedProps,w.memoizedState=E.memoizedState,w.updateQueue=E.updateQueue,w.type=E.type,r=E.dependencies,w.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s=s.sibling;return Ft(qt,1&qt.current|2),o.child}r=r.sibling}p.tail!==null&&un()>Pu&&(o.flags|=64,w=!0,Ui(p,!1),o.lanes=33554432)}else{if(!w)if((r=sl(E))!==null){if(o.flags|=64,w=!0,(s=r.updateQueue)!==null&&(o.updateQueue=s,o.flags|=4),Ui(p,!0),p.tail===null&&p.tailMode==="hidden"&&!E.alternate&&!Er)return(o=o.lastEffect=p.lastEffect)!==null&&(o.nextEffect=null),null}else 2*un()-p.renderingStartTime>Pu&&s!==1073741824&&(o.flags|=64,w=!0,Ui(p,!1),o.lanes=33554432);p.isBackwards?(E.sibling=o.child,o.child=E):((s=p.last)!==null?s.sibling=E:o.child=E,p.last=E)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.lastEffect=o.lastEffect,p.renderingStartTime=un(),s.sibling=null,o=qt.current,Ft(qt,w?1&o|2:1&o),s):null;case 23:case 24:return zu(),r!==null&&r.memoizedState!==null!=(o.memoizedState!==null)&&p.mode!=="unstable-defer-without-hiding"&&(o.flags|=4),null}throw Error(v(156,o.tag))}function xw(r){switch(r.tag){case 1:jn(r.type)&&Yc();var o=r.flags;return 4096&o?(r.flags=-4097&o|64,r):null;case 3:if(Pa(),$t(Sn),$t(cn),fu(),(64&(o=r.flags))!=0)throw Error(v(285));return r.flags=-4097&o|64,r;case 5:return cu(r),null;case 13:return $t(qt),4096&(o=r.flags)?(r.flags=-4097&o|64,r):null;case 19:return $t(qt),null;case 4:return Pa(),null;case 10:return au(r),null;case 23:case 24:return zu(),null;default:return null}}function Eu(r,o){try{var s="",p=o;do s+=Ot(p),p=p.return;while(p);var g=s}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:r,source:o,stack:g}}function Su(r,o){try{console.error(o.value)}catch(s){setTimeout(function(){throw s})}}ph=function(r,o){for(var s=o.child;s!==null;){if(s.tag===5||s.tag===6)r.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},hh=function(r,o,s,p){var g=r.memoizedProps;if(g!==p){r=o.stateNode,Qo(Cr.current);var w,E=null;switch(s){case"input":g=pn(r,g),p=pn(r,p),E=[];break;case"option":g=Bn(r,g),p=Bn(r,p),E=[];break;case"select":g=h({},g,{value:void 0}),p=h({},p,{value:void 0}),E=[];break;case"textarea":g=Kt(r,g),p=Kt(r,p),E=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(r.onclick=Xs)}for(F in De(s,p),s=null,g)if(!p.hasOwnProperty(F)&&g.hasOwnProperty(F)&&g[F]!=null)if(F==="style"){var O=g[F];for(w in O)O.hasOwnProperty(w)&&(s||(s={}),s[w]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(x.hasOwnProperty(F)?E||(E=[]):(E=E||[]).push(F,null));for(F in p){var A=p[F];if(O=g?.[F],p.hasOwnProperty(F)&&A!==O&&(A!=null||O!=null))if(F==="style")if(O){for(w in O)!O.hasOwnProperty(w)||A&&A.hasOwnProperty(w)||(s||(s={}),s[w]="");for(w in A)A.hasOwnProperty(w)&&O[w]!==A[w]&&(s||(s={}),s[w]=A[w])}else s||(E||(E=[]),E.push(F,s)),s=A;else F==="dangerouslySetInnerHTML"?(A=A?A.__html:void 0,O=O?O.__html:void 0,A!=null&&O!==A&&(E=E||[]).push(F,A)):F==="children"?typeof A!="string"&&typeof A!="number"||(E=E||[]).push(F,""+A):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(x.hasOwnProperty(F)?(A!=null&&F==="onScroll"&&Lt("scroll",r),E||O===A||(E=[])):typeof A=="object"&&A!==null&&A.$$typeof===G?A.toString():(E=E||[]).push(F,A))}s&&(E=E||[]).push("style",s);var F=E;(o.updateQueue=F)&&(o.flags|=4)}},mh=function(r,o,s,p){s!==p&&(o.flags|=4)};var Cw=typeof WeakMap=="function"?WeakMap:Map;function wh(r,o,s){(s=go(-1,s)).tag=3,s.payload={element:null};var p=o.value;return s.callback=function(){gl||(gl=!0,Nu=p),Su(0,o)},s}function xh(r,o,s){(s=go(-1,s)).tag=3;var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var g=o.value;s.payload=function(){return Su(0,o),p(g)}}var w=r.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){typeof p!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this),Su(0,o));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),s}var Ew=typeof WeakSet=="function"?WeakSet:Set;function Ch(r){var o=r.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(s){Eo(r,s)}else o.current=null}function Sw(r,o){switch(o.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&o.flags&&r!==null){var s=r.memoizedProps,p=r.memoizedState;o=(r=o.stateNode).getSnapshotBeforeUpdate(o.elementType===o.type?s:ar(o.type,s),p),r.__reactInternalSnapshotBeforeUpdate=o}return;case 3:return void(256&o.flags&&Wc(o.stateNode.containerInfo))}throw Error(v(163))}function Tw(r,o,s){switch(s.tag){case 0:case 11:case 15:case 22:if((o=(o=s.updateQueue)!==null?o.lastEffect:null)!==null){r=o=o.next;do{if((3&r.tag)==3){var p=r.create;r.destroy=p()}r=r.next}while(r!==o)}if((o=(o=s.updateQueue)!==null?o.lastEffect:null)!==null){r=o=o.next;do{var g=r;p=g.next,4&(g=g.tag)&&1&g&&(Mh(s,r),jw(s,r)),r=p}while(r!==o)}return;case 1:return r=s.stateNode,4&s.flags&&(o===null?r.componentDidMount():(p=s.elementType===s.type?o.memoizedProps:ar(s.type,o.memoizedProps),r.componentDidUpdate(p,o.memoizedState,r.__reactInternalSnapshotBeforeUpdate))),void((o=s.updateQueue)!==null&&zp(s,o,r));case 3:if((o=s.updateQueue)!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:case 1:r=s.child.stateNode}zp(s,o,r)}return;case 5:return r=s.stateNode,void(o===null&&4&s.flags&&wp(s.type,s.memoizedProps)&&r.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(s.memoizedState===null&&(s=s.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&Uo(s)))))}throw Error(v(163))}function Eh(r,o){for(var s=r;;){if(s.tag===5){var p=s.stateNode;if(o)typeof(p=p.style).setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{p=s.stateNode;var g=s.memoizedProps.style;g=g!=null&&g.hasOwnProperty("display")?g.display:null,p.style.display=z("display",g)}}else if(s.tag===6)s.stateNode.nodeValue=o?"":s.memoizedProps;else if((s.tag!==23&&s.tag!==24||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}}function Sh(r,o){if(Wo&&typeof Wo.onCommitFiberUnmount=="function")try{Wo.onCommitFiberUnmount(Zc,o)}catch{}switch(o.tag){case 0:case 11:case 14:case 15:case 22:if((r=o.updateQueue)!==null&&(r=r.lastEffect)!==null){var s=r=r.next;do{var p=s,g=p.destroy;if(p=p.tag,g!==void 0)if(4&p)Mh(o,s);else{p=o;try{g()}catch(w){Eo(p,w)}}s=s.next}while(s!==r)}break;case 1:if(Ch(o),typeof(r=o.stateNode).componentWillUnmount=="function")try{r.props=o.memoizedProps,r.state=o.memoizedState,r.componentWillUnmount()}catch(w){Eo(o,w)}break;case 5:Ch(o);break;case 4:Oh(r,o)}}function Th(r){r.alternate=null,r.child=null,r.dependencies=null,r.firstEffect=null,r.lastEffect=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.return=null,r.updateQueue=null}function _h(r){return r.tag===5||r.tag===3||r.tag===4}function kh(r){e:{for(var o=r.return;o!==null;){if(_h(o))break e;o=o.return}throw Error(v(160))}var s=o;switch(o=s.stateNode,s.tag){case 5:var p=!1;break;case 3:case 4:o=o.containerInfo,p=!0;break;default:throw Error(v(161))}16&s.flags&&(Mr(o,""),s.flags&=-17);e:t:for(s=r;;){for(;s.sibling===null;){if(s.return===null||_h(s.return)){s=null;break e}s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(2&s.flags||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(2&s.flags)){s=s.stateNode;break e}}p?Tu(r,s,o):_u(r,s,o)}function Tu(r,o,s){var p=r.tag,g=p===5||p===6;if(g)r=g?r.stateNode:r.stateNode.instance,o?s.nodeType===8?s.parentNode.insertBefore(r,o):s.insertBefore(r,o):(s.nodeType===8?(o=s.parentNode).insertBefore(r,s):(o=s).appendChild(r),(s=s._reactRootContainer)!=null||o.onclick!==null||(o.onclick=Xs));else if(p!==4&&(r=r.child)!==null)for(Tu(r,o,s),r=r.sibling;r!==null;)Tu(r,o,s),r=r.sibling}function _u(r,o,s){var p=r.tag,g=p===5||p===6;if(g)r=g?r.stateNode:r.stateNode.instance,o?s.insertBefore(r,o):s.appendChild(r);else if(p!==4&&(r=r.child)!==null)for(_u(r,o,s),r=r.sibling;r!==null;)_u(r,o,s),r=r.sibling}function Oh(r,o){for(var s,p,g=o,w=!1;;){if(!w){w=g.return;e:for(;;){if(w===null)throw Error(v(160));switch(s=w.stateNode,w.tag){case 5:p=!1;break e;case 3:case 4:s=s.containerInfo,p=!0;break e}w=w.return}w=!0}if(g.tag===5||g.tag===6){e:for(var E=r,O=g,A=O;;)if(Sh(E,A),A.child!==null&&A.tag!==4)A.child.return=A,A=A.child;else{if(A===O)break e;for(;A.sibling===null;){if(A.return===null||A.return===O)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}p?(E=s,O=g.stateNode,E.nodeType===8?E.parentNode.removeChild(O):E.removeChild(O)):s.removeChild(g.stateNode)}else if(g.tag===4){if(g.child!==null){s=g.stateNode.containerInfo,p=!0,g.child.return=g,g=g.child;continue}}else if(Sh(r,g),g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break;for(;g.sibling===null;){if(g.return===null||g.return===o)return;(g=g.return).tag===4&&(w=!1)}g.sibling.return=g.return,g=g.sibling}}function ku(r,o){switch(o.tag){case 0:case 11:case 14:case 15:case 22:var s=o.updateQueue;if((s=s!==null?s.lastEffect:null)!==null){var p=s=s.next;do(3&p.tag)==3&&(r=p.destroy,p.destroy=void 0,r!==void 0&&r()),p=p.next;while(p!==s)}return;case 1:case 12:case 17:return;case 5:if((s=o.stateNode)!=null){p=o.memoizedProps;var g=r!==null?r.memoizedProps:p;r=o.type;var w=o.updateQueue;if(o.updateQueue=null,w!==null){for(s[Qs]=p,r==="input"&&p.type==="radio"&&p.name!=null&&ur(s,p),ve(r,g),o=ve(r,p),g=0;g<w.length;g+=2){var E=w[g],O=w[g+1];E==="style"?ne(s,O):E==="dangerouslySetInnerHTML"?Dr(s,O):E==="children"?Mr(s,O):fe(s,E,O,o)}switch(r){case"input":on(s,p);break;case"textarea":da(s,p);break;case"select":r=s._wrapperState.wasMultiple,s._wrapperState.wasMultiple=!!p.multiple,(w=p.value)!=null?fr(s,!!p.multiple,w,!1):r!==!!p.multiple&&(p.defaultValue!=null?fr(s,!!p.multiple,p.defaultValue,!0):fr(s,!!p.multiple,p.multiple?[]:"",!1))}}}return;case 6:if(o.stateNode===null)throw Error(v(162));return void(o.stateNode.nodeValue=o.memoizedProps);case 3:return void((s=o.stateNode).hydrate&&(s.hydrate=!1,Uo(s.containerInfo)));case 13:return o.memoizedState!==null&&(ju=un(),Eh(o.child,!0)),void Rh(o);case 19:return void Rh(o);case 23:case 24:return void Eh(o,o.memoizedState!==null)}throw Error(v(163))}function Rh(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var s=r.stateNode;s===null&&(s=r.stateNode=new Ew),o.forEach(function(p){var g=Lw.bind(null,r,p);s.has(p)||(s.add(p),p.then(g,g))})}}function _w(r,o){return r!==null&&((r=r.memoizedState)===null||r.dehydrated!==null)&&(o=o.memoizedState)!==null&&o.dehydrated===null}var kw=Math.ceil,hl=me.ReactCurrentDispatcher,Ou=me.ReactCurrentOwner,ut=0,yn=null,Zt=null,dn=0,Yo=0,Ru=po(0),nn=0,ml=null,La=0,qi=0,Da=0,Au=0,Iu=null,ju=0,Pu=1/0;function Ma(){Pu=un()+500}var Ah,Ae=null,gl=!1,Nu=null,Tr=null,bo=!1,Hi=null,Vi=90,Lu=[],Du=[],Kr=null,Xi=0,Mu=null,yl=-1,wo=0,vl=0,Wi=null,bl=!1;function Nn(){return 48&ut?un():yl!==-1?yl:yl=un()}function xo(r){if(!(2&(r=r.mode)))return 1;if(!(4&r))return Ra()===99?1:2;if(wo===0&&(wo=La),hw.transition!==0){vl!==0&&(vl=Iu!==null?Iu.pendingLanes:0),r=wo;var o=4186112&~vl;return(o&=-o)==0&&(o=(r=4186112&~r)&-r)==0&&(o=8192),o}return r=Ra(),r=J(4&ut&&r===98?12:r=function(s){switch(s){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(r),wo)}function Co(r,o,s){if(50<Xi)throw Xi=0,Mu=null,Error(v(185));if((r=wl(r,o))===null)return null;de(r,o,s),r===yn&&(Da|=o,nn===4&&Ba(r,dn));var p=Ra();o===1?8&ut&&!(48&ut)?Bu(r):(Vn(r,s),ut===0&&(Ma(),Xr())):(!(4&ut)||p!==98&&p!==99||(Kr===null?Kr=new Set([r]):Kr.add(r)),Vn(r,s)),Iu=r}function wl(r,o){r.lanes|=o;var s=r.alternate;for(s!==null&&(s.lanes|=o),s=r,r=r.return;r!==null;)r.childLanes|=o,(s=r.alternate)!==null&&(s.childLanes|=o),s=r,r=r.return;return s.tag===3?s.stateNode:null}function Vn(r,o){for(var s=r.callbackNode,p=r.suspendedLanes,g=r.pingedLanes,w=r.expirationTimes,E=r.pendingLanes;0<E;){var O=31-Fe(E),A=1<<O,F=w[O];if(F===-1){if(!(A&p)||A&g){F=o,Q(A);var oe=B;w[O]=10<=oe?F+250:6<=oe?F+5e3:-1}}else F<=o&&(r.expiredLanes|=A);E&=~A}if(p=Z(r,r===yn?dn:0),o=B,p===0)s!==null&&(s!==nu&&eu(s),r.callbackNode=null,r.callbackPriority=0);else{if(s!==null){if(r.callbackPriority===o)return;s!==nu&&eu(s)}o===15?(s=Bu.bind(null,r),Vr===null?(Vr=[s],Zs=Jc(Ys,Lp)):Vr.push(s),s=nu):o===14?s=Ai(99,Bu.bind(null,r)):(s=function(ke){switch(ke){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(v(358,ke))}}(o),s=Ai(s,Ih.bind(null,r))),r.callbackPriority=o,r.callbackNode=s}}function Ih(r){if(yl=-1,vl=wo=0,(48&ut)!=0)throw Error(v(327));var o=r.callbackNode;if(Zo()&&r.callbackNode!==o)return null;var s=Z(r,r===yn?dn:0);if(s===0)return null;var p=s,g=ut;ut|=16;var w=Nh();for(yn===r&&dn===p||(Ma(),za(r,p));;)try{Rw();break}catch(O){Ph(r,O)}if(ou(),hl.current=w,ut=g,Zt!==null?p=0:(yn=null,dn=0,p=nn),(La&Da)!=0)za(r,0);else if(p!==0){if(p===2&&(ut|=64,r.hydrate&&(r.hydrate=!1,Wc(r.containerInfo)),(s=le(r))!==0&&(p=Qi(r,s))),p===1)throw o=ml,za(r,0),Ba(r,s),Vn(r,un()),o;switch(r.finishedWork=r.current.alternate,r.finishedLanes=s,p){case 0:case 1:throw Error(v(345));case 2:case 5:$a(r);break;case 3:if(Ba(r,s),(62914560&s)===s&&10<(p=ju+500-un())){if(Z(r,0)!==0)break;if(((g=r.suspendedLanes)&s)!==s){Nn(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=xp($a.bind(null,r),p);break}$a(r);break;case 4:if(Ba(r,s),(4186112&s)===s)break;for(p=r.eventTimes,g=-1;0<s;){var E=31-Fe(s);w=1<<E,(E=p[E])>g&&(g=E),s&=~w}if(s=g,10<(s=(120>(s=un()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*kw(s/1960))-s)){r.timeoutHandle=xp($a.bind(null,r),s);break}$a(r);break;default:throw Error(v(329))}}return Vn(r,un()),r.callbackNode===o?Ih.bind(null,r):null}function Ba(r,o){for(o&=~Au,o&=~Da,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var s=31-Fe(o),p=1<<s;r[s]=-1,o&=~p}}function Bu(r){if(48&ut)throw Error(v(327));if(Zo(),r===yn&&(r.expiredLanes&dn)!=0){var o=dn,s=Qi(r,o);La&Da&&(s=Qi(r,o=Z(r,o)))}else s=Qi(r,o=Z(r,0));if(r.tag!==0&&s===2&&(ut|=64,r.hydrate&&(r.hydrate=!1,Wc(r.containerInfo)),(o=le(r))!==0&&(s=Qi(r,o))),s===1)throw s=ml,za(r,0),Ba(r,o),Vn(r,un()),s;return r.finishedWork=r.current.alternate,r.finishedLanes=o,$a(r),Vn(r,un()),null}function jh(r,o){var s=ut;ut&=-2,ut|=8;try{return r(o)}finally{(ut=s)===0&&(Ma(),Xr())}}function xl(r,o){Ft(Ru,Yo),Yo|=o,La|=o}function zu(){Yo=Ru.current,$t(Ru)}function za(r,o){r.finishedWork=null,r.finishedLanes=0;var s=r.timeoutHandle;if(s!==-1&&(r.timeoutHandle=-1,cw(s)),Zt!==null)for(s=Zt.return;s!==null;){var p=s;switch(p.tag){case 1:(p=p.type.childContextTypes)!=null&&Yc();break;case 3:Pa(),$t(Sn),$t(cn),fu();break;case 5:cu(p);break;case 4:Pa();break;case 13:case 19:$t(qt);break;case 10:au(p);break;case 23:case 24:zu()}s=s.return}yn=r,Zt=So(r.current,null),dn=Yo=La=o,nn=0,ml=null,Au=Da=qi=0}function Ph(r,o){for(;;){var s=Zt;try{if(ou(),Di.current=pl,cl){for(var p=Ht.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}cl=!1}if(Mi=0,tn=gn=Ht=null,Bi=!1,Ou.current=null,s===null||s.return===null){nn=1,ml=o,Zt=null;break}e:{var w=r,E=s.return,O=s,A=o;if(o=dn,O.flags|=2048,O.firstEffect=O.lastEffect=null,A!==null&&typeof A=="object"&&typeof A.then=="function"){var F=A;if(!(2&O.mode)){var oe=O.alternate;oe?(O.updateQueue=oe.updateQueue,O.memoizedState=oe.memoizedState,O.lanes=oe.lanes):(O.updateQueue=null,O.memoizedState=null)}var ke=(1&qt.current)!=0,he=E;do{var Ie;if(Ie=he.tag===13){var Ye=he.memoizedState;if(Ye!==null)Ie=Ye.dehydrated!==null;else{var Ze=he.memoizedProps;Ie=Ze.fallback!==void 0&&(Ze.unstable_avoidThisFallback!==!0||!ke)}}if(Ie){var V=he.updateQueue;if(V===null){var $=new Set;$.add(F),he.updateQueue=$}else V.add(F);if(!(2&he.mode)){if(he.flags|=64,O.flags|=16384,O.flags&=-2981,O.tag===1)if(O.alternate===null)O.tag=17;else{var H=go(-1,1);H.tag=2,yo(O,H)}O.lanes|=1;break e}A=void 0,O=o;var ce=w.pingCache;if(ce===null?(ce=w.pingCache=new Cw,A=new Set,ce.set(F,A)):(A=ce.get(F))===void 0&&(A=new Set,ce.set(F,A)),!A.has(O)){A.add(O);var pe=Nw.bind(null,w,F,O);F.then(pe,pe)}he.flags|=4096,he.lanes=o;break e}he=he.return}while(he!==null);A=Error((xt(O.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}nn!==5&&(nn=2),A=Eu(A,O),he=E;do{switch(he.tag){case 3:w=A,he.flags|=4096,o&=-o,he.lanes|=o,Bp(he,wh(0,w,o));break e;case 1:w=A;var tt=he.type,Ne=he.stateNode;if(!(64&he.flags)&&(typeof tt.getDerivedStateFromError=="function"||Ne!==null&&typeof Ne.componentDidCatch=="function"&&(Tr===null||!Tr.has(Ne)))){he.flags|=4096,o&=-o,he.lanes|=o,Bp(he,xh(he,w,o));break e}}he=he.return}while(he!==null)}Dh(s)}catch(ct){o=ct,Zt===s&&s!==null&&(Zt=s=s.return);continue}break}}function Nh(){var r=hl.current;return hl.current=pl,r===null?pl:r}function Qi(r,o){var s=ut;ut|=16;var p=Nh();for(yn===r&&dn===o||za(r,o);;)try{Ow();break}catch(g){Ph(r,g)}if(ou(),ut=s,hl.current=p,Zt!==null)throw Error(v(261));return yn=null,dn=0,nn}function Ow(){for(;Zt!==null;)Lh(Zt)}function Rw(){for(;Zt!==null&&!dw();)Lh(Zt)}function Lh(r){var o=Ah(r.alternate,r,Yo);r.memoizedProps=r.pendingProps,o===null?Dh(r):Zt=o,Ou.current=null}function Dh(r){var o=r;do{var s=o.alternate;if(r=o.return,(2048&o.flags)==0){if((s=ww(s,o,Yo))!==null)return void(Zt=s);if((s=o).tag!==24&&s.tag!==23||s.memoizedState===null||1073741824&Yo||!(4&s.mode)){for(var p=0,g=s.child;g!==null;)p|=g.lanes|g.childLanes,g=g.sibling;s.childLanes=p}r!==null&&!(2048&r.flags)&&(r.firstEffect===null&&(r.firstEffect=o.firstEffect),o.lastEffect!==null&&(r.lastEffect!==null&&(r.lastEffect.nextEffect=o.firstEffect),r.lastEffect=o.lastEffect),1<o.flags&&(r.lastEffect!==null?r.lastEffect.nextEffect=o:r.firstEffect=o,r.lastEffect=o))}else{if((s=xw(o))!==null)return s.flags&=2047,void(Zt=s);r!==null&&(r.firstEffect=r.lastEffect=null,r.flags|=2048)}if((o=o.sibling)!==null)return void(Zt=o);Zt=o=r}while(o!==null);nn===0&&(nn=5)}function $a(r){var o=Ra();return Aa(99,Aw.bind(null,r,o)),null}function Aw(r,o){do Zo();while(Hi!==null);if(48&ut)throw Error(v(327));var s=r.finishedWork;if(s===null)return null;if(r.finishedWork=null,r.finishedLanes=0,s===r.current)throw Error(v(177));r.callbackNode=null;var p=s.lanes|s.childLanes,g=p,w=r.pendingLanes&~g;r.pendingLanes=g,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=g,r.mutableReadLanes&=g,r.entangledLanes&=g,g=r.entanglements;for(var E=r.eventTimes,O=r.expirationTimes;0<w;){var A=31-Fe(w),F=1<<A;g[A]=0,E[A]=-1,O[A]=-1,w&=~F}if(Kr!==null&&!(24&p)&&Kr.has(r)&&Kr.delete(r),r===yn&&(Zt=yn=null,dn=0),1<s.flags?s.lastEffect!==null?(s.lastEffect.nextEffect=s,p=s.firstEffect):p=s:p=s.firstEffect,p!==null){if(g=ut,ut|=32,Ou.current=null,Hc=nt,$c(E=lp())){if("selectionStart"in E)O={start:E.selectionStart,end:E.selectionEnd};else e:if(O=(O=E.ownerDocument)&&O.defaultView||window,(F=O.getSelection&&O.getSelection())&&F.rangeCount!==0){O=F.anchorNode,w=F.anchorOffset,A=F.focusNode,F=F.focusOffset;try{O.nodeType,A.nodeType}catch{O=null;break e}var oe=0,ke=-1,he=-1,Ie=0,Ye=0,Ze=E,V=null;t:for(;;){for(var $;Ze!==O||w!==0&&Ze.nodeType!==3||(ke=oe+w),Ze!==A||F!==0&&Ze.nodeType!==3||(he=oe+F),Ze.nodeType===3&&(oe+=Ze.nodeValue.length),($=Ze.firstChild)!==null;)V=Ze,Ze=$;for(;;){if(Ze===E)break t;if(V===O&&++Ie===w&&(ke=oe),V===A&&++Ye===F&&(he=oe),($=Ze.nextSibling)!==null)break;V=(Ze=V).parentNode}Ze=$}O=ke===-1||he===-1?null:{start:ke,end:he}}else O=null;O=O||{start:0,end:0}}else O=null;Vc={focusedElem:E,selectionRange:O},nt=!1,Wi=null,bl=!1,Ae=p;do try{Iw()}catch(Ge){if(Ae===null)throw Error(v(330));Eo(Ae,Ge),Ae=Ae.nextEffect}while(Ae!==null);Wi=null,Ae=p;do try{for(E=r;Ae!==null;){var H=Ae.flags;if(16&H&&Mr(Ae.stateNode,""),128&H){var ce=Ae.alternate;if(ce!==null){var pe=ce.ref;pe!==null&&(typeof pe=="function"?pe(null):pe.current=null)}}switch(1038&H){case 2:kh(Ae),Ae.flags&=-3;break;case 6:kh(Ae),Ae.flags&=-3,ku(Ae.alternate,Ae);break;case 1024:Ae.flags&=-1025;break;case 1028:Ae.flags&=-1025,ku(Ae.alternate,Ae);break;case 4:ku(Ae.alternate,Ae);break;case 8:Oh(E,O=Ae);var tt=O.alternate;Th(O),tt!==null&&Th(tt)}Ae=Ae.nextEffect}}catch(Ge){if(Ae===null)throw Error(v(330));Eo(Ae,Ge),Ae=Ae.nextEffect}while(Ae!==null);if(pe=Vc,ce=lp(),H=pe.focusedElem,E=pe.selectionRange,ce!==H&&H&&H.ownerDocument&&sp(H.ownerDocument.documentElement,H)){for(E!==null&&$c(H)&&(ce=E.start,(pe=E.end)===void 0&&(pe=ce),"selectionStart"in H?(H.selectionStart=ce,H.selectionEnd=Math.min(pe,H.value.length)):(pe=(ce=H.ownerDocument||document)&&ce.defaultView||window).getSelection&&(pe=pe.getSelection(),O=H.textContent.length,tt=Math.min(E.start,O),E=E.end===void 0?tt:Math.min(E.end,O),!pe.extend&&tt>E&&(O=E,E=tt,tt=O),O=ip(H,tt),w=ip(H,E),O&&w&&(pe.rangeCount!==1||pe.anchorNode!==O.node||pe.anchorOffset!==O.offset||pe.focusNode!==w.node||pe.focusOffset!==w.offset)&&((ce=ce.createRange()).setStart(O.node,O.offset),pe.removeAllRanges(),tt>E?(pe.addRange(ce),pe.extend(w.node,w.offset)):(ce.setEnd(w.node,w.offset),pe.addRange(ce))))),ce=[],pe=H;pe=pe.parentNode;)pe.nodeType===1&&ce.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<ce.length;H++)(pe=ce[H]).element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}nt=!!Hc,Vc=Hc=null,r.current=s,Ae=p;do try{for(H=r;Ae!==null;){var Ne=Ae.flags;if(36&Ne&&Tw(H,Ae.alternate,Ae),128&Ne){ce=void 0;var ct=Ae.ref;if(ct!==null){var bt=Ae.stateNode;Ae.tag,ce=bt,typeof ct=="function"?ct(ce):ct.current=ce}}Ae=Ae.nextEffect}}catch(Ge){if(Ae===null)throw Error(v(330));Eo(Ae,Ge),Ae=Ae.nextEffect}while(Ae!==null);Ae=null,pw(),ut=g}else r.current=s;if(bo)bo=!1,Hi=r,Vi=o;else for(Ae=p;Ae!==null;)o=Ae.nextEffect,Ae.nextEffect=null,8&Ae.flags&&((Ne=Ae).sibling=null,Ne.stateNode=null),Ae=o;if((p=r.pendingLanes)===0&&(Tr=null),p===1?r===Mu?Xi++:(Xi=0,Mu=r):Xi=0,s=s.stateNode,Wo&&typeof Wo.onCommitFiberRoot=="function")try{Wo.onCommitFiberRoot(Zc,s,void 0,(64&s.current.flags)==64)}catch{}if(Vn(r,un()),gl)throw gl=!1,r=Nu,Nu=null,r;return 8&ut||Xr(),null}function Iw(){for(;Ae!==null;){var r=Ae.alternate;bl||Wi===null||(8&Ae.flags?fi(Ae,Wi)&&(bl=!0):Ae.tag===13&&_w(r,Ae)&&fi(Ae,Wi)&&(bl=!0));var o=Ae.flags;256&o&&Sw(r,Ae),!(512&o)||bo||(bo=!0,Ai(97,function(){return Zo(),null})),Ae=Ae.nextEffect}}function Zo(){if(Vi!==90){var r=97<Vi?97:Vi;return Vi=90,Aa(r,Pw)}return!1}function jw(r,o){Lu.push(o,r),bo||(bo=!0,Ai(97,function(){return Zo(),null}))}function Mh(r,o){Du.push(o,r),bo||(bo=!0,Ai(97,function(){return Zo(),null}))}function Pw(){if(Hi===null)return!1;var r=Hi;if(Hi=null,(48&ut)!=0)throw Error(v(331));var o=ut;ut|=32;var s=Du;Du=[];for(var p=0;p<s.length;p+=2){var g=s[p],w=s[p+1],E=g.destroy;if(g.destroy=void 0,typeof E=="function")try{E()}catch(A){if(w===null)throw Error(v(330));Eo(w,A)}}for(s=Lu,Lu=[],p=0;p<s.length;p+=2){g=s[p],w=s[p+1];try{var O=g.create;g.destroy=O()}catch(A){if(w===null)throw Error(v(330));Eo(w,A)}}for(O=r.current.firstEffect;O!==null;)r=O.nextEffect,O.nextEffect=null,8&O.flags&&(O.sibling=null,O.stateNode=null),O=r;return ut=o,Xr(),!0}function Bh(r,o,s){yo(r,o=wh(0,o=Eu(s,o),1)),o=Nn(),(r=wl(r,1))!==null&&(de(r,1,o),Vn(r,o))}function Eo(r,o){if(r.tag===3)Bh(r,r,o);else for(var s=r.return;s!==null;){if(s.tag===3){Bh(s,r,o);break}if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Tr===null||!Tr.has(p))){var g=xh(s,r=Eu(o,r),1);if(yo(s,g),g=Nn(),(s=wl(s,1))!==null)de(s,1,g),Vn(s,g);else if(typeof p.componentDidCatch=="function"&&(Tr===null||!Tr.has(p)))try{p.componentDidCatch(o,r)}catch{}break}}s=s.return}}function Nw(r,o,s){var p=r.pingCache;p!==null&&p.delete(o),o=Nn(),r.pingedLanes|=r.suspendedLanes&s,yn===r&&(dn&s)===s&&(nn===4||nn===3&&(62914560&dn)===dn&&500>un()-ju?za(r,0):Au|=s),Vn(r,o)}function Lw(r,o){var s=r.stateNode;s!==null&&s.delete(o),(o=0)==0&&(2&(o=r.mode)?4&o?(wo===0&&(wo=La),(o=re(62914560&~wo))===0&&(o=4194304)):o=Ra()===99?1:2:o=1),s=Nn(),(r=wl(r,o))!==null&&(de(r,o,s),Vn(r,s))}function Dw(r,o,s,p){this.tag=r,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(r,o,s,p){return new Dw(r,o,s,p)}function $u(r){return!(!(r=r.prototype)||!r.isReactComponent)}function So(r,o){var s=r.alternate;return s===null?((s=Xn(r.tag,o,r.key,r.mode)).elementType=r.elementType,s.type=r.type,s.stateNode=r.stateNode,s.alternate=r,r.alternate=s):(s.pendingProps=o,s.type=r.type,s.flags=0,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null),s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,o=r.dependencies,s.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},s.sibling=r.sibling,s.index=r.index,s.ref=r.ref,s}function Cl(r,o,s,p,g,w){var E=2;if(p=r,typeof r=="function")$u(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case Y:return Fa(s.children,g,w,o);case ue:E=8,g|=16;break;case be:E=8,g|=1;break;case se:return(r=Xn(12,s,o,8|g)).elementType=se,r.type=se,r.lanes=w,r;case Le:return(r=Xn(13,s,o,g)).type=Le,r.elementType=Le,r.lanes=w,r;case Je:return(r=Xn(19,s,o,g)).elementType=Je,r.lanes=w,r;case ae:return Fu(s,g,w,o);case K:return(r=Xn(24,s,o,g)).elementType=K,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case we:E=10;break e;case ze:E=9;break e;case Ke:E=11;break e;case ft:E=14;break e;case I:E=16,p=null;break e;case M:E=22;break e}throw Error(v(130,r==null?r:typeof r,""))}return(o=Xn(E,s,o,g)).elementType=r,o.type=p,o.lanes=w,o}function Fa(r,o,s,p){return(r=Xn(7,r,p,o)).lanes=s,r}function Fu(r,o,s,p){return(r=Xn(23,r,p,o)).elementType=ae,r.lanes=s,r}function Uu(r,o,s){return(r=Xn(6,r,null,o)).lanes=s,r}function qu(r,o,s){return(o=Xn(4,r.children!==null?r.children:[],r.key,o)).lanes=s,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function Mw(r,o,s){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=s,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=xe(0),this.expirationTimes=xe(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xe(0),this.mutableSourceEagerHydrationData=null}function El(r,o,s,p){var g=o.current,w=Nn(),E=xo(g);e:if(s){t:{if(Br(s=s._reactInternals)!==s||s.tag!==1)throw Error(v(170));var O=s;do{switch(O.tag){case 3:O=O.stateNode.context;break t;case 1:if(jn(O.type)){O=O.stateNode.__reactInternalMemoizedMergedChildContext;break t}}O=O.return}while(O!==null);throw Error(v(171))}if(s.tag===1){var A=s.type;if(jn(A)){s=_p(s,A,O);break e}}s=O}else s=ho;return o.context===null?o.context=s:o.pendingContext=s,(o=go(w,E)).payload={element:r},(p=p===void 0?null:p)!==null&&(o.callback=p),yo(g,o),Co(g,E,w),E}function Hu(r){return(r=r.current).child?(r.child.tag,r.child.stateNode):null}function zh(r,o){if((r=r.memoizedState)!==null&&r.dehydrated!==null){var s=r.retryLane;r.retryLane=s!==0&&s<o?s:o}}function Vu(r,o){zh(r,o),(r=r.alternate)&&zh(r,o)}function Xu(r,o,s){var p=s!=null&&s.hydrationOptions!=null&&s.hydrationOptions.mutableSources||null;if(s=new Mw(r,o,s!=null&&s.hydrate===!0),o=Xn(3,null,null,o===2?7:o===1?3:0),s.current=o,o.stateNode=s,iu(o),r[_a]=s.current,mp(r.nodeType===8?r.parentNode:r),p)for(r=0;r<p.length;r++){var g=(o=p[r])._getVersion;g=g(o._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[o,g]:s.mutableSourceEagerHydrationData.push(o,g)}this._internalRoot=s}function $h(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Fh(r,o,s,p,g){var w=s._reactRootContainer;if(w){var E=w._internalRoot;if(typeof g=="function"){var O=g;g=function(){var F=Hu(E);O.call(F)}}El(o,E,r,g)}else{if(w=s._reactRootContainer=function(F,oe){if(oe||(oe=!(!(oe=F?F.nodeType===9?F.documentElement:F.firstChild:null)||oe.nodeType!==1||!oe.hasAttribute("data-reactroot"))),!oe)for(var ke;ke=F.lastChild;)F.removeChild(ke);return new Xu(F,0,oe?{hydrate:!0}:void 0)}(s,p),E=w._internalRoot,typeof g=="function"){var A=g;g=function(){var F=Hu(E);A.call(F)}}jh(function(){El(o,E,r,g)})}return Hu(E)}Ah=function(r,o,s){var p=o.lanes;if(r!==null)if(r.memoizedProps!==o.pendingProps||Sn.current)ir=!0;else{if(!(s&p)){switch(ir=!1,o.tag){case 3:fh(o),du();break;case 5:Xp(o);break;case 1:jn(o.type)&&Gs(o);break;case 4:lu(o,o.stateNode.containerInfo);break;case 10:p=o.memoizedProps.value;var g=o.type._context;Ft(Js,g._currentValue),g._currentValue=p;break;case 13:if(o.memoizedState!==null)return s&o.child.childLanes?gh(r,o,s):(Ft(qt,1&qt.current),(o=Qr(r,o,s))!==null?o.sibling:null);Ft(qt,1&qt.current);break;case 19:if(p=(s&o.childLanes)!=0,(64&r.flags)!=0){if(p)return bh(r,o,s);o.flags|=64}if((g=o.memoizedState)!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ft(qt,qt.current),p)break;return null;case 23:case 24:return o.lanes=0,ch(r,o,s)}return Qr(r,o,s)}ir=(16384&r.flags)!=0}else ir=!1;switch(o.lanes=0,o.tag){case 2:if(p=o.type,r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2),r=o.pendingProps,g=Oa(o,cn.current),ja(o,s),g=hu(null,o,p,r,g,s),o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0){if(o.tag=1,o.memoizedState=null,o.updateQueue=null,jn(p)){var w=!0;Gs(o)}else w=!1;o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,iu(o);var E=p.getDerivedStateFromProps;typeof E=="function"&&nl(o,p,E,r),g.updater=rl,o.stateNode=g,g._reactInternals=o,su(o,p,r,s),o=wu(null,o,p,!0,w,s)}else o.tag=0,Pn(null,o,g,s),o=o.child;return o;case 16:g=o.elementType;e:{switch(r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2),r=o.pendingProps,g=(w=g._init)(g._payload),o.type=g,w=o.tag=function(oe){if(typeof oe=="function")return $u(oe)?1:0;if(oe!=null){if((oe=oe.$$typeof)===Ke)return 11;if(oe===ft)return 14}return 2}(g),r=ar(g,r),w){case 0:o=bu(null,o,g,r,s);break e;case 1:o=dh(null,o,g,r,s);break e;case 11:o=ih(null,o,g,r,s);break e;case 14:o=sh(null,o,g,ar(g.type,r),p,s);break e}throw Error(v(306,g,""))}return o;case 0:return p=o.type,g=o.pendingProps,bu(r,o,p,g=o.elementType===p?g:ar(p,g),s);case 1:return p=o.type,g=o.pendingProps,dh(r,o,p,g=o.elementType===p?g:ar(p,g),s);case 3:if(fh(o),p=o.updateQueue,r===null||p===null)throw Error(v(282));if(p=o.pendingProps,g=(g=o.memoizedState)!==null?g.element:null,Mp(r,o),Ii(o,p,null,s),(p=o.memoizedState.element)===g)du(),o=Qr(r,o,s);else{if((w=(g=o.stateNode).hydrate)&&(vo=Ta(o.stateNode.containerInfo.firstChild),Wr=o,w=Er=!0),w){if((r=g.mutableSourceEagerHydrationData)!=null)for(g=0;g<r.length;g+=2)(w=r[g])._workInProgressVersionPrimary=r[g+1],Na.push(w);for(s=Vp(o,null,p,s),o.child=s;s;)s.flags=-3&s.flags|1024,s=s.sibling}else Pn(r,o,p,s),du();o=o.child}return o;case 5:return Xp(o),r===null&&uu(o),p=o.type,g=o.pendingProps,w=r!==null?r.memoizedProps:null,E=g.children,Xc(p,g)?E=null:w!==null&&Xc(p,w)&&(o.flags|=16),uh(r,o),Pn(r,o,E,s),o.child;case 6:return r===null&&uu(o),null;case 13:return gh(r,o,s);case 4:return lu(o,o.stateNode.containerInfo),p=o.pendingProps,r===null?o.child=il(o,null,p,s):Pn(r,o,p,s),o.child;case 11:return p=o.type,g=o.pendingProps,ih(r,o,p,g=o.elementType===p?g:ar(p,g),s);case 7:return Pn(r,o,o.pendingProps,s),o.child;case 8:case 12:return Pn(r,o,o.pendingProps.children,s),o.child;case 10:e:{p=o.type._context,g=o.pendingProps,E=o.memoizedProps,w=g.value;var O=o.type._context;if(Ft(Js,O._currentValue),O._currentValue=w,E!==null)if(O=E.value,(w=Un(O,w)?0:0|(typeof p._calculateChangedBits=="function"?p._calculateChangedBits(O,w):1073741823))==0){if(E.children===g.children&&!Sn.current){o=Qr(r,o,s);break e}}else for((O=o.child)!==null&&(O.return=o);O!==null;){var A=O.dependencies;if(A!==null){E=O.child;for(var F=A.firstContext;F!==null;){if(F.context===p&&F.observedBits&w){O.tag===1&&((F=go(-1,s&-s)).tag=2,yo(O,F)),O.lanes|=s,(F=O.alternate)!==null&&(F.lanes|=s),Dp(O.return,s),A.lanes|=s;break}F=F.next}}else E=O.tag===10&&O.type===o.type?null:O.child;if(E!==null)E.return=O;else for(E=O;E!==null;){if(E===o){E=null;break}if((O=E.sibling)!==null){O.return=E.return,E=O;break}E=E.return}O=E}Pn(r,o,g.children,s),o=o.child}return o;case 9:return g=o.type,p=(w=o.pendingProps).children,ja(o,s),p=p(g=qn(g,w.unstable_observedBits)),o.flags|=1,Pn(r,o,p,s),o.child;case 14:return w=ar(g=o.type,o.pendingProps),sh(r,o,g,w=ar(g.type,w),p,s);case 15:return lh(r,o,o.type,o.pendingProps,p,s);case 17:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:ar(p,g),r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2),o.tag=1,jn(p)?(r=!0,Gs(o)):r=!1,ja(o,s),Up(o,p,g),su(o,p,g,s),wu(null,o,p,!0,r,s);case 19:return bh(r,o,s);case 23:case 24:return ch(r,o,s)}throw Error(v(156,o.tag))},Xu.prototype.render=function(r){El(r,this._internalRoot,null,null)},Xu.prototype.unmount=function(){var r=this._internalRoot,o=r.containerInfo;El(null,r,null,function(){o[_a]=null})},dt=function(r){r.tag===13&&(Co(r,4,Nn()),Vu(r,4))},pa=function(r){r.tag===13&&(Co(r,67108864,Nn()),Vu(r,67108864))},Ns=function(r){if(r.tag===13){var o=Nn(),s=xo(r);Co(r,s,o),Vu(r,s)}},Ls=function(r,o){return o()},He=function(r,o,s){switch(o){case"input":if(on(r,s),o=s.name,s.type==="radio"&&o!=null){for(s=r;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<s.length;o++){var p=s[o];if(p!==r&&p.form===r.form){var g=Kc(p);if(!g)throw Error(v(90));wn(p),on(p,g)}}}break;case"textarea":da(r,s);break;case"select":(o=s.value)!=null&&fr(r,!!s.multiple,o,!1)}},Nt=function(r,o){var s=ut;ut|=1;try{return r(o)}finally{(ut=s)===0&&(Ma(),Xr())}},Tt=function(r,o,s,p,g){var w=ut;ut|=4;try{return Aa(98,r.bind(null,o,s,p,g))}finally{(ut=w)===0&&(Ma(),Xr())}},Gt=function(){!(49&ut)&&(function(){if(Kr!==null){var r=Kr;Kr=null,r.forEach(function(o){o.expiredLanes|=24&o.pendingLanes,Vn(o,un())})}Xr()}(),Zo())},wt=function(r,o){var s=ut;ut|=2;try{return r(o)}finally{(ut=s)===0&&(Ma(),Xr())}};var Ki={findFiberByHostInstance:Vo,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Bw={bundleType:Ki.bundleType,version:Ki.version,rendererPackageName:Ki.rendererPackageName,rendererConfig:Ki.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:me.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return(r=function(o){if(o=function(p){var g=p.alternate;if(!g){if((g=Br(p))===null)throw Error(v(188));return g!==p?null:p}for(var w=p,E=g;;){var O=w.return;if(O===null)break;var A=O.alternate;if(A===null){if((E=O.return)!==null){w=E;continue}break}if(O.child===A.child){for(A=O.child;A;){if(A===w)return fa(O),p;if(A===E)return fa(O),g;A=A.sibling}throw Error(v(188))}if(w.return!==E.return)w=O,E=A;else{for(var F=!1,oe=O.child;oe;){if(oe===w){F=!0,w=O,E=A;break}if(oe===E){F=!0,E=O,w=A;break}oe=oe.sibling}if(!F){for(oe=A.child;oe;){if(oe===w){F=!0,w=A,E=O;break}if(oe===E){F=!0,E=A,w=O;break}oe=oe.sibling}if(!F)throw Error(v(189))}}if(w.alternate!==E)throw Error(v(190))}if(w.tag!==3)throw Error(v(188));return w.stateNode.current===w?p:g}(o),!o)return null;for(var s=o;;){if(s.tag===5||s.tag===6)return s;if(s.child)s.child.return=s,s=s.child;else{if(s===o)break;for(;!s.sibling;){if(!s.return||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}}return null}(r))===null?null:r.stateNode},findFiberByHostInstance:Ki.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sl.isDisabled&&Sl.supportsFiber)try{Zc=Sl.inject(Bw),Wo=Sl}catch{}}u.render=function(r,o,s){if(!$h(o))throw Error(v(200));return Fh(null,r,o,!1,s)},u.unmountComponentAtNode=function(r){if(!$h(r))throw Error(v(40));return!!r._reactRootContainer&&(jh(function(){Fh(null,null,r,!1,function(){r._reactRootContainer=null,r[_a]=null})}),!0)}},935:(c,u,f)=>{(function m(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE=="function")try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(h){console.error(h)}})(),c.exports=f(448)},590:c=>{var u=typeof Element<"u",f=typeof Map=="function",m=typeof Set=="function",h=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function y(v,b){if(v===b)return!0;if(v&&b&&typeof v=="object"&&typeof b=="object"){if(v.constructor!==b.constructor)return!1;var x,S,_,R;if(Array.isArray(v)){if((x=v.length)!=b.length)return!1;for(S=x;S--!=0;)if(!y(v[S],b[S]))return!1;return!0}if(f&&v instanceof Map&&b instanceof Map){if(v.size!==b.size)return!1;for(R=v.entries();!(S=R.next()).done;)if(!b.has(S.value[0]))return!1;for(R=v.entries();!(S=R.next()).done;)if(!y(S.value[1],b.get(S.value[0])))return!1;return!0}if(m&&v instanceof Set&&b instanceof Set){if(v.size!==b.size)return!1;for(R=v.entries();!(S=R.next()).done;)if(!b.has(S.value[0]))return!1;return!0}if(h&&ArrayBuffer.isView(v)&&ArrayBuffer.isView(b)){if((x=v.length)!=b.length)return!1;for(S=x;S--!=0;)if(v[S]!==b[S])return!1;return!0}if(v.constructor===RegExp)return v.source===b.source&&v.flags===b.flags;if(v.valueOf!==Object.prototype.valueOf)return v.valueOf()===b.valueOf();if(v.toString!==Object.prototype.toString)return v.toString()===b.toString();if((x=(_=Object.keys(v)).length)!==Object.keys(b).length)return!1;for(S=x;S--!=0;)if(!Object.prototype.hasOwnProperty.call(b,_[S]))return!1;if(u&&v instanceof Element)return!1;for(S=x;S--!=0;)if((_[S]!=="_owner"&&_[S]!=="__v"&&_[S]!=="__o"||!v.$$typeof)&&!y(v[_[S]],b[_[S]]))return!1;return!0}return v!=v&&b!=b}c.exports=function(v,b){try{return y(v,b)}catch(x){if((x.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw x}}},408:(c,u,f)=>{var m=f(418),h=60103,y=60106;u.Fragment=60107,u.StrictMode=60108,u.Profiler=60114;var v=60109,b=60110,x=60112;u.Suspense=60113;var S=60115,_=60116;if(typeof Symbol=="function"&&Symbol.for){var R=Symbol.for;h=R("react.element"),y=R("react.portal"),u.Fragment=R("react.fragment"),u.StrictMode=R("react.strict_mode"),u.Profiler=R("react.profiler"),v=R("react.provider"),b=R("react.context"),x=R("react.forward_ref"),u.Suspense=R("react.suspense"),S=R("react.memo"),_=R("react.lazy")}var L=typeof Symbol=="function"&&Symbol.iterator;function U(I){for(var M="https://reactjs.org/docs/error-decoder.html?invariant="+I,G=1;G<arguments.length;G++)M+="&args[]="+encodeURIComponent(arguments[G]);return"Minified React error #"+I+"; visit "+M+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee={};function D(I,M,G){this.props=I,this.context=M,this.refs=ee,this.updater=G||X}function j(){}function P(I,M,G){this.props=I,this.context=M,this.refs=ee,this.updater=G||X}D.prototype.isReactComponent={},D.prototype.setState=function(I,M){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error(U(85));this.updater.enqueueSetState(this,I,M,"setState")},D.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")},j.prototype=D.prototype;var q=P.prototype=new j;q.constructor=P,m(q,D.prototype),q.isPureReactComponent=!0;var fe={current:null},me=Object.prototype.hasOwnProperty,ge={key:!0,ref:!0,__self:!0,__source:!0};function ye(I,M,G){var ue,ae={},K=null,te=null;if(M!=null)for(ue in M.ref!==void 0&&(te=M.ref),M.key!==void 0&&(K=""+M.key),M)me.call(M,ue)&&!ge.hasOwnProperty(ue)&&(ae[ue]=M[ue]);var Ce=arguments.length-2;if(Ce===1)ae.children=G;else if(1<Ce){for(var Re=Array(Ce),Ee=0;Ee<Ce;Ee++)Re[Ee]=arguments[Ee+2];ae.children=Re}if(I&&I.defaultProps)for(ue in Ce=I.defaultProps)ae[ue]===void 0&&(ae[ue]=Ce[ue]);return{$$typeof:h,type:I,key:K,ref:te,props:ae,_owner:fe.current}}function Y(I){return typeof I=="object"&&I!==null&&I.$$typeof===h}var be=/\/+/g;function se(I,M){return typeof I=="object"&&I!==null&&I.key!=null?function(G){var ue={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ae){return ue[ae]})}(""+I.key):M.toString(36)}function we(I,M,G,ue,ae){var K=typeof I;K!=="undefined"&&K!=="boolean"||(I=null);var te=!1;if(I===null)te=!0;else switch(K){case"string":case"number":te=!0;break;case"object":switch(I.$$typeof){case h:case y:te=!0}}if(te)return ae=ae(te=I),I=ue===""?"."+se(te,0):ue,Array.isArray(ae)?(G="",I!=null&&(G=I.replace(be,"$&/")+"/"),we(ae,M,G,"",function(Ee){return Ee})):ae!=null&&(Y(ae)&&(ae=function(Ee,ot){return{$$typeof:h,type:Ee.type,key:ot,ref:Ee.ref,props:Ee.props,_owner:Ee._owner}}(ae,G+(!ae.key||te&&te.key===ae.key?"":(""+ae.key).replace(be,"$&/")+"/")+I)),M.push(ae)),1;if(te=0,ue=ue===""?".":ue+":",Array.isArray(I))for(var Ce=0;Ce<I.length;Ce++){var Re=ue+se(K=I[Ce],Ce);te+=we(K,M,G,Re,ae)}else if(Re=function(Ee){return Ee===null||typeof Ee!="object"?null:typeof(Ee=L&&Ee[L]||Ee["@@iterator"])=="function"?Ee:null}(I),typeof Re=="function")for(I=Re.call(I),Ce=0;!(K=I.next()).done;)te+=we(K=K.value,M,G,Re=ue+se(K,Ce++),ae);else if(K==="object")throw M=""+I,Error(U(31,M==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":M));return te}function ze(I,M,G){if(I==null)return I;var ue=[],ae=0;return we(I,ue,"","",function(K){return M.call(G,K,ae++)}),ue}function Ke(I){if(I._status===-1){var M=I._result;M=M(),I._status=0,I._result=M,M.then(function(G){I._status===0&&(G=G.default,I._status=1,I._result=G)},function(G){I._status===0&&(I._status=2,I._result=G)})}if(I._status===1)return I._result;throw I._result}var Le={current:null};function Je(){var I=Le.current;if(I===null)throw Error(U(321));return I}var ft={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:fe,IsSomeRendererActing:{current:!1},assign:m};u.Children={map:ze,forEach:function(I,M,G){ze(I,function(){M.apply(this,arguments)},G)},count:function(I){var M=0;return ze(I,function(){M++}),M},toArray:function(I){return ze(I,function(M){return M})||[]},only:function(I){if(!Y(I))throw Error(U(143));return I}},u.Component=D,u.PureComponent=P,u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ft,u.cloneElement=function(I,M,G){if(I==null)throw Error(U(267,I));var ue=m({},I.props),ae=I.key,K=I.ref,te=I._owner;if(M!=null){if(M.ref!==void 0&&(K=M.ref,te=fe.current),M.key!==void 0&&(ae=""+M.key),I.type&&I.type.defaultProps)var Ce=I.type.defaultProps;for(Re in M)me.call(M,Re)&&!ge.hasOwnProperty(Re)&&(ue[Re]=M[Re]===void 0&&Ce!==void 0?Ce[Re]:M[Re])}var Re=arguments.length-2;if(Re===1)ue.children=G;else if(1<Re){Ce=Array(Re);for(var Ee=0;Ee<Re;Ee++)Ce[Ee]=arguments[Ee+2];ue.children=Ce}return{$$typeof:h,type:I.type,key:ae,ref:K,props:ue,_owner:te}},u.createContext=function(I,M){return M===void 0&&(M=null),(I={$$typeof:b,_calculateChangedBits:M,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:v,_context:I},I.Consumer=I},u.createElement=ye,u.createFactory=function(I){var M=ye.bind(null,I);return M.type=I,M},u.createRef=function(){return{current:null}},u.forwardRef=function(I){return{$$typeof:x,render:I}},u.isValidElement=Y,u.lazy=function(I){return{$$typeof:_,_payload:{_status:-1,_result:I},_init:Ke}},u.memo=function(I,M){return{$$typeof:S,type:I,compare:M===void 0?null:M}},u.useCallback=function(I,M){return Je().useCallback(I,M)},u.useContext=function(I,M){return Je().useContext(I,M)},u.useDebugValue=function(){},u.useEffect=function(I,M){return Je().useEffect(I,M)},u.useImperativeHandle=function(I,M,G){return Je().useImperativeHandle(I,M,G)},u.useLayoutEffect=function(I,M){return Je().useLayoutEffect(I,M)},u.useMemo=function(I,M){return Je().useMemo(I,M)},u.useReducer=function(I,M,G){return Je().useReducer(I,M,G)},u.useRef=function(I){return Je().useRef(I)},u.useState=function(I){return Je().useState(I)},u.version="17.0.2"},294:(c,u,f)=>{c.exports=f(408)},666:c=>{var u=function(f){var m,h=Object.prototype,y=h.hasOwnProperty,v=typeof Symbol=="function"?Symbol:{},b=v.iterator||"@@iterator",x=v.asyncIterator||"@@asyncIterator",S=v.toStringTag||"@@toStringTag";function _(I,M,G){return Object.defineProperty(I,M,{value:G,enumerable:!0,configurable:!0,writable:!0}),I[M]}try{_({},"")}catch{_=function(M,G,ue){return M[G]=ue}}function R(I,M,G,ue){var ae=M&&M.prototype instanceof P?M:P,K=Object.create(ae.prototype),te=new Le(ue||[]);return K._invoke=function(Ce,Re,Ee){var ot=U;return function(St,Vt){if(ot===ee)throw new Error("Generator is already running");if(ot===D){if(St==="throw")throw Vt;return ft()}for(Ee.method=St,Ee.arg=Vt;;){var Ot=Ee.delegate;if(Ot){var xt=we(Ot,Ee);if(xt){if(xt===j)continue;return xt}}if(Ee.method==="next")Ee.sent=Ee._sent=Ee.arg;else if(Ee.method==="throw"){if(ot===U)throw ot=D,Ee.arg;Ee.dispatchException(Ee.arg)}else Ee.method==="return"&&Ee.abrupt("return",Ee.arg);ot=ee;var lt=L(Ce,Re,Ee);if(lt.type==="normal"){if(ot=Ee.done?D:X,lt.arg===j)continue;return{value:lt.arg,done:Ee.done}}lt.type==="throw"&&(ot=D,Ee.method="throw",Ee.arg=lt.arg)}}}(I,G,te),K}function L(I,M,G){try{return{type:"normal",arg:I.call(M,G)}}catch(ue){return{type:"throw",arg:ue}}}f.wrap=R;var U="suspendedStart",X="suspendedYield",ee="executing",D="completed",j={};function P(){}function q(){}function fe(){}var me={};_(me,b,function(){return this});var ge=Object.getPrototypeOf,ye=ge&&ge(ge(Je([])));ye&&ye!==h&&y.call(ye,b)&&(me=ye);var Y=fe.prototype=P.prototype=Object.create(me);function be(I){["next","throw","return"].forEach(function(M){_(I,M,function(G){return this._invoke(M,G)})})}function se(I,M){function G(ae,K,te,Ce){var Re=L(I[ae],I,K);if(Re.type!=="throw"){var Ee=Re.arg,ot=Ee.value;return ot&&typeof ot=="object"&&y.call(ot,"__await")?M.resolve(ot.__await).then(function(St){G("next",St,te,Ce)},function(St){G("throw",St,te,Ce)}):M.resolve(ot).then(function(St){Ee.value=St,te(Ee)},function(St){return G("throw",St,te,Ce)})}Ce(Re.arg)}var ue;this._invoke=function(ae,K){function te(){return new M(function(Ce,Re){G(ae,K,Ce,Re)})}return ue=ue?ue.then(te,te):te()}}function we(I,M){var G=I.iterator[M.method];if(G===m){if(M.delegate=null,M.method==="throw"){if(I.iterator.return&&(M.method="return",M.arg=m,we(I,M),M.method==="throw"))return j;M.method="throw",M.arg=new TypeError("The iterator does not provide a 'throw' method")}return j}var ue=L(G,I.iterator,M.arg);if(ue.type==="throw")return M.method="throw",M.arg=ue.arg,M.delegate=null,j;var ae=ue.arg;return ae?ae.done?(M[I.resultName]=ae.value,M.next=I.nextLoc,M.method!=="return"&&(M.method="next",M.arg=m),M.delegate=null,j):ae:(M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,j)}function ze(I){var M={tryLoc:I[0]};1 in I&&(M.catchLoc=I[1]),2 in I&&(M.finallyLoc=I[2],M.afterLoc=I[3]),this.tryEntries.push(M)}function Ke(I){var M=I.completion||{};M.type="normal",delete M.arg,I.completion=M}function Le(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(ze,this),this.reset(!0)}function Je(I){if(I){var M=I[b];if(M)return M.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var G=-1,ue=function ae(){for(;++G<I.length;)if(y.call(I,G))return ae.value=I[G],ae.done=!1,ae;return ae.value=m,ae.done=!0,ae};return ue.next=ue}}return{next:ft}}function ft(){return{value:m,done:!0}}return q.prototype=fe,_(Y,"constructor",fe),_(fe,"constructor",q),q.displayName=_(fe,S,"GeneratorFunction"),f.isGeneratorFunction=function(I){var M=typeof I=="function"&&I.constructor;return!!M&&(M===q||(M.displayName||M.name)==="GeneratorFunction")},f.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,fe):(I.__proto__=fe,_(I,S,"GeneratorFunction")),I.prototype=Object.create(Y),I},f.awrap=function(I){return{__await:I}},be(se.prototype),_(se.prototype,x,function(){return this}),f.AsyncIterator=se,f.async=function(I,M,G,ue,ae){ae===void 0&&(ae=Promise);var K=new se(R(I,M,G,ue),ae);return f.isGeneratorFunction(M)?K:K.next().then(function(te){return te.done?te.value:K.next()})},be(Y),_(Y,S,"Generator"),_(Y,b,function(){return this}),_(Y,"toString",function(){return"[object Generator]"}),f.keys=function(I){var M=[];for(var G in I)M.push(G);return M.reverse(),function ue(){for(;M.length;){var ae=M.pop();if(ae in I)return ue.value=ae,ue.done=!1,ue}return ue.done=!0,ue}},f.values=Je,Le.prototype={constructor:Le,reset:function(I){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(Ke),!I)for(var M in this)M.charAt(0)==="t"&&y.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=m)},stop:function(){this.done=!0;var I=this.tryEntries[0].completion;if(I.type==="throw")throw I.arg;return this.rval},dispatchException:function(I){if(this.done)throw I;var M=this;function G(Re,Ee){return K.type="throw",K.arg=I,M.next=Re,Ee&&(M.method="next",M.arg=m),!!Ee}for(var ue=this.tryEntries.length-1;ue>=0;--ue){var ae=this.tryEntries[ue],K=ae.completion;if(ae.tryLoc==="root")return G("end");if(ae.tryLoc<=this.prev){var te=y.call(ae,"catchLoc"),Ce=y.call(ae,"finallyLoc");if(te&&Ce){if(this.prev<ae.catchLoc)return G(ae.catchLoc,!0);if(this.prev<ae.finallyLoc)return G(ae.finallyLoc)}else if(te){if(this.prev<ae.catchLoc)return G(ae.catchLoc,!0)}else{if(!Ce)throw new Error("try statement without catch or finally");if(this.prev<ae.finallyLoc)return G(ae.finallyLoc)}}}},abrupt:function(I,M){for(var G=this.tryEntries.length-1;G>=0;--G){var ue=this.tryEntries[G];if(ue.tryLoc<=this.prev&&y.call(ue,"finallyLoc")&&this.prev<ue.finallyLoc){var ae=ue;break}}ae&&(I==="break"||I==="continue")&&ae.tryLoc<=M&&M<=ae.finallyLoc&&(ae=null);var K=ae?ae.completion:{};return K.type=I,K.arg=M,ae?(this.method="next",this.next=ae.finallyLoc,j):this.complete(K)},complete:function(I,M){if(I.type==="throw")throw I.arg;return I.type==="break"||I.type==="continue"?this.next=I.arg:I.type==="return"?(this.rval=this.arg=I.arg,this.method="return",this.next="end"):I.type==="normal"&&M&&(this.next=M),j},finish:function(I){for(var M=this.tryEntries.length-1;M>=0;--M){var G=this.tryEntries[M];if(G.finallyLoc===I)return this.complete(G.completion,G.afterLoc),Ke(G),j}},catch:function(I){for(var M=this.tryEntries.length-1;M>=0;--M){var G=this.tryEntries[M];if(G.tryLoc===I){var ue=G.completion;if(ue.type==="throw"){var ae=ue.arg;Ke(G)}return ae}}throw new Error("illegal catch attempt")},delegateYield:function(I,M,G){return this.delegate={iterator:Je(I),resultName:M,nextLoc:G},this.method==="next"&&(this.arg=m),j}},f}(c.exports);try{regeneratorRuntime=u}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=u:Function("r","regeneratorRuntime = r")(u)}},53:(c,u)=>{var f,m,h,y;if(typeof performance=="object"&&typeof performance.now=="function"){var v=performance;u.unstable_now=function(){return v.now()}}else{var b=Date,x=b.now();u.unstable_now=function(){return b.now()-x}}if(typeof window>"u"||typeof MessageChannel!="function"){var S=null,_=null,R=function(){if(S!==null)try{var K=u.unstable_now();S(!0,K),S=null}catch(te){throw setTimeout(R,0),te}};f=function(K){S!==null?setTimeout(f,0,K):(S=K,setTimeout(R,0))},m=function(K,te){_=setTimeout(K,te)},h=function(){clearTimeout(_)},u.unstable_shouldYield=function(){return!1},y=u.unstable_forceFrameRate=function(){}}else{var L=window.setTimeout,U=window.clearTimeout;if(typeof console<"u"){var X=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof X!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var ee=!1,D=null,j=-1,P=5,q=0;u.unstable_shouldYield=function(){return u.unstable_now()>=q},y=function(){},u.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<K?Math.floor(1e3/K):5};var fe=new MessageChannel,me=fe.port2;fe.port1.onmessage=function(){if(D!==null){var K=u.unstable_now();q=K+P;try{D(!0,K)?me.postMessage(null):(ee=!1,D=null)}catch(te){throw me.postMessage(null),te}}else ee=!1},f=function(K){D=K,ee||(ee=!0,me.postMessage(null))},m=function(K,te){j=L(function(){K(u.unstable_now())},te)},h=function(){U(j),j=-1}}function ge(K,te){var Ce=K.length;K.push(te);e:for(;;){var Re=Ce-1>>>1,Ee=K[Re];if(!(Ee!==void 0&&0<be(Ee,te)))break e;K[Re]=te,K[Ce]=Ee,Ce=Re}}function ye(K){return(K=K[0])===void 0?null:K}function Y(K){var te=K[0];if(te!==void 0){var Ce=K.pop();if(Ce!==te){K[0]=Ce;e:for(var Re=0,Ee=K.length;Re<Ee;){var ot=2*(Re+1)-1,St=K[ot],Vt=ot+1,Ot=K[Vt];if(St!==void 0&&0>be(St,Ce))Ot!==void 0&&0>be(Ot,St)?(K[Re]=Ot,K[Vt]=Ce,Re=Vt):(K[Re]=St,K[ot]=Ce,Re=ot);else{if(!(Ot!==void 0&&0>be(Ot,Ce)))break e;K[Re]=Ot,K[Vt]=Ce,Re=Vt}}}return te}return null}function be(K,te){var Ce=K.sortIndex-te.sortIndex;return Ce!==0?Ce:K.id-te.id}var se=[],we=[],ze=1,Ke=null,Le=3,Je=!1,ft=!1,I=!1;function M(K){for(var te=ye(we);te!==null;){if(te.callback===null)Y(we);else{if(!(te.startTime<=K))break;Y(we),te.sortIndex=te.expirationTime,ge(se,te)}te=ye(we)}}function G(K){if(I=!1,M(K),!ft)if(ye(se)!==null)ft=!0,f(ue);else{var te=ye(we);te!==null&&m(G,te.startTime-K)}}function ue(K,te){ft=!1,I&&(I=!1,h()),Je=!0;var Ce=Le;try{for(M(te),Ke=ye(se);Ke!==null&&(!(Ke.expirationTime>te)||K&&!u.unstable_shouldYield());){var Re=Ke.callback;if(typeof Re=="function"){Ke.callback=null,Le=Ke.priorityLevel;var Ee=Re(Ke.expirationTime<=te);te=u.unstable_now(),typeof Ee=="function"?Ke.callback=Ee:Ke===ye(se)&&Y(se),M(te)}else Y(se);Ke=ye(se)}if(Ke!==null)var ot=!0;else{var St=ye(we);St!==null&&m(G,St.startTime-te),ot=!1}return ot}finally{Ke=null,Le=Ce,Je=!1}}var ae=y;u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(K){K.callback=null},u.unstable_continueExecution=function(){ft||Je||(ft=!0,f(ue))},u.unstable_getCurrentPriorityLevel=function(){return Le},u.unstable_getFirstCallbackNode=function(){return ye(se)},u.unstable_next=function(K){switch(Le){case 1:case 2:case 3:var te=3;break;default:te=Le}var Ce=Le;Le=te;try{return K()}finally{Le=Ce}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=ae,u.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Ce=Le;Le=K;try{return te()}finally{Le=Ce}},u.unstable_scheduleCallback=function(K,te,Ce){var Re=u.unstable_now();switch(Ce=typeof Ce=="object"&&Ce!==null&&typeof(Ce=Ce.delay)=="number"&&0<Ce?Re+Ce:Re,K){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return K={id:ze++,callback:te,priorityLevel:K,startTime:Ce,expirationTime:Ee=Ce+Ee,sortIndex:-1},Ce>Re?(K.sortIndex=Ce,ge(we,K),ye(se)===null&&K===ye(we)&&(I?h():I=!0,m(G,Ce-Re))):(K.sortIndex=Ee,ge(se,K),ft||Je||(ft=!0,f(ue))),K},u.unstable_wrapCallback=function(K){var te=Le;return function(){var Ce=Le;Le=te;try{return K.apply(this,arguments)}finally{Le=Ce}}}},840:(c,u,f)=>{c.exports=f(53)},285:(c,u,f)=>{var m;c.exports=(m=f(294),function(h){var y={};function v(b){if(y[b])return y[b].exports;var x=y[b]={i:b,l:!1,exports:{}};return h[b].call(x.exports,x,x.exports,v),x.l=!0,x.exports}return v.m=h,v.c=y,v.d=function(b,x,S){v.o(b,x)||Object.defineProperty(b,x,{enumerable:!0,get:S})},v.r=function(b){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})},v.t=function(b,x){if(1&x&&(b=v(b)),8&x||4&x&&typeof b=="object"&&b&&b.__esModule)return b;var S=Object.create(null);if(v.r(S),Object.defineProperty(S,"default",{enumerable:!0,value:b}),2&x&&typeof b!="string")for(var _ in b)v.d(S,_,function(R){return b[R]}.bind(null,_));return S},v.n=function(b){var x=b&&b.__esModule?function(){return b.default}:function(){return b};return v.d(x,"a",x),x},v.o=function(b,x){return Object.prototype.hasOwnProperty.call(b,x)},v.p="",v(v.s=9)}([function(h,y){h.exports=m},function(h,y,v){var b;(function(){var x={}.hasOwnProperty;function S(){for(var _=[],R=0;R<arguments.length;R++){var L=arguments[R];if(L){var U=typeof L;if(U==="string"||U==="number")_.push(L);else if(Array.isArray(L)){if(L.length){var X=S.apply(null,L);X&&_.push(X)}}else if(U==="object")if(L.toString===Object.prototype.toString)for(var ee in L)x.call(L,ee)&&L[ee]&&_.push(ee);else _.push(L.toString())}}return _.join(" ")}h.exports?(S.default=S,h.exports=S):(b=function(){return S}.apply(y,[]))===void 0||(h.exports=b)})()},function(h,y,v){h.exports={count:"Count__count___VwSFw",label:"Count__label___UClje",smallLabel:"Count__smallLabel___E3KvK",iconCountWrapper:"Count__iconCountWrapper___CTSi2",sectionTallyIconCountWrapper:"Count__sectionTallyIconCountWrapper___lTlUR",expandedIconCount:"Count__expandedIconCount___c3tc2",number:"Count__number___4oBqJ",smallNumber:"Count__smallNumber___wi6E7",horizontal:"Count__horizontal___wp4Sz",small:"Count__small___kecST"}},function(h,y,v){h.exports={sectionTallyWidget:"SectionTally__sectionTallyWidget___aaCj5",sectionTallyWrapper:"SectionTally__sectionTallyWrapper___nwj2j",tally:"SectionTally__tally___es9p7",badgeTally:"SectionTally__badgeTally___ZYqar",horizontal:"SectionTally__horizontal___-hgL+",show:"SectionTally__show___wciqp",logo:"SectionTally__logo___pEojg",logoSmall:"SectionTally__logoSmall___yzxV+",small:"SectionTally__small___QBk26",forceCollapse:"SectionTally__forceCollapse___MexwG",chartSubheading:"SectionTally__chartSubheading___tm7gz",chartLabel:"SectionTally__chartLabel___Nm4F+"}},function(h,y,v){h.exports={tally:"Tally__tally___wF-n7",badgeTally:"Tally__badgeTally___AkCwi",horizontal:"Tally__horizontal___TYyqc",show:"Tally__show___EesAt",logo:"Tally__logo___k79zv",logoSmall:"Tally__logoSmall___JZuyy",small:"Tally__small___lrym1",forceCollapse:"Tally__forceCollapse___4k5aa"}},function(h,y,v){h.exports={tally:"HideableTally__tally___TXiqB",hideContainer:"HideableTally__hideContainer___w5Wlj",logoSingleLetter:"HideableTally__logoSingleLetter___OwmJA",logoContainer:"HideableTally__logoContainer___kXnxF",openingArrow:"HideableTally__openingArrow___yBpbp",closingArrow:"HideableTally__closingArrow___pKIyO"}},function(h,y,v){const b=v(10),x=v(11),S=v(12),_=v(13);function R(P){if(typeof P!="string"||P.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function L(P,q){return q.encode?q.strict?b(P):encodeURIComponent(P):P}function U(P,q){return q.decode?x(P):P}function X(P){const q=P.indexOf("#");return q!==-1&&(P=P.slice(0,q)),P}function ee(P){const q=(P=X(P)).indexOf("?");return q===-1?"":P.slice(q+1)}function D(P,q){return q.parseNumbers&&!Number.isNaN(Number(P))&&typeof P=="string"&&P.trim()!==""?P=Number(P):!q.parseBooleans||P===null||P.toLowerCase()!=="true"&&P.toLowerCase()!=="false"||(P=P.toLowerCase()==="true"),P}function j(P,q){R((q=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},q)).arrayFormatSeparator);const fe=function(ge){let ye;switch(ge.arrayFormat){case"index":return(Y,be,se)=>{ye=/\[(\d*)\]$/.exec(Y),Y=Y.replace(/\[\d*\]$/,""),ye?(se[Y]===void 0&&(se[Y]={}),se[Y][ye[1]]=be):se[Y]=be};case"bracket":return(Y,be,se)=>{ye=/(\[\])$/.exec(Y),Y=Y.replace(/\[\]$/,""),ye?se[Y]!==void 0?se[Y]=[].concat(se[Y],be):se[Y]=[be]:se[Y]=be};case"comma":case"separator":return(Y,be,se)=>{const we=typeof be=="string"&&be.includes(ge.arrayFormatSeparator),ze=typeof be=="string"&&!we&&U(be,ge).includes(ge.arrayFormatSeparator);be=ze?U(be,ge):be;const Ke=we||ze?be.split(ge.arrayFormatSeparator).map(Le=>U(Le,ge)):be===null?be:U(be,ge);se[Y]=Ke};default:return(Y,be,se)=>{se[Y]!==void 0?se[Y]=[].concat(se[Y],be):se[Y]=be}}}(q),me=Object.create(null);if(typeof P!="string"||!(P=P.trim().replace(/^[?#&]/,"")))return me;for(const ge of P.split("&")){if(ge==="")continue;let[ye,Y]=S(q.decode?ge.replace(/\+/g," "):ge,"=");Y=Y===void 0?null:["comma","separator"].includes(q.arrayFormat)?Y:U(Y,q),fe(U(ye,q),Y,me)}for(const ge of Object.keys(me)){const ye=me[ge];if(typeof ye=="object"&&ye!==null)for(const Y of Object.keys(ye))ye[Y]=D(ye[Y],q);else me[ge]=D(ye,q)}return q.sort===!1?me:(q.sort===!0?Object.keys(me).sort():Object.keys(me).sort(q.sort)).reduce((ge,ye)=>{const Y=me[ye];return Y&&typeof Y=="object"&&!Array.isArray(Y)?ge[ye]=function be(se){return Array.isArray(se)?se.sort():typeof se=="object"?be(Object.keys(se)).sort((we,ze)=>Number(we)-Number(ze)).map(we=>se[we]):se}(Y):ge[ye]=Y,ge},Object.create(null))}y.extract=ee,y.parse=j,y.stringify=(P,q)=>{if(!P)return"";R((q=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},q)).arrayFormatSeparator);const fe=Y=>q.skipNull&&P[Y]==null||q.skipEmptyString&&P[Y]==="",me=function(Y){switch(Y.arrayFormat){case"index":return be=>(se,we)=>{const ze=se.length;return we===void 0||Y.skipNull&&we===null||Y.skipEmptyString&&we===""?se:we===null?[...se,[L(be,Y),"[",ze,"]"].join("")]:[...se,[L(be,Y),"[",L(ze,Y),"]=",L(we,Y)].join("")]};case"bracket":return be=>(se,we)=>we===void 0||Y.skipNull&&we===null||Y.skipEmptyString&&we===""?se:we===null?[...se,[L(be,Y),"[]"].join("")]:[...se,[L(be,Y),"[]=",L(we,Y)].join("")];case"comma":case"separator":return be=>(se,we)=>we==null||we.length===0?se:se.length===0?[[L(be,Y),"=",L(we,Y)].join("")]:[[se,L(we,Y)].join(Y.arrayFormatSeparator)];default:return be=>(se,we)=>we===void 0||Y.skipNull&&we===null||Y.skipEmptyString&&we===""?se:we===null?[...se,L(be,Y)]:[...se,[L(be,Y),"=",L(we,Y)].join("")]}}(q),ge={};for(const Y of Object.keys(P))fe(Y)||(ge[Y]=P[Y]);const ye=Object.keys(ge);return q.sort!==!1&&ye.sort(q.sort),ye.map(Y=>{const be=P[Y];return be===void 0?"":be===null?L(Y,q):Array.isArray(be)?be.reduce(me(Y),[]).join("&"):L(Y,q)+"="+L(be,q)}).filter(Y=>Y.length>0).join("&")},y.parseUrl=(P,q)=>{q=Object.assign({decode:!0},q);const[fe,me]=S(P,"#");return Object.assign({url:fe.split("?")[0]||"",query:j(ee(P),q)},q&&q.parseFragmentIdentifier&&me?{fragmentIdentifier:U(me,q)}:{})},y.stringifyUrl=(P,q)=>{q=Object.assign({encode:!0,strict:!0},q);const fe=X(P.url).split("?")[0]||"",me=y.extract(P.url),ge=y.parse(me,{sort:!1}),ye=Object.assign(ge,P.query);let Y=y.stringify(ye,q);Y&&(Y="?"+Y);let be=function(se){let we="";const ze=se.indexOf("#");return ze!==-1&&(we=se.slice(ze)),we}(P.url);return P.fragmentIdentifier&&(be="#"+L(P.fragmentIdentifier,q)),`${fe}${Y}${be}`},y.pick=(P,q,fe)=>{fe=Object.assign({parseFragmentIdentifier:!0},fe);const{url:me,query:ge,fragmentIdentifier:ye}=y.parseUrl(P,fe);return y.stringifyUrl({url:me,query:_(ge,q),fragmentIdentifier:ye},fe)},y.exclude=(P,q,fe)=>{const me=Array.isArray(q)?ge=>!q.includes(ge):(ge,ye)=>!q(ge,ye);return y.pick(P,me,fe)}},function(h,y,v){h.exports={icon:"Icon__icon___rkFdu",unclassified:"Icon__unclassified___KG7dh",contrasting:"Icon__contrasting___XemUp",mentioning:"Icon__mentioning___eZSXr",supporting:"Icon__supporting___6A01H",retractions:"Icon__retractions___+fJ+N",notices:"Icon__notices___DbL2K",publications:"Icon__publications___3dd2q",smallIcon:"Icon__smallIcon___3rDRZ",openingArrow:"Icon__openingArrow___pSL8O",closingCaret:"Icon__closingCaret___EMT7i"}},function(h,y,v){h.exports={sectionIcon:"SectionIcon__sectionIcon___nqPTw",introduction:"SectionIcon__introduction___uhUFG",methods:"SectionIcon__methods___RVooU",results:"SectionIcon__results___1k9LI",discussion:"SectionIcon__discussion___Qeyb0",other:"SectionIcon__other___uF+vV",smallSectionIcon:"SectionIcon__smallSectionIcon___nCjHN"}},function(h,y,v){v.r(y),v.d(y,"HideableTally",function(){return we}),v.d(y,"Tally",function(){return Y}),v.d(y,"Count",function(){return P}),v.d(y,"TallyLoader",function(){return xn}),v.d(y,"SectionTally",function(){return ui}),v.d(y,"SectionTallyCount",function(){return Bn});var b=v(0),x=v.n(b),S=v(6),_=v.n(S),R=v(1),L=v.n(R),U=v(7),X=v.n(U),ee=({type:z,small:ne=!1})=>x.a.createElement("i",{className:L()(X.a.icon,X.a[z],{[X.a.smallIcon]:ne})}),D=v(2),j=v.n(D),P=({className:z,horizontal:ne,type:Se,count:De,showLabels:ve=!1,small:Te=!1})=>x.a.createElement("div",{className:L()(j.a.count,z,{[j.a.horizontal]:ne,[j.a.small]:Te})},ve&&x.a.createElement("span",{className:L()(j.a.label,{[j.a.smallLabel]:Te})},Se),x.a.createElement("div",{className:L()(j.a.iconCountWrapper,{[j.a.expandedIconCount]:!ve})},x.a.createElement(ee,{type:Se,small:!0}),x.a.createElement("span",{className:L()(j.a.number,{[j.a.smallNumber]:Te})},De))),q=v(4),fe=v.n(q);const me=["retract","withdraw","remove"],ge=z=>{for(const ne of me)if(z&&z.toLowerCase().includes(ne))return!1;return!0},ye=z=>{for(const ne of me)if(z&&z.toLowerCase().includes(ne))return!0;return!1};var Y=({source:z,campaign:ne,autologin:Se,rewardfulID:De,tally:ve,forceCollapse:Te,showLabels:He,notices:je,small:$e=!1,horizontal:at=!1,isBadge:At=!1,showZero:pt=!0,showLogo:Nt=!0})=>{const Tt={utm_medium:At?"badge":"plugin",utm_source:z||"generic",utm_campaign:ne||At?"badge":"plugin"};Se&&(Tt.autologin=Se),De&&(Tt.via=De);const Gt=_.a.stringify(Tt),wt={tally:L()("scite-tally",fe.a.tally,{[fe.a.horizontal]:at,[fe.a.small]:$e&&at,[fe.a.show]:pt?ve:ve&&(ve.total>0||ve.citingPublications>0),[fe.a.forceCollapse]:Te&&ve.total===0&&ve.citingPublications===0,[fe.a.badgeTally]:At})},Yt=ve&&ve.citingPublications&&ve.citingPublications.toLocaleString()||0,an=ve&&ve.supporting&&ve.supporting.toLocaleString()||0,mr=ve&&ve.contradicting&&ve.contradicting.toLocaleString()||0,An=ve&&ve.mentioning&&ve.mentioning.toLocaleString()||0,or=je&&je.length>0&&je.filter(ye)||[],Cn=je&&je.length>0&&je.filter(ge)||[],zn=or.length.toLocaleString()||0,sn=Cn.length.toLocaleString()||0;return x.a.createElement("div",{className:wt.tally,onClick:()=>{window.open(`https://scite.ai/reports/${ve&&ve.doi}?${Gt}`)}},!at&&Nt&&x.a.createElement("img",{className:L()(fe.a.logo,{[fe.a.logoSmall]:$e}),src:"https://cdn.scite.ai/assets/images/logo.svg"}),x.a.createElement(P,{type:"publications",count:Yt,horizontal:at,showLabels:He,small:$e}),x.a.createElement(P,{type:"supporting",count:an,horizontal:at,showLabels:He,small:$e}),x.a.createElement(P,{type:"mentioning",count:An,horizontal:at,showLabels:He,small:$e}),x.a.createElement(P,{type:"contrasting",count:mr,horizontal:at,showLabels:He,small:$e}),zn>0&&x.a.createElement(P,{type:"retractions",count:zn,horizontal:at,showLabels:He,small:$e}),sn>0&&x.a.createElement(P,{type:"notices",count:sn,horizontal:at,showLabels:He,small:$e}))},be=v(5),se=v.n(be),we=({children:z,hide:ne=!1,clickFn:Se=()=>{}})=>{const[De,ve]=Object(b.useState)(!ne),Te=()=>{ve(!De),Se()};return x.a.createElement("div",{className:se.a.tally},De?x.a.createElement(x.a.Fragment,null,z,x.a.createElement("div",{className:se.a.hideContainer,onClick:Te},x.a.createElement("div",{className:se.a.openingArrow},x.a.createElement(ee,{type:"openingArrow"})),x.a.createElement("div",null,"hide"))):x.a.createElement("div",{className:se.a.logoContainer,onClick:Te},x.a.createElement("div",{className:se.a.closingArrow},x.a.createElement(ee,{type:"closingCaret"})),x.a.createElement("img",{className:se.a.logoSingleLetter,src:"https://cdn.scite.ai/assets/images/scite_single_letter.svg"})))},ze=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||ze!==void 0&&ze,Ke="URLSearchParams"in ze,Le="Symbol"in ze&&"iterator"in Symbol,Je="FileReader"in ze&&"Blob"in ze&&function(){try{return new Blob,!0}catch{return!1}}(),ft="FormData"in ze,I="ArrayBuffer"in ze;if(I)var M=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],G=ArrayBuffer.isView||function(z){return z&&M.indexOf(Object.prototype.toString.call(z))>-1};function ue(z){if(typeof z!="string"&&(z=String(z)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(z)||z==="")throw new TypeError('Invalid character in header field name: "'+z+'"');return z.toLowerCase()}function ae(z){return typeof z!="string"&&(z=String(z)),z}function K(z){var ne={next:function(){var Se=z.shift();return{done:Se===void 0,value:Se}}};return Le&&(ne[Symbol.iterator]=function(){return ne}),ne}function te(z){this.map={},z instanceof te?z.forEach(function(ne,Se){this.append(Se,ne)},this):Array.isArray(z)?z.forEach(function(ne){this.append(ne[0],ne[1])},this):z&&Object.getOwnPropertyNames(z).forEach(function(ne){this.append(ne,z[ne])},this)}function Ce(z){if(z.bodyUsed)return Promise.reject(new TypeError("Already read"));z.bodyUsed=!0}function Re(z){return new Promise(function(ne,Se){z.onload=function(){ne(z.result)},z.onerror=function(){Se(z.error)}})}function Ee(z){var ne=new FileReader,Se=Re(ne);return ne.readAsArrayBuffer(z),Se}function ot(z){if(z.slice)return z.slice(0);var ne=new Uint8Array(z.byteLength);return ne.set(new Uint8Array(z)),ne.buffer}function St(){return this.bodyUsed=!1,this._initBody=function(z){var ne;this.bodyUsed=this.bodyUsed,this._bodyInit=z,z?typeof z=="string"?this._bodyText=z:Je&&Blob.prototype.isPrototypeOf(z)?this._bodyBlob=z:ft&&FormData.prototype.isPrototypeOf(z)?this._bodyFormData=z:Ke&&URLSearchParams.prototype.isPrototypeOf(z)?this._bodyText=z.toString():I&&Je&&(ne=z)&&DataView.prototype.isPrototypeOf(ne)?(this._bodyArrayBuffer=ot(z.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):I&&(ArrayBuffer.prototype.isPrototypeOf(z)||G(z))?this._bodyArrayBuffer=ot(z):this._bodyText=z=Object.prototype.toString.call(z):this._bodyText="",this.headers.get("content-type")||(typeof z=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Ke&&URLSearchParams.prototype.isPrototypeOf(z)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Je&&(this.blob=function(){var z=Ce(this);if(z)return z;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Ce(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(Ee)}),this.text=function(){var z,ne,Se,De=Ce(this);if(De)return De;if(this._bodyBlob)return z=this._bodyBlob,Se=Re(ne=new FileReader),ne.readAsText(z),Se;if(this._bodyArrayBuffer)return Promise.resolve(function(ve){for(var Te=new Uint8Array(ve),He=new Array(Te.length),je=0;je<Te.length;je++)He[je]=String.fromCharCode(Te[je]);return He.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ft&&(this.formData=function(){return this.text().then(xt)}),this.json=function(){return this.text().then(JSON.parse)},this}te.prototype.append=function(z,ne){z=ue(z),ne=ae(ne);var Se=this.map[z];this.map[z]=Se?Se+", "+ne:ne},te.prototype.delete=function(z){delete this.map[ue(z)]},te.prototype.get=function(z){return z=ue(z),this.has(z)?this.map[z]:null},te.prototype.has=function(z){return this.map.hasOwnProperty(ue(z))},te.prototype.set=function(z,ne){this.map[ue(z)]=ae(ne)},te.prototype.forEach=function(z,ne){for(var Se in this.map)this.map.hasOwnProperty(Se)&&z.call(ne,this.map[Se],Se,this)},te.prototype.keys=function(){var z=[];return this.forEach(function(ne,Se){z.push(Se)}),K(z)},te.prototype.values=function(){var z=[];return this.forEach(function(ne){z.push(ne)}),K(z)},te.prototype.entries=function(){var z=[];return this.forEach(function(ne,Se){z.push([Se,ne])}),K(z)},Le&&(te.prototype[Symbol.iterator]=te.prototype.entries);var Vt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Ot(z,ne){if(!(this instanceof Ot))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var Se,De,ve=(ne=ne||{}).body;if(z instanceof Ot){if(z.bodyUsed)throw new TypeError("Already read");this.url=z.url,this.credentials=z.credentials,ne.headers||(this.headers=new te(z.headers)),this.method=z.method,this.mode=z.mode,this.signal=z.signal,ve||z._bodyInit==null||(ve=z._bodyInit,z.bodyUsed=!0)}else this.url=String(z);if(this.credentials=ne.credentials||this.credentials||"same-origin",!ne.headers&&this.headers||(this.headers=new te(ne.headers)),this.method=(De=(Se=ne.method||this.method||"GET").toUpperCase(),Vt.indexOf(De)>-1?De:Se),this.mode=ne.mode||this.mode||null,this.signal=ne.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ve)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ve),!(this.method!=="GET"&&this.method!=="HEAD"||ne.cache!=="no-store"&&ne.cache!=="no-cache")){var Te=/([?&])_=[^&]*/;Te.test(this.url)?this.url=this.url.replace(Te,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function xt(z){var ne=new FormData;return z.trim().split("&").forEach(function(Se){if(Se){var De=Se.split("="),ve=De.shift().replace(/\+/g," "),Te=De.join("=").replace(/\+/g," ");ne.append(decodeURIComponent(ve),decodeURIComponent(Te))}}),ne}function lt(z,ne){if(!(this instanceof lt))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');ne||(ne={}),this.type="default",this.status=ne.status===void 0?200:ne.status,this.ok=this.status>=200&&this.status<300,this.statusText=ne.statusText===void 0?"":""+ne.statusText,this.headers=new te(ne.headers),this.url=ne.url||"",this._initBody(z)}Ot.prototype.clone=function(){return new Ot(this,{body:this._bodyInit})},St.call(Ot.prototype),St.call(lt.prototype),lt.prototype.clone=function(){return new lt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new te(this.headers),url:this.url})},lt.error=function(){var z=new lt(null,{status:0,statusText:""});return z.type="error",z};var Qt=[301,302,303,307,308];lt.redirect=function(z,ne){if(Qt.indexOf(ne)===-1)throw new RangeError("Invalid status code");return new lt(null,{status:ne,headers:{location:z}})};var mt=ze.DOMException;try{new mt}catch{(mt=function(ne,Se){this.message=ne,this.name=Se;var De=Error(ne);this.stack=De.stack}).prototype=Object.create(Error.prototype),mt.prototype.constructor=mt}function wn(z,ne){return new Promise(function(Se,De){var ve=new Ot(z,ne);if(ve.signal&&ve.signal.aborted)return De(new mt("Aborted","AbortError"));var Te=new XMLHttpRequest;function He(){Te.abort()}Te.onload=function(){var je,$e,at={status:Te.status,statusText:Te.statusText,headers:(je=Te.getAllResponseHeaders()||"",$e=new te,je.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(pt){return pt.indexOf(`
`)===0?pt.substr(1,pt.length):pt}).forEach(function(pt){var Nt=pt.split(":"),Tt=Nt.shift().trim();if(Tt){var Gt=Nt.join(":").trim();$e.append(Tt,Gt)}}),$e)};at.url="responseURL"in Te?Te.responseURL:at.headers.get("X-Request-URL");var At="response"in Te?Te.response:Te.responseText;setTimeout(function(){Se(new lt(At,at))},0)},Te.onerror=function(){setTimeout(function(){De(new TypeError("Network request failed"))},0)},Te.ontimeout=function(){setTimeout(function(){De(new TypeError("Network request failed"))},0)},Te.onabort=function(){setTimeout(function(){De(new mt("Aborted","AbortError"))},0)},Te.open(ve.method,function(je){try{return je===""&&ze.location.href?ze.location.href:je}catch{return je}}(ve.url),!0),ve.credentials==="include"?Te.withCredentials=!0:ve.credentials==="omit"&&(Te.withCredentials=!1),"responseType"in Te&&(Je?Te.responseType="blob":I&&ve.headers.get("Content-Type")&&ve.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(Te.responseType="arraybuffer")),!ne||typeof ne.headers!="object"||ne.headers instanceof te?ve.headers.forEach(function(je,$e){Te.setRequestHeader($e,je)}):Object.getOwnPropertyNames(ne.headers).forEach(function(je){Te.setRequestHeader(je,ae(ne.headers[je]))}),ve.signal&&(ve.signal.addEventListener("abort",He),Te.onreadystatechange=function(){Te.readyState===4&&ve.signal.removeEventListener("abort",He)}),Te.send(ve._bodyInit===void 0?null:ve._bodyInit)})}wn.polyfill=!0,ze.fetch||(ze.fetch=wn,ze.Headers=te,ze.Request=Ot,ze.Response=lt);const{fetch:rn}=window,pn=["retracted","has expression of concern","withdrawn","has erratum","has correction"];var xn=({doi:z,children:ne})=>{const[Se,De]=Object(b.useState)(null),[ve,Te]=Object(b.useState)(null),[He,je]=Object(b.useState)(null);return Object(b.useEffect)(()=>{(function $e({doi:at,setTally:At,setError:pt,retry:Nt=0,maxRetries:Tt=8}={}){const Gt=new Error("Failed to get Tally");rn("https://api.scite.ai/tallies/"+at).then(wt=>{if(wt.status===404)return At({doi:at,total:0,citingPublications:0}),{};if(!wt.ok)throw Gt;return wt.json()}).then(wt=>{typeof wt.total=="number"&&At(wt)}).catch(wt=>{if(wt===Gt&&Nt<Tt)return setTimeout(()=>$e({retry:++Nt,doi:at,setTally:At,setError:pt,maxRetries:Tt}),1200);pt(wt)})})({doi:z,setTally:De,setError:je}),function $e({doi:at,setNotices:At,setError:pt,retry:Nt=0,maxRetries:Tt=8}={}){const Gt=new Error("Failed to get notices");rn("https://api.scite.ai/papers/"+at).then(wt=>{if(wt.status===404)return At([]),{};if(!wt.ok)throw Gt;return wt.json()}).then(({editorialNotices:wt})=>{const Yt=[...new Set(wt.filter(({status:an})=>pn.includes(an.toLowerCase())).map(({status:an})=>an))];At(Yt)}).catch(wt=>{if(wt===Gt&&Nt<Tt)return setTimeout(()=>$e({retry:++Nt,doi:at,maxRetries:Tt,setError:pt,setNotices:At}),1200);pt(wt)})}({doi:z,setNotices:Te,setError:je})},[z]),ne({tally:Se,notices:ve,error:He})},ur=v(8),on=v.n(ur),dr=({type:z,small:ne=!1})=>x.a.createElement("i",{className:L()(on.a.sectionIcon,on.a[z],{[on.a.smallSectionIcon]:ne})});const nr={PIE:"pie",BAR:"bar",DONUT:"donut"};var Bn=({className:z,horizontal:ne,type:Se,count:De,showLabels:ve=!1,small:Te=!1})=>x.a.createElement("div",{className:L()(j.a.count,z,{[j.a.horizontal]:ne,[j.a.small]:Te})},x.a.createElement("div",{className:L()(j.a.sectionTallyIconCountWrapper,{[j.a.expandedIconCount]:!ve})},x.a.createElement(dr,{type:Se,small:!0}),ve&&x.a.createElement("span",{className:L()(j.a.label,{[j.a.smallLabel]:Te})},(He=>He==="introduction"?"Intro":He)(Se)),x.a.createElement("span",{className:L()(j.a.number,{[j.a.smallNumber]:Te})},De))),fr=v(3),Kt=v.n(fr);const zo=({col:z,barWidth:ne,chartHeight:Se,largestValue:De})=>{const ve=(({height:Te,chartHeight:He,largestValue:je})=>Te/je*He)({height:z.value,chartHeight:Se,largestValue:De});return x.a.createElement("g",{transform:`translate(0, ${Se-ve})`},x.a.createElement("rect",{width:ne-2,height:ve,fill:z.color}))};var da=({chartWidth:z,chartHeight:ne,data:Se})=>{const De=Math.max.apply(Math,Se.map(He=>He.value)),ve=Se.map((He,je)=>x.a.createElement("g",{key:"bar_"+je,transform:`translate(${30*je},0)`},x.a.createElement(zo,{col:He,barWidth:30,chartHeight:ne,largestValue:De}))),Te=(z-30*Se.length)/2;return x.a.createElement("svg",{width:z,height:ne,style:{marginRight:"25px"}},x.a.createElement("g",null,x.a.createElement("g",{transform:`translate(${Te}, 0)`},ve)))};const Lr=({value:z,total:ne})=>z/ne,$o=z=>[Math.cos(2*Math.PI*z),Math.sin(2*Math.PI*z)];var hn=({chartWidth:z,chartHeight:ne,data:Se})=>{const De=Se.reduce((Te,{value:He})=>Te+He,0),ve=(Te=>{let He=0;const je=[];return Te.forEach($e=>{const[at,At]=$o(He);He+=$e.percent;const[pt,Nt]=$o(He),Tt=[`M ${at} ${At}`,`A 1 1 0 ${$e.percent>.5?1:0} 1 ${pt} ${Nt}`,"L 0 0"].join(" ");je.push(x.a.createElement("path",{d:Tt,fill:$e.color}))}),je})((({data:Te,total:He})=>Te.map(je=>({color:je.color,percent:Lr({value:je.value,total:He})})))({data:Se,total:De}));return x.a.createElement("svg",{width:z,height:ne,viewBox:"-1 -1 2 2",style:{marginRight:"25px"}},ve)};function Rn(){return(Rn=Object.assign||function(z){for(var ne=1;ne<arguments.length;ne++){var Se=arguments[ne];for(var De in Se)Object.prototype.hasOwnProperty.call(Se,De)&&(z[De]=Se[De])}return z}).apply(this,arguments)}const rr=z=>z/(Math.PI/180),pr=(z,ne)=>z/ne,Dr=(z,ne,Se)=>{const De=z*(Math.PI/180);return[Se-Math.cos(De)*ne,Se-Math.sin(De)*ne]},Mr=({chartConfig:z,paths:ne,subtotal:Se},{percent:De,color:ve},Te)=>{const He=360*Se+90,je=He+360*De,$e=De>=z.minimumValue,at=$e?z.gapAngleOffsetInner:0,At=$e?z.gapAngleOffsetOuter:0,pt=He+at,Nt=He+At,Tt=je-at,Gt=je-At,[wt,Yt]=Dr(pt,z.radiusInner,z.center),[an,mr]=Dr(Nt,z.radiusOuter,z.center),[An,or]=Dr(Gt,z.radiusOuter,z.center),[Cn,zn]=Dr(Tt,z.radiusInner,z.center),sn=De>.5?1:0,En=[`M${wt} ${Yt}`,`L${an} ${mr}`,`A${z.radiusOuter} ${z.radiusOuter} 0 ${sn} 1 ${An} ${or}`,`L${Cn} ${zn}`,`A${z.radiusInner} ${z.radiusInner} 0 ${sn} 0 ${wt} ${Yt}`],oo=ve?{fill:ve}:{};return ne.push(x.a.createElement("path",Rn({key:Te},oo,{stroke:"none",d:En.join(" ")}))),{chartConfig:z,paths:ne,subtotal:Se+De}};var hr=({data:z,size:ne})=>{const Se=(({data:Te})=>{const He=(Te||[]).filter(({value:$e})=>$e>0),je=He.reduce(($e,{value:at=0})=>$e+at,0);return He.map($e=>({...$e,percent:$e.value/je}))})({data:z});if(!(Se||[]).length)return null;const De=(({size:Te})=>{const He=Te/2,je=(Te-75)/2,$e=Te/2,at=$e-je,At=rr(pr(1,at)),pt=rr(pr(1,$e)),Nt=rr(pr(2,at));return{center:He,innerHoleDiameter:75,thickness:je,radiusOuter:$e,radiusInner:at,gapSize:1,gapAngleOffsetInner:At,gapAngleOffsetOuter:pt,minimumAngleDeg:Nt,minimumValue:Nt/360}})({size:ne}),ve=Se.reduce(Mr,{chartConfig:De,paths:[],subtotal:0}).paths;return x.a.createElement("div",null,x.a.createElement("div",null,x.a.createElement("svg",{width:ne,height:ne,style:{marginRight:"25px"}},ve)))},ui=({source:z,campaign:ne,autologin:Se,rewardfulID:De,tally:ve,forceCollapse:Te,showLabels:He,small:je=!1,horizontal:$e=!1,isBadge:at=!1,showZero:At=!0,chartType:pt=null,showLogo:Nt=!0})=>{const Tt={utm_medium:at?"badge":"plugin",utm_source:z||"generic",utm_campaign:ne||at?"badge":"plugin"};Se&&(Tt.autologin=Se),De&&(Tt.via=De);const Gt=_.a.stringify(Tt),wt={sectionTallyContainer:L()("scite-section-tally",Kt.a.sectionTallyWidget),sectionTally:L()(Kt.a.tally,{[Kt.a.horizontal]:$e,[Kt.a.small]:je&&$e,[Kt.a.show]:At?ve:ve&&ve.total>0,[Kt.a.forceCollapse]:Te&&ve.total===0,[Kt.a.badgeTally]:at})},Yt=ve&&ve.introduction&&ve.introduction.toLocaleString()||0,an=ve&&ve.methods&&ve.methods.toLocaleString()||0,mr=ve&&ve.results&&ve.results.toLocaleString()||0,An=ve&&ve.discussion&&ve.discussion.toLocaleString()||0,or=ve&&ve.other&&ve.other.toLocaleString()||0,Cn=`https://scite.ai/reports/${ve&&ve.doi}?${Gt}`,zn=((En={})=>[{name:"Intro",color:"#002AB2",value:En.introduction||0},{name:"Methods",color:"#0036E5",value:En.methods||0},{name:"Results",color:"#0062FF",value:En.results||0},{name:"Discussion",color:"#66A3FF",value:En.discussion||0},{name:"Other",color:"#9EC4F0",value:En.other||0}])(ve),sn=Object.values(nr).includes(pt);return pt&&!sn&&console.warn(`Received unexpected chartType: ${pt}. Must be 'pie', 'bar', 'donut', or null.`),x.a.createElement("div",{className:wt.sectionTallyContainer},!$e&&Nt&&x.a.createElement("img",{className:L()(Kt.a.logo,{[Kt.a.logoSmall]:je}),src:"https://cdn.scite.ai/assets/images/logo.svg"}),x.a.createElement("div",{onClick:()=>{window.open(Cn)},className:Kt.a.sectionTallyWrapper},pt==="bar"&&x.a.createElement(da,{chartWidth:140,chartHeight:130,data:zn}),pt==="pie"&&x.a.createElement(hn,{chartWidth:140,chartHeight:140,data:zn}),pt==="donut"&&x.a.createElement(hr,{data:zn,size:140}),x.a.createElement("div",{className:wt.sectionTally},x.a.createElement(Bn,{type:"introduction",count:Yt,horizontal:$e,showLabels:He,small:je}),x.a.createElement(Bn,{type:"methods",count:an,horizontal:$e,showLabels:He,small:je}),x.a.createElement(Bn,{type:"results",count:mr,horizontal:$e,showLabels:He,small:je}),x.a.createElement(Bn,{type:"discussion",count:An,horizontal:$e,showLabels:He,small:je}),x.a.createElement(Bn,{type:"other",count:or,horizontal:$e,showLabels:He,small:je}))),sn&&x.a.createElement("div",{className:Kt.a.chartSubheading},x.a.createElement("span",{className:Kt.a.chartLabel},"Sections"),x.a.createElement("a",{href:Cn,target:"_blank",rel:"noopener noreferrer"},"See more details")))}},function(h,y,v){h.exports=b=>encodeURIComponent(b).replace(/[!'()*]/g,x=>"%"+x.charCodeAt(0).toString(16).toUpperCase())},function(h,y,v){var b=new RegExp("%[a-f0-9]{2}","gi"),x=new RegExp("(%[a-f0-9]{2})+","gi");function S(R,L){try{return decodeURIComponent(R.join(""))}catch{}if(R.length===1)return R;L=L||1;var U=R.slice(0,L),X=R.slice(L);return Array.prototype.concat.call([],S(U),S(X))}function _(R){try{return decodeURIComponent(R)}catch{for(var L=R.match(b),U=1;U<L.length;U++)L=(R=S(L,U).join("")).match(b);return R}}h.exports=function(R){if(typeof R!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof R+"`");try{return R=R.replace(/\+/g," "),decodeURIComponent(R)}catch{return function(U){for(var X={"%FE%FF":"��","%FF%FE":"��"},ee=x.exec(U);ee;){try{X[ee[0]]=decodeURIComponent(ee[0])}catch{var D=_(ee[0]);D!==ee[0]&&(X[ee[0]]=D)}ee=x.exec(U)}X["%C2"]="�";for(var j=Object.keys(X),P=0;P<j.length;P++){var q=j[P];U=U.replace(new RegExp(q,"g"),X[q])}return U}(R)}}},function(h,y,v){h.exports=(b,x)=>{if(typeof b!="string"||typeof x!="string")throw new TypeError("Expected the arguments to be of type `string`");if(x==="")return[b];const S=b.indexOf(x);return S===-1?[b]:[b.slice(0,S),b.slice(S+x.length)]}},function(h,y,v){h.exports=function(b,x){for(var S={},_=Object.keys(b),R=Array.isArray(x),L=0;L<_.length;L++){var U=_[L],X=b[U];(R?x.indexOf(U)!==-1:x(U,X,b))&&(S[U]=X)}return S}}]))},379:(c,u,f)=>{var m,h=function(){var D={};return function(j){if(D[j]===void 0){var P=document.querySelector(j);if(window.HTMLIFrameElement&&P instanceof window.HTMLIFrameElement)try{P=P.contentDocument.head}catch{P=null}D[j]=P}return D[j]}}(),y=[];function v(D){for(var j=-1,P=0;P<y.length;P++)if(y[P].identifier===D){j=P;break}return j}function b(D,j){for(var P={},q=[],fe=0;fe<D.length;fe++){var me=D[fe],ge=j.base?me[0]+j.base:me[0],ye=P[ge]||0,Y="".concat(ge," ").concat(ye);P[ge]=ye+1;var be=v(Y),se={css:me[1],media:me[2],sourceMap:me[3]};be!==-1?(y[be].references++,y[be].updater(se)):y.push({identifier:Y,updater:ee(se,j),references:1}),q.push(Y)}return q}function x(D){var j=document.createElement("style"),P=D.attributes||{};if(P.nonce===void 0){var q=f.nc;q&&(P.nonce=q)}if(Object.keys(P).forEach(function(me){j.setAttribute(me,P[me])}),typeof D.insert=="function")D.insert(j);else{var fe=h(D.insert||"head");if(!fe)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");fe.appendChild(j)}return j}var S,_=(S=[],function(D,j){return S[D]=j,S.filter(Boolean).join(`
`)});function R(D,j,P,q){var fe=P?"":q.media?"@media ".concat(q.media," {").concat(q.css,"}"):q.css;if(D.styleSheet)D.styleSheet.cssText=_(j,fe);else{var me=document.createTextNode(fe),ge=D.childNodes;ge[j]&&D.removeChild(ge[j]),ge.length?D.insertBefore(me,ge[j]):D.appendChild(me)}}function L(D,j,P){var q=P.css,fe=P.media,me=P.sourceMap;if(fe?D.setAttribute("media",fe):D.removeAttribute("media"),me&&typeof btoa<"u"&&(q+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(me))))," */")),D.styleSheet)D.styleSheet.cssText=q;else{for(;D.firstChild;)D.removeChild(D.firstChild);D.appendChild(document.createTextNode(q))}}var U=null,X=0;function ee(D,j){var P,q,fe;if(j.singleton){var me=X++;P=U||(U=x(j)),q=R.bind(null,P,me,!1),fe=R.bind(null,P,me,!0)}else P=x(j),q=L.bind(null,P,j),fe=function(){(function(ge){if(ge.parentNode===null)return!1;ge.parentNode.removeChild(ge)})(P)};return q(D),function(ge){if(ge){if(ge.css===D.css&&ge.media===D.media&&ge.sourceMap===D.sourceMap)return;q(D=ge)}else fe()}}c.exports=function(D,j){(j=j||{}).singleton||typeof j.singleton=="boolean"||(j.singleton=(m===void 0&&(m=!!(window&&document&&document.all&&!window.atob)),m));var P=b(D=D||[],j);return function(q){if(q=q||[],Object.prototype.toString.call(q)==="[object Array]"){for(var fe=0;fe<P.length;fe++){var me=v(P[fe]);y[me].references--}for(var ge=b(q,j),ye=0;ye<P.length;ye++){var Y=v(P[ye]);y[Y].references===0&&(y[Y].updater(),y.splice(Y,1))}P=ge}}}},473:c=>{c.exports=function(){}}},a={};function i(c){var u=a[c];if(u!==void 0)return u.exports;var f=a[c]={id:c,exports:{}};return n[c](f,f.exports,i),f.exports}i.n=c=>{var u=c&&c.__esModule?()=>c.default:()=>c;return i.d(u,{a:u}),u},i.d=(c,u)=>{for(var f in u)i.o(u,f)&&!i.o(c,f)&&Object.defineProperty(c,f,{enumerable:!0,get:u[f]})},i.o=(c,u)=>Object.prototype.hasOwnProperty.call(c,u),i.r=c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})};var l={};return(()=>{i.r(l),i.d(l,{getConfig:()=>so,insertBadge:()=>ya,insertBadgeWrapper:()=>Ho,insertBadges:()=>va,main:()=>Ms});var c=i(666),u=i.n(c),f=i(294),m=i(935),h=i(285);function y(T,C){(C==null||C>T.length)&&(C=T.length);for(var k=0,N=new Array(C);k<C;k++)N[k]=T[k];return N}function v(T,C,k,N,B,Q,Z){try{var le=T[Q](Z),J=le.value}catch(re){return void k(re)}le.done?C(J):Promise.resolve(J).then(N,B)}function b(T){return function(){var C=this,k=arguments;return new Promise(function(N,B){var Q=T.apply(C,k);function Z(J){v(Q,N,B,Z,le,"next",J)}function le(J){v(Q,N,B,Z,le,"throw",J)}Z(void 0)})}}function x(T){return function(C){if(Array.isArray(C))return y(C)}(T)||function(C){if(typeof Symbol<"u"&&C[Symbol.iterator]!=null||C["@@iterator"]!=null)return Array.from(C)}(T)||function(C,k){if(C){if(typeof C=="string")return y(C,k);var N=Object.prototype.toString.call(C).slice(8,-1);return N==="Object"&&C.constructor&&(N=C.constructor.name),N==="Map"||N==="Set"?Array.from(N):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?y(C,k):void 0}}(T)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S,_=window.fetch,R=["retracted","has expression of concern","withdrawn","has erratum","has correction"],L=(S=b(u().mark(function T(C){var k,N,B,Q,Z,le=arguments;return u().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(k=le.length>1&&le[1]!==void 0?le[1]:0,N=le.length>2&&le[2]!==void 0?le[2]:8,C&&C.length!==0){J.next=3;break}return J.abrupt("return",{tallies:{}});case 3:return B=new Error("Failed to get Tallies"),J.prev=4,J.next=7,_("https://api.scite.ai/tallies",{method:"POST",body:JSON.stringify(C),headers:{Accept:"application/json","Content-Type":"application/json"}});case 7:if((Q=J.sent).status!==404){J.next=10;break}return J.abrupt("return",{tallies:{}});case 10:if(Q.ok){J.next=12;break}throw B;case 12:return J.next=14,Q.json();case 14:return Z=J.sent,J.abrupt("return",Z||{});case 18:if(J.prev=18,J.t0=J.catch(4),!(J.t0===B&&k<N)){J.next=26;break}return J.next=23,new Promise(function(re){return setTimeout(function(){return re(L(C,++k))},600)});case 23:return J.abrupt("return",J.sent);case 26:console.error(B);case 27:return J.abrupt("return",{tallies:{}});case 28:case"end":return J.stop()}},T,null,[[4,18]])})),function(T){return S.apply(this,arguments)}),U=function(){var T=b(u().mark(function C(k){var N,B,Q,Z,le,J,re,xe=arguments;return u().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(N=xe.length>1&&xe[1]!==void 0?xe[1]:0,B=xe.length>2&&xe[2]!==void 0?xe[2]:8,k&&k.length!==0){de.next=3;break}return de.abrupt("return",{notices:{}});case 3:return Q=new Error("Failed to get notices"),de.prev=4,de.next=7,_("https://api.scite.ai/papers",{method:"POST",body:JSON.stringify(k),headers:{Accept:"application/json","Content-Type":"application/json"}});case 7:if((Z=de.sent).status!==404){de.next=10;break}return de.abrupt("return",{notices:{}});case 10:if(Z.ok){de.next=12;break}throw Q;case 12:return de.next=14,Z.json();case 14:le=de.sent,J={},de.t0=regeneratorRuntime.keys(le.papers);case 17:if((de.t1=de.t0()).done){de.next=25;break}if(re=de.t1.value,le.papers[re].editorialNotices){de.next=22;break}return J[re]=[],de.abrupt("continue",17);case 22:J[re]=x(new Set(le.papers[re].editorialNotices.filter(function(Fe){var Pe=Fe.status;return R.includes(Pe.toLowerCase())}).map(function(Fe){return Fe.status}))),de.next=17;break;case 25:return de.abrupt("return",{notices:J});case 28:if(de.prev=28,de.t2=de.catch(4),!(de.t2===Q&&N<B)){de.next=36;break}return de.next=33,new Promise(function(Fe){return setTimeout(function(){return Fe(U(k,++N))},600)});case 33:return de.abrupt("return",de.sent);case 36:console.error(Q);case 37:case"end":return de.stop()}},C,null,[[4,28]])}));return function(C){return T.apply(this,arguments)}}(),X=function(){var T=b(u().mark(function C(k){var N,B,Q,Z,le,J=arguments;return u().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(N=J.length>1&&J[1]!==void 0?J[1]:0,B=J.length>2&&J[2]!==void 0?J[2]:8,k&&k.length!==0){re.next=3;break}return re.abrupt("return",{tallies:{}});case 3:return Q=new Error("Failed to get Section Tallies"),re.prev=4,re.next=7,_("https://api.scite.ai/tallies/cited-by-sections",{method:"POST",body:JSON.stringify(k),headers:{Accept:"application/json","Content-Type":"application/json"}});case 7:if((Z=re.sent).status!==404){re.next=10;break}return re.abrupt("return",{tallies:{}});case 10:if(Z.ok){re.next=12;break}throw Q;case 12:return re.next=14,Z.json();case 14:return le=re.sent,re.abrupt("return",le||{});case 18:if(re.prev=18,re.t0=re.catch(4),!(re.t0===Q&&N<B)){re.next=26;break}return re.next=23,new Promise(function(xe){return setTimeout(function(){return xe(X(k,++N))},600)});case 23:return re.abrupt("return",re.sent);case 26:console.error(Q);case 27:return re.abrupt("return",{tallies:{}});case 28:case"end":return re.stop()}},C,null,[[4,18]])}));return function(C){return T.apply(this,arguments)}}(),ee=i(184),D=i.n(ee),j=f.createContext(),P=f.createContext();function q(T){var C=T.children,k=f.useState(null),N=k[0],B=k[1],Q=f.useRef(!1);f.useEffect(function(){return function(){Q.current=!0}},[]);var Z=f.useCallback(function(le){Q.current||B(le)},[]);return f.createElement(j.Provider,{value:N},f.createElement(P.Provider,{value:Z},C))}var fe=function(T){return Array.isArray(T)?T[0]:T},me=function(T){if(typeof T=="function"){for(var C=arguments.length,k=new Array(C>1?C-1:0),N=1;N<C;N++)k[N-1]=arguments[N];return T.apply(void 0,k)}},ge=function(T,C){if(typeof T=="function")return me(T,C);T!=null&&(T.current=C)},ye=function(T){return T.reduce(function(C,k){var N=k[0],B=k[1];return C[N]=B,C},{})},Y=typeof window<"u"&&window.document&&window.document.createElement?f.useLayoutEffect:f.useEffect;function be(T){if(T==null)return window;if(T.toString()!=="[object Window]"){var C=T.ownerDocument;return C&&C.defaultView||window}return T}function se(T){return T instanceof be(T).Element||T instanceof Element}function we(T){return T instanceof be(T).HTMLElement||T instanceof HTMLElement}function ze(T){return typeof ShadowRoot<"u"&&(T instanceof be(T).ShadowRoot||T instanceof ShadowRoot)}var Ke=Math.max,Le=Math.min,Je=Math.round;function ft(T,C){C===void 0&&(C=!1);var k=T.getBoundingClientRect(),N=1,B=1;if(we(T)&&C){var Q=T.offsetHeight,Z=T.offsetWidth;Z>0&&(N=Je(k.width)/Z||1),Q>0&&(B=Je(k.height)/Q||1)}return{width:k.width/N,height:k.height/B,top:k.top/B,right:k.right/N,bottom:k.bottom/B,left:k.left/N,x:k.left/N,y:k.top/B}}function I(T){var C=be(T);return{scrollLeft:C.pageXOffset,scrollTop:C.pageYOffset}}function M(T){return T?(T.nodeName||"").toLowerCase():null}function G(T){return((se(T)?T.ownerDocument:T.document)||window.document).documentElement}function ue(T){return ft(G(T)).left+I(T).scrollLeft}function ae(T){return be(T).getComputedStyle(T)}function K(T){var C=ae(T),k=C.overflow,N=C.overflowX,B=C.overflowY;return/auto|scroll|overlay|hidden/.test(k+B+N)}function te(T,C,k){k===void 0&&(k=!1);var N,B,Q=we(C),Z=we(C)&&function(de){var Fe=de.getBoundingClientRect(),Pe=Je(Fe.width)/de.offsetWidth||1,Ve=Je(Fe.height)/de.offsetHeight||1;return Pe!==1||Ve!==1}(C),le=G(C),J=ft(T,Z),re={scrollLeft:0,scrollTop:0},xe={x:0,y:0};return(Q||!Q&&!k)&&((M(C)!=="body"||K(le))&&(re=(N=C)!==be(N)&&we(N)?{scrollLeft:(B=N).scrollLeft,scrollTop:B.scrollTop}:I(N)),we(C)?((xe=ft(C,!0)).x+=C.clientLeft,xe.y+=C.clientTop):le&&(xe.x=ue(le))),{x:J.left+re.scrollLeft-xe.x,y:J.top+re.scrollTop-xe.y,width:J.width,height:J.height}}function Ce(T){var C=ft(T),k=T.offsetWidth,N=T.offsetHeight;return Math.abs(C.width-k)<=1&&(k=C.width),Math.abs(C.height-N)<=1&&(N=C.height),{x:T.offsetLeft,y:T.offsetTop,width:k,height:N}}function Re(T){return M(T)==="html"?T:T.assignedSlot||T.parentNode||(ze(T)?T.host:null)||G(T)}function Ee(T){return["html","body","#document"].indexOf(M(T))>=0?T.ownerDocument.body:we(T)&&K(T)?T:Ee(Re(T))}function ot(T,C){var k;C===void 0&&(C=[]);var N=Ee(T),B=N===((k=T.ownerDocument)==null?void 0:k.body),Q=be(N),Z=B?[Q].concat(Q.visualViewport||[],K(N)?N:[]):N,le=C.concat(Z);return B?le:le.concat(ot(Re(Z)))}function St(T){return["table","td","th"].indexOf(M(T))>=0}function Vt(T){return we(T)&&ae(T).position!=="fixed"?T.offsetParent:null}function Ot(T){for(var C=be(T),k=Vt(T);k&&St(k)&&ae(k).position==="static";)k=Vt(k);return k&&(M(k)==="html"||M(k)==="body"&&ae(k).position==="static")?C:k||function(N){var B=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1;if(navigator.userAgent.indexOf("Trident")!==-1&&we(N)&&ae(N).position==="fixed")return null;var Q=Re(N);for(ze(Q)&&(Q=Q.host);we(Q)&&["html","body"].indexOf(M(Q))<0;){var Z=ae(Q);if(Z.transform!=="none"||Z.perspective!=="none"||Z.contain==="paint"||["transform","perspective"].indexOf(Z.willChange)!==-1||B&&Z.willChange==="filter"||B&&Z.filter&&Z.filter!=="none")return Q;Q=Q.parentNode}return null}(T)||C}var xt="top",lt="bottom",Qt="right",mt="left",wn="auto",rn=[xt,lt,Qt,mt],pn="start",xn="end",ur="viewport",on="popper",dr=rn.reduce(function(T,C){return T.concat([C+"-"+pn,C+"-"+xn])},[]),nr=[].concat(rn,[wn]).reduce(function(T,C){return T.concat([C,C+"-"+pn,C+"-"+xn])},[]),Bn=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function fr(T){var C=new Map,k=new Set,N=[];function B(Q){k.add(Q.name),[].concat(Q.requires||[],Q.requiresIfExists||[]).forEach(function(Z){if(!k.has(Z)){var le=C.get(Z);le&&B(le)}}),N.push(Q)}return T.forEach(function(Q){C.set(Q.name,Q)}),T.forEach(function(Q){k.has(Q.name)||B(Q)}),N}var Kt={placement:"bottom",modifiers:[],strategy:"absolute"};function zo(){for(var T=arguments.length,C=new Array(T),k=0;k<T;k++)C[k]=arguments[k];return!C.some(function(N){return!(N&&typeof N.getBoundingClientRect=="function")})}function da(T){T===void 0&&(T={});var C=T,k=C.defaultModifiers,N=k===void 0?[]:k,B=C.defaultOptions,Q=B===void 0?Kt:B;return function(Z,le,J){J===void 0&&(J=Q);var re,xe,de={placement:"bottom",orderedModifiers:[],options:Object.assign({},Kt,Q),modifiersData:{},elements:{reference:Z,popper:le},attributes:{},styles:{}},Fe=[],Pe=!1,Ve={state:de,setOptions:function(Ue){var nt=typeof Ue=="function"?Ue(de.options):Ue;Qe(),de.options=Object.assign({},Q,de.options,nt),de.scrollParents={reference:se(Z)?ot(Z):Z.contextElement?ot(Z.contextElement):[],popper:ot(le)};var et,Xe,We=function(Be){var _e=fr(Be);return Bn.reduce(function(qe,Me){return qe.concat(_e.filter(function(it){return it.phase===Me}))},[])}((et=[].concat(N,de.options.modifiers),Xe=et.reduce(function(Be,_e){var qe=Be[_e.name];return Be[_e.name]=qe?Object.assign({},qe,_e,{options:Object.assign({},qe.options,_e.options),data:Object.assign({},qe.data,_e.data)}):_e,Be},{}),Object.keys(Xe).map(function(Be){return Xe[Be]})));return de.orderedModifiers=We.filter(function(Be){return Be.enabled}),de.orderedModifiers.forEach(function(Be){var _e=Be.name,qe=Be.options,Me=qe===void 0?{}:qe,it=Be.effect;if(typeof it=="function"){var gt=it({state:de,name:_e,instance:Ve,options:Me});Fe.push(gt||function(){})}}),Ve.update()},forceUpdate:function(){if(!Pe){var Ue=de.elements,nt=Ue.reference,et=Ue.popper;if(zo(nt,et)){de.rects={reference:te(nt,Ot(et),de.options.strategy==="fixed"),popper:Ce(et)},de.reset=!1,de.placement=de.options.placement,de.orderedModifiers.forEach(function(it){return de.modifiersData[it.name]=Object.assign({},it.data)});for(var Xe=0;Xe<de.orderedModifiers.length;Xe++)if(de.reset!==!0){var We=de.orderedModifiers[Xe],Be=We.fn,_e=We.options,qe=_e===void 0?{}:_e,Me=We.name;typeof Be=="function"&&(de=Be({state:de,options:qe,name:Me,instance:Ve})||de)}else de.reset=!1,Xe=-1}}},update:(re=function(){return new Promise(function(Ue){Ve.forceUpdate(),Ue(de)})},function(){return xe||(xe=new Promise(function(Ue){Promise.resolve().then(function(){xe=void 0,Ue(re())})})),xe}),destroy:function(){Qe(),Pe=!0}};if(!zo(Z,le))return Ve;function Qe(){Fe.forEach(function(Ue){return Ue()}),Fe=[]}return Ve.setOptions(J).then(function(Ue){!Pe&&J.onFirstUpdate&&J.onFirstUpdate(Ue)}),Ve}}var Lr={passive:!0};const $o={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(T){var C=T.state,k=T.instance,N=T.options,B=N.scroll,Q=B===void 0||B,Z=N.resize,le=Z===void 0||Z,J=be(C.elements.popper),re=[].concat(C.scrollParents.reference,C.scrollParents.popper);return Q&&re.forEach(function(xe){xe.addEventListener("scroll",k.update,Lr)}),le&&J.addEventListener("resize",k.update,Lr),function(){Q&&re.forEach(function(xe){xe.removeEventListener("scroll",k.update,Lr)}),le&&J.removeEventListener("resize",k.update,Lr)}},data:{}};function hn(T){return T.split("-")[0]}function Rn(T){return T.split("-")[1]}function rr(T){return["top","bottom"].indexOf(T)>=0?"x":"y"}function pr(T){var C,k=T.reference,N=T.element,B=T.placement,Q=B?hn(B):null,Z=B?Rn(B):null,le=k.x+k.width/2-N.width/2,J=k.y+k.height/2-N.height/2;switch(Q){case xt:C={x:le,y:k.y-N.height};break;case lt:C={x:le,y:k.y+k.height};break;case Qt:C={x:k.x+k.width,y:J};break;case mt:C={x:k.x-N.width,y:J};break;default:C={x:k.x,y:k.y}}var re=Q?rr(Q):null;if(re!=null){var xe=re==="y"?"height":"width";switch(Z){case pn:C[re]=C[re]-(k[xe]/2-N[xe]/2);break;case xn:C[re]=C[re]+(k[xe]/2-N[xe]/2)}}return C}const Dr={name:"popperOffsets",enabled:!0,phase:"read",fn:function(T){var C=T.state,k=T.name;C.modifiersData[k]=pr({reference:C.rects.reference,element:C.rects.popper,strategy:"absolute",placement:C.placement})},data:{}};var Mr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function hr(T){var C,k=T.popper,N=T.popperRect,B=T.placement,Q=T.variation,Z=T.offsets,le=T.position,J=T.gpuAcceleration,re=T.adaptive,xe=T.roundOffsets,de=T.isFixed,Fe=Z.x,Pe=Fe===void 0?0:Fe,Ve=Z.y,Qe=Ve===void 0?0:Ve,Ue=typeof xe=="function"?xe({x:Pe,y:Qe}):{x:Pe,y:Qe};Pe=Ue.x,Qe=Ue.y;var nt=Z.hasOwnProperty("x"),et=Z.hasOwnProperty("y"),Xe=mt,We=xt,Be=window;if(re){var _e=Ot(k),qe="clientHeight",Me="clientWidth";_e===be(k)&&ae(_e=G(k)).position!=="static"&&le==="absolute"&&(qe="scrollHeight",Me="scrollWidth"),_e=_e,(B===xt||(B===mt||B===Qt)&&Q===xn)&&(We=lt,Qe-=(de&&_e===Be&&Be.visualViewport?Be.visualViewport.height:_e[qe])-N.height,Qe*=J?1:-1),B!==mt&&(B!==xt&&B!==lt||Q!==xn)||(Xe=Qt,Pe-=(de&&_e===Be&&Be.visualViewport?Be.visualViewport.width:_e[Me])-N.width,Pe*=J?1:-1)}var it,gt=Object.assign({position:le},re&&Mr),st=xe===!0?function(Rt){var rt=Rt.x,Ut=Rt.y,zt=window.devicePixelRatio||1;return{x:Je(rt*zt)/zt||0,y:Je(Ut*zt)/zt||0}}({x:Pe,y:Qe}):{x:Pe,y:Qe};return Pe=st.x,Qe=st.y,J?Object.assign({},gt,((it={})[We]=et?"0":"",it[Xe]=nt?"0":"",it.transform=(Be.devicePixelRatio||1)<=1?"translate("+Pe+"px, "+Qe+"px)":"translate3d("+Pe+"px, "+Qe+"px, 0)",it)):Object.assign({},gt,((C={})[We]=et?Qe+"px":"",C[Xe]=nt?Pe+"px":"",C.transform="",C))}const ui={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(T){var C=T.state,k=T.options,N=k.gpuAcceleration,B=N===void 0||N,Q=k.adaptive,Z=Q===void 0||Q,le=k.roundOffsets,J=le===void 0||le,re={placement:hn(C.placement),variation:Rn(C.placement),popper:C.elements.popper,popperRect:C.rects.popper,gpuAcceleration:B,isFixed:C.options.strategy==="fixed"};C.modifiersData.popperOffsets!=null&&(C.styles.popper=Object.assign({},C.styles.popper,hr(Object.assign({},re,{offsets:C.modifiersData.popperOffsets,position:C.options.strategy,adaptive:Z,roundOffsets:J})))),C.modifiersData.arrow!=null&&(C.styles.arrow=Object.assign({},C.styles.arrow,hr(Object.assign({},re,{offsets:C.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:J})))),C.attributes.popper=Object.assign({},C.attributes.popper,{"data-popper-placement":C.placement})},data:{}},z={name:"applyStyles",enabled:!0,phase:"write",fn:function(T){var C=T.state;Object.keys(C.elements).forEach(function(k){var N=C.styles[k]||{},B=C.attributes[k]||{},Q=C.elements[k];we(Q)&&M(Q)&&(Object.assign(Q.style,N),Object.keys(B).forEach(function(Z){var le=B[Z];le===!1?Q.removeAttribute(Z):Q.setAttribute(Z,le===!0?"":le)}))})},effect:function(T){var C=T.state,k={popper:{position:C.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(C.elements.popper.style,k.popper),C.styles=k,C.elements.arrow&&Object.assign(C.elements.arrow.style,k.arrow),function(){Object.keys(C.elements).forEach(function(N){var B=C.elements[N],Q=C.attributes[N]||{},Z=Object.keys(C.styles.hasOwnProperty(N)?C.styles[N]:k[N]).reduce(function(le,J){return le[J]="",le},{});we(B)&&M(B)&&(Object.assign(B.style,Z),Object.keys(Q).forEach(function(le){B.removeAttribute(le)}))})}},requires:["computeStyles"]},ne={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(T){var C=T.state,k=T.options,N=T.name,B=k.offset,Q=B===void 0?[0,0]:B,Z=nr.reduce(function(xe,de){return xe[de]=function(Fe,Pe,Ve){var Qe=hn(Fe),Ue=[mt,xt].indexOf(Qe)>=0?-1:1,nt=typeof Ve=="function"?Ve(Object.assign({},Pe,{placement:Fe})):Ve,et=nt[0],Xe=nt[1];return et=et||0,Xe=(Xe||0)*Ue,[mt,Qt].indexOf(Qe)>=0?{x:Xe,y:et}:{x:et,y:Xe}}(de,C.rects,Q),xe},{}),le=Z[C.placement],J=le.x,re=le.y;C.modifiersData.popperOffsets!=null&&(C.modifiersData.popperOffsets.x+=J,C.modifiersData.popperOffsets.y+=re),C.modifiersData[N]=Z}};var Se={left:"right",right:"left",bottom:"top",top:"bottom"};function De(T){return T.replace(/left|right|bottom|top/g,function(C){return Se[C]})}var ve={start:"end",end:"start"};function Te(T){return T.replace(/start|end/g,function(C){return ve[C]})}function He(T,C){var k=C.getRootNode&&C.getRootNode();if(T.contains(C))return!0;if(k&&ze(k)){var N=C;do{if(N&&T.isSameNode(N))return!0;N=N.parentNode||N.host}while(N)}return!1}function je(T){return Object.assign({},T,{left:T.x,top:T.y,right:T.x+T.width,bottom:T.y+T.height})}function $e(T,C){return C===ur?je(function(k){var N=be(k),B=G(k),Q=N.visualViewport,Z=B.clientWidth,le=B.clientHeight,J=0,re=0;return Q&&(Z=Q.width,le=Q.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(J=Q.offsetLeft,re=Q.offsetTop)),{width:Z,height:le,x:J+ue(k),y:re}}(T)):se(C)?function(k){var N=ft(k);return N.top=N.top+k.clientTop,N.left=N.left+k.clientLeft,N.bottom=N.top+k.clientHeight,N.right=N.left+k.clientWidth,N.width=k.clientWidth,N.height=k.clientHeight,N.x=N.left,N.y=N.top,N}(C):je(function(k){var N,B=G(k),Q=I(k),Z=(N=k.ownerDocument)==null?void 0:N.body,le=Ke(B.scrollWidth,B.clientWidth,Z?Z.scrollWidth:0,Z?Z.clientWidth:0),J=Ke(B.scrollHeight,B.clientHeight,Z?Z.scrollHeight:0,Z?Z.clientHeight:0),re=-Q.scrollLeft+ue(k),xe=-Q.scrollTop;return ae(Z||B).direction==="rtl"&&(re+=Ke(B.clientWidth,Z?Z.clientWidth:0)-le),{width:le,height:J,x:re,y:xe}}(G(T)))}function at(T){return Object.assign({},{top:0,right:0,bottom:0,left:0},T)}function At(T,C){return C.reduce(function(k,N){return k[N]=T,k},{})}function pt(T,C){C===void 0&&(C={});var k=C,N=k.placement,B=N===void 0?T.placement:N,Q=k.boundary,Z=Q===void 0?"clippingParents":Q,le=k.rootBoundary,J=le===void 0?ur:le,re=k.elementContext,xe=re===void 0?on:re,de=k.altBoundary,Fe=de!==void 0&&de,Pe=k.padding,Ve=Pe===void 0?0:Pe,Qe=at(typeof Ve!="number"?Ve:At(Ve,rn)),Ue=xe===on?"reference":on,nt=T.rects.popper,et=T.elements[Fe?Ue:xe],Xe=function(st,Rt,rt){var Ut=Rt==="clippingParents"?function(ht){var Ct=ot(Re(ht)),kt=["absolute","fixed"].indexOf(ae(ht).position)>=0&&we(ht)?Ot(ht):ht;return se(kt)?Ct.filter(function(Et){return se(Et)&&He(Et,kt)&&M(Et)!=="body"}):[]}(st):[].concat(Rt),zt=[].concat(Ut,[rt]),_t=zt[0],yt=zt.reduce(function(ht,Ct){var kt=$e(st,Ct);return ht.top=Ke(kt.top,ht.top),ht.right=Le(kt.right,ht.right),ht.bottom=Le(kt.bottom,ht.bottom),ht.left=Ke(kt.left,ht.left),ht},$e(st,_t));return yt.width=yt.right-yt.left,yt.height=yt.bottom-yt.top,yt.x=yt.left,yt.y=yt.top,yt}(se(et)?et:et.contextElement||G(T.elements.popper),Z,J),We=ft(T.elements.reference),Be=pr({reference:We,element:nt,strategy:"absolute",placement:B}),_e=je(Object.assign({},nt,Be)),qe=xe===on?_e:We,Me={top:Xe.top-qe.top+Qe.top,bottom:qe.bottom-Xe.bottom+Qe.bottom,left:Xe.left-qe.left+Qe.left,right:qe.right-Xe.right+Qe.right},it=T.modifiersData.offset;if(xe===on&&it){var gt=it[B];Object.keys(Me).forEach(function(st){var Rt=[Qt,lt].indexOf(st)>=0?1:-1,rt=[xt,lt].indexOf(st)>=0?"y":"x";Me[st]+=gt[rt]*Rt})}return Me}const Nt={name:"flip",enabled:!0,phase:"main",fn:function(T){var C=T.state,k=T.options,N=T.name;if(!C.modifiersData[N]._skip){for(var B=k.mainAxis,Q=B===void 0||B,Z=k.altAxis,le=Z===void 0||Z,J=k.fallbackPlacements,re=k.padding,xe=k.boundary,de=k.rootBoundary,Fe=k.altBoundary,Pe=k.flipVariations,Ve=Pe===void 0||Pe,Qe=k.allowedAutoPlacements,Ue=C.options.placement,nt=hn(Ue),et=J||(nt!==Ue&&Ve?function(Et){if(hn(Et)===wn)return[];var It=De(Et);return[Te(Et),It,Te(It)]}(Ue):[De(Ue)]),Xe=[Ue].concat(et).reduce(function(Et,It){return Et.concat(hn(It)===wn?function(en,mn){mn===void 0&&(mn={});var ln=mn,wr=ln.placement,Oe=ln.boundary,zr=ln.rootBoundary,vi=ln.padding,bi=ln.flipVariations,co=ln.allowedAutoPlacements,wi=co===void 0?nr:co,$r=Rn(wr),wa=$r?bi?dr:dr.filter(function(Fn){return Rn(Fn)===$r}):rn,uo=wa.filter(function(Fn){return wi.indexOf(Fn)>=0});uo.length===0&&(uo=wa);var Fr=uo.reduce(function(Fn,Ur){return Fn[Ur]=pt(en,{placement:Ur,boundary:Oe,rootBoundary:zr,padding:vi})[hn(Ur)],Fn},{});return Object.keys(Fr).sort(function(Fn,Ur){return Fr[Fn]-Fr[Ur]})}(C,{placement:It,boundary:xe,rootBoundary:de,padding:re,flipVariations:Ve,allowedAutoPlacements:Qe}):It)},[]),We=C.rects.reference,Be=C.rects.popper,_e=new Map,qe=!0,Me=Xe[0],it=0;it<Xe.length;it++){var gt=Xe[it],st=hn(gt),Rt=Rn(gt)===pn,rt=[xt,lt].indexOf(st)>=0,Ut=rt?"width":"height",zt=pt(C,{placement:gt,boundary:xe,rootBoundary:de,altBoundary:Fe,padding:re}),_t=rt?Rt?Qt:mt:Rt?lt:xt;We[Ut]>Be[Ut]&&(_t=De(_t));var yt=De(_t),ht=[];if(Q&&ht.push(zt[st]<=0),le&&ht.push(zt[_t]<=0,zt[yt]<=0),ht.every(function(Et){return Et})){Me=gt,qe=!1;break}_e.set(gt,ht)}if(qe)for(var Ct=function(Et){var It=Xe.find(function(en){var mn=_e.get(en);if(mn)return mn.slice(0,Et).every(function(ln){return ln})});if(It)return Me=It,"break"},kt=Ve?3:1;kt>0&&Ct(kt)!=="break";kt--);C.placement!==Me&&(C.modifiersData[N]._skip=!0,C.placement=Me,C.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Tt(T,C,k){return Ke(T,Le(C,k))}const Gt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(T){var C=T.state,k=T.options,N=T.name,B=k.mainAxis,Q=B===void 0||B,Z=k.altAxis,le=Z!==void 0&&Z,J=k.boundary,re=k.rootBoundary,xe=k.altBoundary,de=k.padding,Fe=k.tether,Pe=Fe===void 0||Fe,Ve=k.tetherOffset,Qe=Ve===void 0?0:Ve,Ue=pt(C,{boundary:J,rootBoundary:re,padding:de,altBoundary:xe}),nt=hn(C.placement),et=Rn(C.placement),Xe=!et,We=rr(nt),Be=We==="x"?"y":"x",_e=C.modifiersData.popperOffsets,qe=C.rects.reference,Me=C.rects.popper,it=typeof Qe=="function"?Qe(Object.assign({},C.rects,{placement:C.placement})):Qe,gt=typeof it=="number"?{mainAxis:it,altAxis:it}:Object.assign({mainAxis:0,altAxis:0},it),st=C.modifiersData.offset?C.modifiersData.offset[C.placement]:null,Rt={x:0,y:0};if(_e){if(Q){var rt,Ut=We==="y"?xt:mt,zt=We==="y"?lt:Qt,_t=We==="y"?"height":"width",yt=_e[We],ht=yt+Ue[Ut],Ct=yt-Ue[zt],kt=Pe?-Me[_t]/2:0,Et=et===pn?qe[_t]:Me[_t],It=et===pn?-Me[_t]:-qe[_t],en=C.elements.arrow,mn=Pe&&en?Ce(en):{width:0,height:0},ln=C.modifiersData["arrow#persistent"]?C.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},wr=ln[Ut],Oe=ln[zt],zr=Tt(0,qe[_t],mn[_t]),vi=Xe?qe[_t]/2-kt-zr-wr-gt.mainAxis:Et-zr-wr-gt.mainAxis,bi=Xe?-qe[_t]/2+kt+zr+Oe+gt.mainAxis:It+zr+Oe+gt.mainAxis,co=C.elements.arrow&&Ot(C.elements.arrow),wi=co?We==="y"?co.clientTop||0:co.clientLeft||0:0,$r=(rt=st?.[We])!=null?rt:0,wa=yt+bi-$r,uo=Tt(Pe?Le(ht,yt+vi-$r-wi):ht,yt,Pe?Ke(Ct,wa):Ct);_e[We]=uo,Rt[We]=uo-yt}if(le){var Fr,Fn=We==="x"?xt:mt,Ur=We==="x"?lt:Qt,qr=_e[Be],xa=Be==="y"?"height":"width",Bs=qr+Ue[Fn],Ca=qr-Ue[Ur],Hr=[xt,mt].indexOf(nt)!==-1,zs=(Fr=st?.[Be])!=null?Fr:0,xi=Hr?Bs:qr-qe[xa]-Me[xa]-zs+gt.altAxis,Ci=Hr?qr+qe[xa]+Me[xa]-zs-gt.altAxis:Ca,Ei=Pe&&Hr?function($s,Fs,xr){var Us=Tt($s,Fs,xr);return Us>xr?xr:Us}(xi,qr,Ci):Tt(Pe?xi:Bs,qr,Pe?Ci:Ca);_e[Be]=Ei,Rt[Be]=Ei-qr}C.modifiersData[N]=Rt}},requiresIfExists:["offset"]},wt={name:"arrow",enabled:!0,phase:"main",fn:function(T){var C,k=T.state,N=T.name,B=T.options,Q=k.elements.arrow,Z=k.modifiersData.popperOffsets,le=hn(k.placement),J=rr(le),re=[mt,Qt].indexOf(le)>=0?"height":"width";if(Q&&Z){var xe=function(Me,it){return at(typeof(Me=typeof Me=="function"?Me(Object.assign({},it.rects,{placement:it.placement})):Me)!="number"?Me:At(Me,rn))}(B.padding,k),de=Ce(Q),Fe=J==="y"?xt:mt,Pe=J==="y"?lt:Qt,Ve=k.rects.reference[re]+k.rects.reference[J]-Z[J]-k.rects.popper[re],Qe=Z[J]-k.rects.reference[J],Ue=Ot(Q),nt=Ue?J==="y"?Ue.clientHeight||0:Ue.clientWidth||0:0,et=Ve/2-Qe/2,Xe=xe[Fe],We=nt-de[re]-xe[Pe],Be=nt/2-de[re]/2+et,_e=Tt(Xe,Be,We),qe=J;k.modifiersData[N]=((C={})[qe]=_e,C.centerOffset=_e-Be,C)}},effect:function(T){var C=T.state,k=T.options.element,N=k===void 0?"[data-popper-arrow]":k;N!=null&&(typeof N!="string"||(N=C.elements.popper.querySelector(N)))&&He(C.elements.popper,N)&&(C.elements.arrow=N)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yt(T,C,k){return k===void 0&&(k={x:0,y:0}),{top:T.top-C.height-k.y,right:T.right-C.width+k.x,bottom:T.bottom-C.height+k.y,left:T.left-C.width-k.x}}function an(T){return[xt,Qt,lt,mt].some(function(C){return T[C]>=0})}var An=da({defaultModifiers:[$o,Dr,ui,z,ne,Nt,Gt,wt,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(T){var C=T.state,k=T.name,N=C.rects.reference,B=C.rects.popper,Q=C.modifiersData.preventOverflow,Z=pt(C,{elementContext:"reference"}),le=pt(C,{altBoundary:!0}),J=Yt(Z,N),re=Yt(le,B,Q),xe=an(J),de=an(re);C.modifiersData[k]={referenceClippingOffsets:J,popperEscapeOffsets:re,isReferenceHidden:xe,hasPopperEscaped:de},C.attributes.popper=Object.assign({},C.attributes.popper,{"data-popper-reference-hidden":xe,"data-popper-escaped":de})}}]}),or=i(590),Cn=i.n(or),zn=[],sn=function(){},En=function(){return Promise.resolve(null)},oo=[];function di(T){var C=T.placement,k=C===void 0?"bottom":C,N=T.strategy,B=N===void 0?"absolute":N,Q=T.modifiers,Z=Q===void 0?oo:Q,le=T.referenceElement,J=T.onFirstUpdate,re=T.innerRef,xe=T.children,de=f.useContext(j),Fe=f.useState(null),Pe=Fe[0],Ve=Fe[1],Qe=f.useState(null),Ue=Qe[0],nt=Qe[1];f.useEffect(function(){ge(re,Pe)},[re,Pe]);var et=f.useMemo(function(){return{placement:k,strategy:B,onFirstUpdate:J,modifiers:[].concat(Z,[{name:"arrow",enabled:Ue!=null,options:{element:Ue}}])}},[k,B,J,Z,Ue]),Xe=function(it,gt,st){st===void 0&&(st={});var Rt=f.useRef(null),rt={onFirstUpdate:st.onFirstUpdate,placement:st.placement||"bottom",strategy:st.strategy||"absolute",modifiers:st.modifiers||zn},Ut=f.useState({styles:{popper:{position:rt.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),zt=Ut[0],_t=Ut[1],yt=f.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(kt){var Et=kt.state,It=Object.keys(Et.elements);_t({styles:ye(It.map(function(en){return[en,Et.styles[en]||{}]})),attributes:ye(It.map(function(en){return[en,Et.attributes[en]]}))})},requires:["computeStyles"]}},[]),ht=f.useMemo(function(){var kt={onFirstUpdate:rt.onFirstUpdate,placement:rt.placement,strategy:rt.strategy,modifiers:[].concat(rt.modifiers,[yt,{name:"applyStyles",enabled:!1}])};return Cn()(Rt.current,kt)?Rt.current||kt:(Rt.current=kt,kt)},[rt.onFirstUpdate,rt.placement,rt.strategy,rt.modifiers,yt]),Ct=f.useRef();return Y(function(){Ct.current&&Ct.current.setOptions(ht)},[ht]),Y(function(){if(it!=null&&gt!=null){var kt=(st.createPopper||An)(it,gt,ht);return Ct.current=kt,function(){kt.destroy(),Ct.current=null}}},[it,gt,st.createPopper]),{state:Ct.current?Ct.current.state:null,styles:zt.styles,attributes:zt.attributes,update:Ct.current?Ct.current.update:null,forceUpdate:Ct.current?Ct.current.forceUpdate:null}}(le||de,Pe,et),We=Xe.state,Be=Xe.styles,_e=Xe.forceUpdate,qe=Xe.update,Me=f.useMemo(function(){return{ref:Ve,style:Be.popper,placement:We?We.placement:k,hasPopperEscaped:We&&We.modifiersData.hide?We.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:We&&We.modifiersData.hide?We.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:Be.arrow,ref:nt},forceUpdate:_e||sn,update:qe||En}},[Ve,nt,k,We,Be,qe,_e]);return fe(xe)(Me)}var Dc=i(473),Mc=i.n(Dc);function Br(T){var C=T.children,k=T.innerRef,N=f.useContext(P),B=f.useCallback(function(Q){ge(k,Q),me(N,Q)},[k,N]);return f.useEffect(function(){return function(){return ge(k,null)}}),f.useEffect(function(){Mc()(!!N,"`Reference` should not be used outside of a `Manager` component.")},[N]),fe(C)({ref:B})}var Ps=i(379),fa=i.n(Ps),fi=i(717);fa()(fi.Z,{insert:"head",singleton:!1});const dt=fi.Z.locals||{};function pa(T,C){(C==null||C>T.length)&&(C=T.length);for(var k=0,N=new Array(C);k<C;k++)N[k]=T[k];return N}var Ns=function(T){var C=T.className,k=T.tally;return f.createElement("div",{className:D()(dt.tally,C)},f.createElement("div",{className:dt.tallyCounts},f.createElement(h.SectionTallyCount,{type:"introduction",count:k&&k.introduction&&k.introduction.toLocaleString()||0,showLabels:!0}),f.createElement(h.SectionTallyCount,{type:"methods",count:k&&k.methods&&k.methods.toLocaleString()||0,showLabels:!0}),f.createElement(h.SectionTallyCount,{type:"results",count:k&&k.results&&k.results.toLocaleString()||0,showLabels:!0}),f.createElement(h.SectionTallyCount,{type:"discussion",count:k&&k.discussion&&k.discussion.toLocaleString()||0,showLabels:!0}),f.createElement(h.SectionTallyCount,{type:"other",count:k&&k.other&&k.other.toLocaleString()||0,showLabels:!0})))},Ls=function(T){var C=T.className,k=T.tally,N=T.notices;return f.createElement("div",{className:D()(dt.tally,C)},N&&N.length>0&&f.createElement("div",{className:dt.notices},N.map(function(B,Q){return f.createElement("div",{key:"".concat(Q,"-").concat(B),className:dt.notice},f.createElement("div",{className:dt.tallyCounts},B==="Retracted"||B==="Withdrawn"?f.createElement(h.Count,{type:"retractions"}):f.createElement(h.Count,{type:"notices"})),f.createElement("div",{className:dt.noticeLabel},B==="Retracted"||B==="Withdrawn"?f.createElement("span",{className:D()(dt.retractionsCopy,dt[B])},"This paper has been ",B.toLowerCase()):f.createElement("span",{className:D()(dt.noticeCopy,dt[B])},"This paper ",B.toLowerCase())))})),f.createElement("div",{className:dt.tallyCounts},f.createElement(h.Count,{type:"publications",count:k&&k.citingPublications?k.citingPublications.toLocaleString():0,className:dt.tallyCount}),f.createElement(h.Count,{type:"supporting",count:k&&k.supporting?k.supporting.toLocaleString():0,className:dt.tallyCount}),f.createElement(h.Count,{type:"mentioning",count:k&&k.mentioning?k.mentioning.toLocaleString():0,className:dt.tallyCount}),f.createElement(h.Count,{type:"contrasting",count:k&&k.contradicting?k.contradicting.toLocaleString():0,className:dt.tallyCount})),f.createElement("div",{className:dt.labels},f.createElement("span",{className:dt.label},"Citing Publications"),f.createElement("span",{className:dt.label},"Supporting"),f.createElement("span",{className:dt.label},"Mentioning"),f.createElement("span",{className:dt.label},"Contrasting")))},pi=function(T){var C=T.className,k=T.href,N=T.children;return f.createElement("a",{className:D()(dt.link,C),href:k,target:"_blank",rel:"noopener noreferrer"},N)},In=function(T){var C=T.className;return f.createElement("div",{className:C},f.createElement("p",null,"See how this article has been cited at ",f.createElement(pi,{href:"https://scite.ai"},"scite.ai")),f.createElement("p",{className:dt.message},"scite shows how a scientific paper has been cited by providing the context of the citation, a classification describing whether it supports, mentions, or contrasts the cited claim, and a label indicating in which section the citation was made"))},gr=function(T){var C=T.tally,k=T.notices;return f.createElement("div",{className:dt.tooltipContent},f.createElement("img",{className:dt.logo,src:"https://cdn.scite.ai/assets/images/logo.svg"}),f.createElement("span",{className:dt.slogan},"Smart Citations"),f.createElement(Ls,{tally:C,notices:k}),C&&f.createElement("a",{className:dt.button,href:"https://scite.ai/reports/".concat(C.doi),target:"_blank",rel:"noopener noreferrer"},"View Citations"),f.createElement(In,null))},yr=function(T){var C=T.tally;return f.createElement("div",null,f.createElement("img",{className:dt.logo,src:"https://cdn.scite.ai/assets/images/logo.svg"}),f.createElement("span",{className:dt.slogan},"Cited in Sections"),f.createElement(Ns,{tally:C}),C&&f.createElement("a",{className:dt.button,href:"https://scite.ai/reports/".concat(C.doi),target:"_blank",rel:"noopener noreferrer"},"View Citations"),f.createElement(In,null))},vr=function(T){var C,k=T.show,N=T.doi,B=T.tally,Q=T.notices,Z=T.placement,le=T.flip,J=T.slide,re=T.handleMouseEnter,xe=T.handleMouseLeave,de=T.tallyType;(0,f.useEffect)(function(){C&&setTimeout(C)},[B]);var Fe=function(){window.open("https://scite.ai/reports/".concat(N))};return f.createElement(di,{placement:Z,strategy:"fixed",modifiers:[{name:"preventOverflow",options:{mainAxis:!1}},{name:"offset",options:{offset:[J||0,12]}},{name:"flip",options:le?{}:{fallbackPlacements:[]}}]},function(Pe){var Ve,Qe,Ue,nt=Pe.ref,et=Pe.style,Xe=Pe.placement,We=(Pe.arrowProps,Pe.update);return C=We,f.createElement("div",{ref:nt,className:D()(dt.tooltip,(Ve={},Qe=dt.tooltipShow,Ue=k,Qe in Ve?Object.defineProperty(Ve,Qe,{value:Ue,enumerable:!0,configurable:!0,writable:!0}):Ve[Qe]=Ue,Ve)),style:et,"data-placement":Xe,onMouseEnter:re,onMouseLeave:xe,onClick:Fe},de==="smart_citations"&&f.createElement(gr,{tally:B,notices:Q}),de==="sections"&&f.createElement(yr,{tally:B}))})};const br=function(T){var C,k,N,B,Q=T.doi,Z=T.tally,le=T.notices,J=T.showZero,re=T.placement,xe=re===void 0?"top":re,de=T.flip,Fe=T.slide,Pe=Fe===void 0?0:Fe,Ve=T.children,Qe=T.tallyType,Ue=Qe===void 0?"smart_citations":Qe,nt=(N=(0,f.useState)(!1),B=2,function(_e){if(Array.isArray(_e))return _e}(N)||function(_e,qe){var Me=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(Me!=null){var it,gt,st=[],Rt=!0,rt=!1;try{for(Me=Me.call(_e);!(Rt=(it=Me.next()).done)&&(st.push(it.value),!qe||st.length!==qe);Rt=!0);}catch(Ut){rt=!0,gt=Ut}finally{try{Rt||Me.return==null||Me.return()}finally{if(rt)throw gt}}return st}}(N,B)||function(_e,qe){if(_e){if(typeof _e=="string")return pa(_e,qe);var Me=Object.prototype.toString.call(_e).slice(8,-1);return Me==="Object"&&_e.constructor&&(Me=_e.constructor.name),Me==="Map"||Me==="Set"?Array.from(Me):Me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Me)?pa(_e,qe):void 0}}(N,B)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),et=nt[0],Xe=nt[1],We=function(){xe!=="none"&&(C&&clearTimeout(C),k=setTimeout(function(){Xe(!0)},500))},Be=function(){xe!=="none"&&(k&&clearTimeout(k),C=setTimeout(function(){Xe(!1)},300))};return xe==="none"?Ve:f.createElement(q,null,f.createElement(Br,null,function(_e){var qe=_e.ref;return f.createElement("div",{className:dt.reference,ref:qe,onMouseEnter:We,onMouseLeave:Be},Ve)}),f.createElement(vr,{show:et&&!(Z&&Z.total===0&&!J),doi:Q,tally:Z,notices:le,placement:xe,flip:de,slide:Pe,handleMouseEnter:We,handleMouseLeave:Be,tallyType:Ue}))};var ao=i(180);fa()(ao.Z,{insert:"head",singleton:!1}),ao.Z.locals;var io=i(696);function ha(T,C){(C==null||C>T.length)&&(C=T.length);for(var k=0,N=new Array(C);k<C;k++)N[k]=T[k];return N}function ma(T,C,k,N,B,Q,Z){try{var le=T[Q](Z),J=le.value}catch(re){return void k(re)}le.done?C(J):Promise.resolve(J).then(N,B)}function hi(T){return function(){var C=this,k=arguments;return new Promise(function(N,B){var Q=T.apply(C,k);function Z(J){ma(Q,N,B,Z,le,"next",J)}function le(J){ma(Q,N,B,Z,le,"throw",J)}Z(void 0)})}}function Fo(T,C,k){return C in T?Object.defineProperty(T,C,{value:k,enumerable:!0,configurable:!0,writable:!0}):T[C]=k,T}function mi(T){for(var C=1;C<arguments.length;C++){var k=arguments[C]!=null?arguments[C]:{},N=Object.keys(k);typeof Object.getOwnPropertySymbols=="function"&&(N=N.concat(Object.getOwnPropertySymbols(k).filter(function(B){return Object.getOwnPropertyDescriptor(k,B).enumerable}))),N.forEach(function(B){Fo(T,B,k[B])})}return T}function ga(T,C){return function(k){if(Array.isArray(k))return k}(T)||function(k,N){var B=k==null?null:typeof Symbol<"u"&&k[Symbol.iterator]||k["@@iterator"];if(B!=null){var Q,Z,le=[],J=!0,re=!1;try{for(B=B.call(k);!(J=(Q=B.next()).done)&&(le.push(Q.value),!N||le.length!==N);J=!0);}catch(xe){re=!0,Z=xe}finally{try{J||B.return==null||B.return()}finally{if(re)throw Z}}return le}}(T,C)||Ds(T,C)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gi(T){return function(C){if(Array.isArray(C))return ha(C)}(T)||function(C){if(typeof Symbol<"u"&&C[Symbol.iterator]!=null||C["@@iterator"]!=null)return Array.from(C)}(T)||Ds(T)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ds(T,C){if(T){if(typeof T=="string")return ha(T,C);var k=Object.prototype.toString.call(T).slice(8,-1);return k==="Object"&&T.constructor&&(k=T.constructor.name),k==="Map"||k==="Set"?Array.from(k):k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k)?ha(T,C):void 0}}fa()(io.Z,{insert:"head",singleton:!1}),io.Z.locals;var $n=500,Uo=window.location.hostname;function so(T){var C=T.dataset,k={},N=qo(T);return N&&(k.doi=N),C.tallyShow?k.tallyShow=C.tallyShow==="true":k.tallyShow=!0,C.sectionTallyShow&&(k.sectionTallyShow=C.sectionTallyShow==="true"),C.showLogo&&(k.showLogo=C.showLogo==="true"),C.chartType&&(k.chartType=C.chartType),C.showZero&&(k.showZero=C.showZero==="true"),C.forceCollapse&&(k.forceCollapse=C.forceCollapse==="true"),C.layout&&(k.horizontal=C.layout==="horizontal"),C.sectionTallyLayout&&(k.horizontalSectionTally=C.sectionTallyLayout==="horizontal"),C.tooltipPlacement&&(k.placement=C.tooltipPlacement),C.tooltipSlide&&(k.slide=Number(C.tooltipSlide)),C.showLabels&&(k.showLabels=C.showLabels==="true"),C.targetEl&&(k.targetEl=C.targetEl),C.insertBefore&&(k.insertBefore=C.insertBefore==="true"),C.small&&(k.small=C.small==="true"),C.campaign&&(k.campaign=C.campaign),C.autologin&&(k.autologin=C.autologin),C.rewardfulId&&(k.rewardfulID=C.rewardfulId),k}function lo(T){var C,k=[],N=[],B=!0,Q=!1,Z=void 0;try{for(var le,J=T[Symbol.iterator]();!(B=(le=J.next()).done);B=!0){var re=le.value,xe=qo(re);"tallyShow"in(C=re.dataset)&&C.tallyShow!==null&&C.tallyShow!=="true"||k.push(xe),re.dataset.sectionTallyShow==="true"&&N.push(xe)}}catch(de){Q=!0,Z=de}finally{try{B||J.return==null||J.return()}finally{if(Q)throw Z}}return{tallyDOIs:gi(new Set(k)),sectionTallyDOIs:gi(new Set(N))}}function qo(T){var C,k=T.dataset;if(k.doi&&/^meta:/.test(k.doi)){var N=k.doi.split("meta:").join(""),B="meta[name='".concat(N,"']"),Q=document.querySelector(B);Q?C=Q.getAttribute("content"):console.warn('Scite badge could not find meta tag with name="'.concat(N,'"'))}else k.doi&&(C=k.doi);return C&&C.toLowerCase().trim()}function ya(T,C,k,N){var B=so(T),Q=B.tallyShow||!1,Z=B.sectionTallyShow||!1,le=Q&&Z,J=B.doi,re=B.showZero||!1,xe=B.forceCollapse||!1,de=B.horizontal||!1,Fe=B.placement||"top",Pe=B.showLabels||!1,Ve=B.slide||0,Qe=B.small||!1,Ue=B.campaign||void 0,nt=B.autologin||void 0,et=B.rewardfulID||void 0,Xe=B.showLogo||!0,We=B.chartType||null,Be=B.horizontalSectionTally,_e=!B.placement;try{(0,m.unmountComponentAtNode)(T)}catch{console.warn("Scite badge: unmounting component on another react DOM")}le?(0,m.render)(f.createElement(f.Fragment,null,f.createElement("div",{style:{display:"inline-block",marginBottom:"4px"}},f.createElement(br,{doi:J,tally:C,showZero:re,placement:Fe,flip:_e,slide:Ve,notices:k},f.createElement(h.Tally,{tally:C,horizontal:de,showZero:re,forceCollapse:xe,showLabels:Pe,notices:k,small:Qe,source:Uo,campaign:Ue,autologin:nt,rewardfulID:et,isBadge:!0,showLogo:Xe}))),f.createElement("div",null,f.createElement(br,{doi:J,tally:N,showZero:re,placement:Fe,flip:_e,slide:Ve,tallyType:"sections"},f.createElement(h.SectionTally,{tally:N,horizontal:Be,showZero:re,forceCollapse:xe,showLabels:Pe,small:Qe,source:Uo,campaign:Ue,autologin:nt,rewardfulID:et,isBadge:!0,chartType:We,showLogo:!1})))),T):Q?(0,m.render)(f.createElement(br,{doi:J,tally:C,showZero:re,placement:Fe,flip:_e,slide:Ve,notices:k},f.createElement(h.Tally,{tally:C,horizontal:de,showZero:re,forceCollapse:xe,showLabels:Pe,notices:k,small:Qe,source:Uo,campaign:Ue,autologin:nt,rewardfulID:et,isBadge:!0,showLogo:Xe})),T):Z&&(0,m.render)(f.createElement(br,{doi:J,tally:N,showZero:re,placement:Fe,flip:_e,slide:Ve,tallyType:"sections"},f.createElement(h.SectionTally,{tally:N,horizontal:Be,showZero:re,forceCollapse:xe,showLabels:Pe,small:Qe,source:Uo,campaign:Ue,autologin:nt,rewardfulID:et,isBadge:!0,chartType:We,showLogo:Xe})),T)}function Ho(T){var C=so(T),k=C.targetEl,N=C.insertBefore,B=document.querySelector(k),Q=document.createElement("div");Q.className="scite-badge";var Z=Object.keys(T.dataset),le=!0,J=!1,re=void 0;try{for(var xe,de=Z[Symbol.iterator]();!(le=(xe=de.next()).done);le=!0){var Fe=xe.value;Q.dataset[Fe]=T.dataset[Fe]}}catch(Pe){J=!0,re=Pe}finally{try{le||de.return==null||de.return()}finally{if(J)throw re}}return B||console.warn("Scite badge: could not find element to insert badge wrapper into"),N?B.parentNode.insertBefore(Q,B):B.appendChild(Q),Q}function va(){return ba.apply(this,arguments)}function ba(){return ba=hi(u().mark(function T(){var C,k,N,B,Q,Z,le,J,re,xe,de,Fe,Pe,Ve,Qe,Ue,nt,et,Xe,We,Be,_e,qe,Me,it,gt,st,Rt,rt,Ut,zt,_t,yt,ht,Ct,kt,Et,It,en,mn,ln,wr=arguments;return u().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(C=(wr.length>0&&wr[0]!==void 0?wr[0]:{}).forceReload,document.body){Oe.next=3;break}return Oe.abrupt("return",[]);case 3:k=document.querySelectorAll(".scite-badge-config"),N=!0,B=!1,Q=void 0,Oe.prev=5,Z=k[Symbol.iterator]();case 7:if(N=(le=Z.next()).done){Oe.next=16;break}if((J=le.value).dataset.injected!=="true"){Oe.next=11;break}return Oe.abrupt("continue",13);case 11:Ho(J),J.dataset.injected="true";case 13:N=!0,Oe.next=7;break;case 16:Oe.next=22;break;case 18:Oe.prev=18,Oe.t0=Oe.catch(5),B=!0,Q=Oe.t0;case 22:Oe.prev=22,Oe.prev=23,N||Z.return==null||Z.return();case 25:if(Oe.prev=25,!B){Oe.next=28;break}throw Q;case 28:return Oe.finish(25);case 29:return Oe.finish(22);case 30:re=document.querySelectorAll(".scite-badge"),xe=[],de=!0,Fe=!1,Pe=void 0,Oe.prev=33,Ve=re[Symbol.iterator]();case 35:if(de=(Qe=Ve.next()).done){Oe.next=43;break}if((Ue=Qe.value).dataset.fetched!=="true"||C){Oe.next=39;break}return Oe.abrupt("continue",40);case 39:xe.push(Ue);case 40:de=!0,Oe.next=35;break;case 43:Oe.next=49;break;case 45:Oe.prev=45,Oe.t1=Oe.catch(33),Fe=!0,Pe=Oe.t1;case 49:Oe.prev=49,Oe.prev=50,de||Ve.return==null||Ve.return();case 52:if(Oe.prev=52,!Fe){Oe.next=55;break}throw Pe;case 55:return Oe.finish(52);case 56:return Oe.finish(49);case 57:if(nt=lo(xe),et=nt.tallyDOIs,Xe=nt.sectionTallyDOIs,et.length!==0||Xe.length!==0){Oe.next=60;break}return Oe.abrupt("return",re);case 60:We=Math.max(Math.ceil(et.length/$n),Math.ceil(Xe.length/$n)),Be={},_e={},qe={},Me=0;case 65:if(!(Me<We)){Oe.next=100;break}return it=et.slice(Me*$n,(Me+1)*$n),gt=Xe.slice(Me*$n,(Me+1)*$n),Oe.t2=ga,Oe.next=71,Promise.all([L(it),U(it),X(gt)]);case 71:for(Oe.t3=Oe.sent,st=(0,Oe.t2)(Oe.t3,3),Rt=st[0].tallies,rt=st[1].notices,Ut=st[2],zt=Ut.tallies,Be=mi({},Be,Rt),_e=mi({},_e,rt),qe=mi({},qe,zt),_t=!0,yt=!1,ht=void 0,Oe.prev=81,Ct=xe[Symbol.iterator]();!(_t=(kt=Ct.next()).done);_t=!0)Et=kt.value,(It=qo(Et))in Be||It in qe?(en=It in Be?Be[It]:{total:0,citingPublications:0},mn=It in Be?rt[It]:{},ln=It in qe?qe[It]:{},ya(Et,en,mn,ln)):ya(Et,{total:0,citingPublications:0},{},{}),Et.dataset.fetched="true";Oe.next=89;break;case 85:Oe.prev=85,Oe.t4=Oe.catch(81),yt=!0,ht=Oe.t4;case 89:Oe.prev=89,Oe.prev=90,_t||Ct.return==null||Ct.return();case 92:if(Oe.prev=92,!yt){Oe.next=95;break}throw ht;case 95:return Oe.finish(92);case 96:return Oe.finish(89);case 97:Me++,Oe.next=65;break;case 100:return Oe.abrupt("return",re);case 101:case"end":return Oe.stop()}},T,null,[[5,18,22,30],[23,,25,29],[33,45,49,57],[50,,52,56],[81,85,89,97],[90,,92,96]])})),ba.apply(this,arguments)}function Ms(){return yi.apply(this,arguments)}function yi(){return(yi=hi(u().mark(function T(){return u().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,va();case 2:C.sent.length===0&&window.addEventListener("load",va);case 4:case"end":return C.stop()}},T)}))).apply(this,arguments)}})(),l})())})(Ov);var nS=Ov.exports;const rS=window.React.memo,oS=window.React.useEffect,aS=window.React.useRef,iS=rS(function(e){const{doi:n,layout:a="horizontal",showLabels:i=!1,showZero:l=!0,small:c=!1,tooltipPlacement:u="auto",tooltipSlide:f=0}=e,m=aS(null);return oS(()=>{m?.current?.removeAttribute("data-fetched"),nS.insertBadges()}),d.jsx("div",{className:"scite-badge","data-doi":n,"data-layout":a,"data-show-labels":i.toString(),"data-show-zero":l.toString(),"data-small":c.toString(),"data-tooltip-placement":u,"data-tooltip-slide":f,ref:m})});window.React.useMemo;const{Provider:fP,useSettings:sS}=new tr;window.React.useCallback;window.Blueprint.Core.parseKeyCombo;const{Provider:pP,useSettings:Ac}=new tr;window.React.useCallback;const{Provider:hP,useSettings:li}=new tr({afterUpdate:(t,e)=>{window?.zoteroRoam?.updateSetting?.("typemap",e)}});window.React.useMemo;const{Provider:mP,useSettings:lS}=new tr,cS=window.Blueprint.Core.AnchorButton,Or=t=>{const{children:e=null,href:n,minimal:a=!0,...i}=t;return d.jsx(cS,{href:n,intent:"primary",minimal:a,rel:"noreferrer",target:"_blank",...i,children:e})};const uS=window.React.memo,Rm=window.React.useCallback,dS=window.React.useMemo,Am=window.Blueprint.Core.Button,fS=window.Blueprint.Core.ControlGroup,No=({className:t=null,children:e,...n})=>d.jsx("li",{className:[t,W.DATALIST_ITEM].filter(Bt).join(" "),...n,children:e}),Lo=({children:t})=>d.jsx("ul",{className:W.DATALIST_WRAPPER,children:t}),Os=uS(function({arrows:e="last",currentPage:n,itemsPerPage:a=30,nbItems:i,setCurrentPage:l}){const c=dS(()=>i==0?0:Math.ceil(i/a),[a,i]),u=Rm(()=>{n<c&&l(n+1)},[n,c,l]),f=Rm(()=>{n>1&&l(n-1)},[n,l]),m=d.jsxs("span",{className:W.TEXT_SMALL,"zr-role":"items-count",children:[d.jsxs("strong",{children:[(n-1)*a+1,"-",Math.min(n*a,i)]})," / ",fn(i,"item")]}),h=d.jsxs(fS,{children:[d.jsx(Am,{"aria-disabled":n==1,disabled:n==1,icon:"chevron-left",minimal:!0,onClick:f,title:"Go to previous page of results"}),d.jsx(Am,{"aria-disabled":n>=c,disabled:n>=c,icon:"chevron-right",minimal:!0,onClick:u,title:"Go to next page of results"})]});return d.jsx("div",{className:W.DATALIST_PAGINATION,children:i>0?d.jsxs(d.Fragment,{children:[e=="first"&&h,m,e=="last"&&h]}):null})}),eo=({children:t})=>d.jsx("div",{className:W.DATALIST_TOOLBAR,children:t}),pS=window.React.createContext;window.React.useCallback;const hS=window.React.useContext;window.React.useMemo;window.React.useState;const mS=pS(null),Do=()=>{const t=hS(mS);if(!t)throw new Error("No context provided");return t},gS=window.Blueprint.Core.Classes;var If=gS.getClassNamespace(),Ic="".concat(If,"-context-menu2"),yS="".concat(Ic,"-virtual-target"),vS="".concat(Ic,"-popover2"),bS="".concat(Ic,"-backdrop"),bn="".concat(If,"-popover2"),td="".concat(bn,"-arrow"),wS="".concat(bn,"-backdrop"),Im="".concat(bn,"-capturing-dismiss"),xS="".concat(bn,"-content"),CS="".concat(bn,"-placement"),Hd="".concat(bn,"-dismiss"),ES="".concat(Hd,"-override"),SS="".concat(bn,"-open"),TS="".concat(bn,"-popper-escaped"),_S="".concat(bn,"-reference-hidden"),kS="".concat(bn,"-target"),OS="".concat(bn,"-transition-container"),RS="".concat(If,"-tooltip2"),Mo="[Blueprint]",AS="".concat(Mo," <Popover2> requires renderTarget prop or a child element."),IS="".concat(Mo,' <Popover2 hasBackdrop={true}> requires interactionKind="click".'),jS="".concat(Mo," <Popover2> supports only one child which is rendered as its target; additional children are ignored."),PS=Mo+" <Popover2> with children ignores renderTarget prop; use either prop or children.",NS=Mo+" Disabling <Popover2> with empty/whitespace content...",LS=Mo+" <Popover2 usePortal={false}> ignores hasBackdrop",DS=Mo+" <Popover2> supports either placement or position prop, not both.",MS=Mo+" <Popover2> onInteraction is ignored when uncontrolled.";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Vd=function(t,e){return Vd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},Vd(t,e)};function jf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Vd(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Dt=function(){return Dt=Object.assign||function(e){for(var n,a=1,i=arguments.length;a<i;a++){n=arguments[a];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Dt.apply(this,arguments)};function Rv(t,e){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&e.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,a=Object.getOwnPropertySymbols(t);i<a.length;i++)e.indexOf(a[i])<0&&Object.prototype.propertyIsEnumerable.call(t,a[i])&&(n[a[i]]=t[a[i]]);return n}var Av={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var a=[],i=0;i<arguments.length;i++){var l=arguments[i];if(l){var c=typeof l;if(c==="string"||c==="number")a.push(l);else if(Array.isArray(l)){if(l.length){var u=n.apply(null,l);u&&a.push(u)}}else if(c==="object")if(l.toString===Object.prototype.toString)for(var f in l)e.call(l,f)&&l[f]&&a.push(f);else a.push(l.toString())}}return a.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Av);var BS=Av.exports;const Va=mc(BS),ko=window.React;var Iv=ko.createContext(),jv=ko.createContext();function zS(t){var e=t.children,n=ko.useState(null),a=n[0],i=n[1],l=ko.useRef(!1);ko.useEffect(function(){return function(){l.current=!0}},[]);var c=ko.useCallback(function(u){l.current||i(u)},[]);return ko.createElement(Iv.Provider,{value:a},ko.createElement(jv.Provider,{value:c},e))}const jm=window.React;var Pv=function(e){return Array.isArray(e)?e[0]:e},Nv=function(e){if(typeof e=="function"){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return e.apply(void 0,a)}},Xd=function(e,n){if(typeof e=="function")return Nv(e,n);e!=null&&(e.current=n)},Pm=function(e){return e.reduce(function(n,a){var i=a[0],l=a[1];return n[i]=l,n},{})},Nm=typeof window<"u"&&window.document&&window.document.createElement?jm.useLayoutEffect:jm.useEffect,kn="top",Jn="bottom",er="right",On="left",Pf="auto",Rs=[kn,Jn,er,On],ni="start",ms="end",$S="clippingParents",Lv="viewport",Zi="popper",FS="reference",Lm=Rs.reduce(function(t,e){return t.concat([e+"-"+ni,e+"-"+ms])},[]),Dv=[].concat(Rs,[Pf]).reduce(function(t,e){return t.concat([e,e+"-"+ni,e+"-"+ms])},[]),US="beforeRead",qS="read",HS="afterRead",VS="beforeMain",XS="main",WS="afterMain",QS="beforeWrite",KS="write",GS="afterWrite",YS=[US,qS,HS,VS,XS,WS,QS,KS,GS];function Pr(t){return t?(t.nodeName||"").toLowerCase():null}function Dn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ia(t){var e=Dn(t).Element;return t instanceof e||t instanceof Element}function Zn(t){var e=Dn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Nf(t){if(typeof ShadowRoot>"u")return!1;var e=Dn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function ZS(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var a=e.styles[n]||{},i=e.attributes[n]||{},l=e.elements[n];!Zn(l)||!Pr(l)||(Object.assign(l.style,a),Object.keys(i).forEach(function(c){var u=i[c];u===!1?l.removeAttribute(c):l.setAttribute(c,u===!0?"":u)}))})}function JS(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(a){var i=e.elements[a],l=e.attributes[a]||{},c=Object.keys(e.styles.hasOwnProperty(a)?e.styles[a]:n[a]),u=c.reduce(function(f,m){return f[m]="",f},{});!Zn(i)||!Pr(i)||(Object.assign(i.style,u),Object.keys(l).forEach(function(f){i.removeAttribute(f)}))})}}const eT={name:"applyStyles",enabled:!0,phase:"write",fn:ZS,effect:JS,requires:["computeStyles"]};function Ir(t){return t.split("-")[0]}var ra=Math.max,cc=Math.min,ri=Math.round;function Wd(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Mv(){return!/^((?!chrome|android).)*safari/i.test(Wd())}function oi(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var a=t.getBoundingClientRect(),i=1,l=1;e&&Zn(t)&&(i=t.offsetWidth>0&&ri(a.width)/t.offsetWidth||1,l=t.offsetHeight>0&&ri(a.height)/t.offsetHeight||1);var c=ia(t)?Dn(t):window,u=c.visualViewport,f=!Mv()&&n,m=(a.left+(f&&u?u.offsetLeft:0))/i,h=(a.top+(f&&u?u.offsetTop:0))/l,y=a.width/i,v=a.height/l;return{width:y,height:v,top:h,right:m+y,bottom:h+v,left:m,x:m,y:h}}function Lf(t){var e=oi(t),n=t.offsetWidth,a=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-a)<=1&&(a=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:a}}function Bv(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Nf(n)){var a=e;do{if(a&&t.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function to(t){return Dn(t).getComputedStyle(t)}function tT(t){return["table","td","th"].indexOf(Pr(t))>=0}function Bo(t){return((ia(t)?t.ownerDocument:t.document)||window.document).documentElement}function jc(t){return Pr(t)==="html"?t:t.assignedSlot||t.parentNode||(Nf(t)?t.host:null)||Bo(t)}function Dm(t){return!Zn(t)||to(t).position==="fixed"?null:t.offsetParent}function nT(t){var e=/firefox/i.test(Wd()),n=/Trident/i.test(Wd());if(n&&Zn(t)){var a=to(t);if(a.position==="fixed")return null}var i=jc(t);for(Nf(i)&&(i=i.host);Zn(i)&&["html","body"].indexOf(Pr(i))<0;){var l=to(i);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return i;i=i.parentNode}return null}function As(t){for(var e=Dn(t),n=Dm(t);n&&tT(n)&&to(n).position==="static";)n=Dm(n);return n&&(Pr(n)==="html"||Pr(n)==="body"&&to(n).position==="static")?e:n||nT(t)||e}function Df(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function as(t,e,n){return ra(t,cc(e,n))}function rT(t,e,n){var a=as(t,e,n);return a>n?n:a}function zv(){return{top:0,right:0,bottom:0,left:0}}function $v(t){return Object.assign({},zv(),t)}function Fv(t,e){return e.reduce(function(n,a){return n[a]=t,n},{})}var oT=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,$v(typeof e!="number"?e:Fv(e,Rs))};function aT(t){var e,n=t.state,a=t.name,i=t.options,l=n.elements.arrow,c=n.modifiersData.popperOffsets,u=Ir(n.placement),f=Df(u),m=[On,er].indexOf(u)>=0,h=m?"height":"width";if(!(!l||!c)){var y=oT(i.padding,n),v=Lf(l),b=f==="y"?kn:On,x=f==="y"?Jn:er,S=n.rects.reference[h]+n.rects.reference[f]-c[f]-n.rects.popper[h],_=c[f]-n.rects.reference[f],R=As(l),L=R?f==="y"?R.clientHeight||0:R.clientWidth||0:0,U=S/2-_/2,X=y[b],ee=L-v[h]-y[x],D=L/2-v[h]/2+U,j=as(X,D,ee),P=f;n.modifiersData[a]=(e={},e[P]=j,e.centerOffset=j-D,e)}}function iT(t){var e=t.state,n=t.options,a=n.element,i=a===void 0?"[data-popper-arrow]":a;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Bv(e.elements.popper,i)&&(e.elements.arrow=i))}const sT={name:"arrow",enabled:!0,phase:"main",fn:aT,effect:iT,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ai(t){return t.split("-")[1]}var lT={top:"auto",right:"auto",bottom:"auto",left:"auto"};function cT(t,e){var n=t.x,a=t.y,i=e.devicePixelRatio||1;return{x:ri(n*i)/i||0,y:ri(a*i)/i||0}}function Mm(t){var e,n=t.popper,a=t.popperRect,i=t.placement,l=t.variation,c=t.offsets,u=t.position,f=t.gpuAcceleration,m=t.adaptive,h=t.roundOffsets,y=t.isFixed,v=c.x,b=v===void 0?0:v,x=c.y,S=x===void 0?0:x,_=typeof h=="function"?h({x:b,y:S}):{x:b,y:S};b=_.x,S=_.y;var R=c.hasOwnProperty("x"),L=c.hasOwnProperty("y"),U=On,X=kn,ee=window;if(m){var D=As(n),j="clientHeight",P="clientWidth";if(D===Dn(n)&&(D=Bo(n),to(D).position!=="static"&&u==="absolute"&&(j="scrollHeight",P="scrollWidth")),D=D,i===kn||(i===On||i===er)&&l===ms){X=Jn;var q=y&&D===ee&&ee.visualViewport?ee.visualViewport.height:D[j];S-=q-a.height,S*=f?1:-1}if(i===On||(i===kn||i===Jn)&&l===ms){U=er;var fe=y&&D===ee&&ee.visualViewport?ee.visualViewport.width:D[P];b-=fe-a.width,b*=f?1:-1}}var me=Object.assign({position:u},m&&lT),ge=h===!0?cT({x:b,y:S},Dn(n)):{x:b,y:S};if(b=ge.x,S=ge.y,f){var ye;return Object.assign({},me,(ye={},ye[X]=L?"0":"",ye[U]=R?"0":"",ye.transform=(ee.devicePixelRatio||1)<=1?"translate("+b+"px, "+S+"px)":"translate3d("+b+"px, "+S+"px, 0)",ye))}return Object.assign({},me,(e={},e[X]=L?S+"px":"",e[U]=R?b+"px":"",e.transform="",e))}function uT(t){var e=t.state,n=t.options,a=n.gpuAcceleration,i=a===void 0?!0:a,l=n.adaptive,c=l===void 0?!0:l,u=n.roundOffsets,f=u===void 0?!0:u,m={placement:Ir(e.placement),variation:ai(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Mm(Object.assign({},m,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Mm(Object.assign({},m,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const dT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:uT,data:{}};var Rl={passive:!0};function fT(t){var e=t.state,n=t.instance,a=t.options,i=a.scroll,l=i===void 0?!0:i,c=a.resize,u=c===void 0?!0:c,f=Dn(e.elements.popper),m=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&m.forEach(function(h){h.addEventListener("scroll",n.update,Rl)}),u&&f.addEventListener("resize",n.update,Rl),function(){l&&m.forEach(function(h){h.removeEventListener("scroll",n.update,Rl)}),u&&f.removeEventListener("resize",n.update,Rl)}}const pT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:fT,data:{}};var hT={left:"right",right:"left",bottom:"top",top:"bottom"};function Gl(t){return t.replace(/left|right|bottom|top/g,function(e){return hT[e]})}var mT={start:"end",end:"start"};function Bm(t){return t.replace(/start|end/g,function(e){return mT[e]})}function Mf(t){var e=Dn(t),n=e.pageXOffset,a=e.pageYOffset;return{scrollLeft:n,scrollTop:a}}function Bf(t){return oi(Bo(t)).left+Mf(t).scrollLeft}function gT(t,e){var n=Dn(t),a=Bo(t),i=n.visualViewport,l=a.clientWidth,c=a.clientHeight,u=0,f=0;if(i){l=i.width,c=i.height;var m=Mv();(m||!m&&e==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}return{width:l,height:c,x:u+Bf(t),y:f}}function yT(t){var e,n=Bo(t),a=Mf(t),i=(e=t.ownerDocument)==null?void 0:e.body,l=ra(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=ra(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-a.scrollLeft+Bf(t),f=-a.scrollTop;return to(i||n).direction==="rtl"&&(u+=ra(n.clientWidth,i?i.clientWidth:0)-l),{width:l,height:c,x:u,y:f}}function zf(t){var e=to(t),n=e.overflow,a=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+a)}function Uv(t){return["html","body","#document"].indexOf(Pr(t))>=0?t.ownerDocument.body:Zn(t)&&zf(t)?t:Uv(jc(t))}function is(t,e){var n;e===void 0&&(e=[]);var a=Uv(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),l=Dn(a),c=i?[l].concat(l.visualViewport||[],zf(a)?a:[]):a,u=e.concat(c);return i?u:u.concat(is(jc(c)))}function Qd(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function vT(t,e){var n=oi(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function zm(t,e,n){return e===Lv?Qd(gT(t,n)):ia(e)?vT(e,n):Qd(yT(Bo(t)))}function bT(t){var e=is(jc(t)),n=["absolute","fixed"].indexOf(to(t).position)>=0,a=n&&Zn(t)?As(t):t;return ia(a)?e.filter(function(i){return ia(i)&&Bv(i,a)&&Pr(i)!=="body"}):[]}function wT(t,e,n,a){var i=e==="clippingParents"?bT(t):[].concat(e),l=[].concat(i,[n]),c=l[0],u=l.reduce(function(f,m){var h=zm(t,m,a);return f.top=ra(h.top,f.top),f.right=cc(h.right,f.right),f.bottom=cc(h.bottom,f.bottom),f.left=ra(h.left,f.left),f},zm(t,c,a));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function qv(t){var e=t.reference,n=t.element,a=t.placement,i=a?Ir(a):null,l=a?ai(a):null,c=e.x+e.width/2-n.width/2,u=e.y+e.height/2-n.height/2,f;switch(i){case kn:f={x:c,y:e.y-n.height};break;case Jn:f={x:c,y:e.y+e.height};break;case er:f={x:e.x+e.width,y:u};break;case On:f={x:e.x-n.width,y:u};break;default:f={x:e.x,y:e.y}}var m=i?Df(i):null;if(m!=null){var h=m==="y"?"height":"width";switch(l){case ni:f[m]=f[m]-(e[h]/2-n[h]/2);break;case ms:f[m]=f[m]+(e[h]/2-n[h]/2);break}}return f}function gs(t,e){e===void 0&&(e={});var n=e,a=n.placement,i=a===void 0?t.placement:a,l=n.strategy,c=l===void 0?t.strategy:l,u=n.boundary,f=u===void 0?$S:u,m=n.rootBoundary,h=m===void 0?Lv:m,y=n.elementContext,v=y===void 0?Zi:y,b=n.altBoundary,x=b===void 0?!1:b,S=n.padding,_=S===void 0?0:S,R=$v(typeof _!="number"?_:Fv(_,Rs)),L=v===Zi?FS:Zi,U=t.rects.popper,X=t.elements[x?L:v],ee=wT(ia(X)?X:X.contextElement||Bo(t.elements.popper),f,h,c),D=oi(t.elements.reference),j=qv({reference:D,element:U,strategy:"absolute",placement:i}),P=Qd(Object.assign({},U,j)),q=v===Zi?P:D,fe={top:ee.top-q.top+R.top,bottom:q.bottom-ee.bottom+R.bottom,left:ee.left-q.left+R.left,right:q.right-ee.right+R.right},me=t.modifiersData.offset;if(v===Zi&&me){var ge=me[i];Object.keys(fe).forEach(function(ye){var Y=[er,Jn].indexOf(ye)>=0?1:-1,be=[kn,Jn].indexOf(ye)>=0?"y":"x";fe[ye]+=ge[be]*Y})}return fe}function xT(t,e){e===void 0&&(e={});var n=e,a=n.placement,i=n.boundary,l=n.rootBoundary,c=n.padding,u=n.flipVariations,f=n.allowedAutoPlacements,m=f===void 0?Dv:f,h=ai(a),y=h?u?Lm:Lm.filter(function(x){return ai(x)===h}):Rs,v=y.filter(function(x){return m.indexOf(x)>=0});v.length===0&&(v=y);var b=v.reduce(function(x,S){return x[S]=gs(t,{placement:S,boundary:i,rootBoundary:l,padding:c})[Ir(S)],x},{});return Object.keys(b).sort(function(x,S){return b[x]-b[S]})}function CT(t){if(Ir(t)===Pf)return[];var e=Gl(t);return[Bm(t),e,Bm(e)]}function ET(t){var e=t.state,n=t.options,a=t.name;if(!e.modifiersData[a]._skip){for(var i=n.mainAxis,l=i===void 0?!0:i,c=n.altAxis,u=c===void 0?!0:c,f=n.fallbackPlacements,m=n.padding,h=n.boundary,y=n.rootBoundary,v=n.altBoundary,b=n.flipVariations,x=b===void 0?!0:b,S=n.allowedAutoPlacements,_=e.options.placement,R=Ir(_),L=R===_,U=f||(L||!x?[Gl(_)]:CT(_)),X=[_].concat(U).reduce(function(M,G){return M.concat(Ir(G)===Pf?xT(e,{placement:G,boundary:h,rootBoundary:y,padding:m,flipVariations:x,allowedAutoPlacements:S}):G)},[]),ee=e.rects.reference,D=e.rects.popper,j=new Map,P=!0,q=X[0],fe=0;fe<X.length;fe++){var me=X[fe],ge=Ir(me),ye=ai(me)===ni,Y=[kn,Jn].indexOf(ge)>=0,be=Y?"width":"height",se=gs(e,{placement:me,boundary:h,rootBoundary:y,altBoundary:v,padding:m}),we=Y?ye?er:On:ye?Jn:kn;ee[be]>D[be]&&(we=Gl(we));var ze=Gl(we),Ke=[];if(l&&Ke.push(se[ge]<=0),u&&Ke.push(se[we]<=0,se[ze]<=0),Ke.every(function(M){return M})){q=me,P=!1;break}j.set(me,Ke)}if(P)for(var Le=x?3:1,Je=function(G){var ue=X.find(function(ae){var K=j.get(ae);if(K)return K.slice(0,G).every(function(te){return te})});if(ue)return q=ue,"break"},ft=Le;ft>0;ft--){var I=Je(ft);if(I==="break")break}e.placement!==q&&(e.modifiersData[a]._skip=!0,e.placement=q,e.reset=!0)}}const ST={name:"flip",enabled:!0,phase:"main",fn:ET,requiresIfExists:["offset"],data:{_skip:!1}};function $m(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Fm(t){return[kn,er,Jn,On].some(function(e){return t[e]>=0})}function TT(t){var e=t.state,n=t.name,a=e.rects.reference,i=e.rects.popper,l=e.modifiersData.preventOverflow,c=gs(e,{elementContext:"reference"}),u=gs(e,{altBoundary:!0}),f=$m(c,a),m=$m(u,i,l),h=Fm(f),y=Fm(m);e.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:m,isReferenceHidden:h,hasPopperEscaped:y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":y})}const _T={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:TT};function kT(t,e,n){var a=Ir(t),i=[On,kn].indexOf(a)>=0?-1:1,l=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,c=l[0],u=l[1];return c=c||0,u=(u||0)*i,[On,er].indexOf(a)>=0?{x:u,y:c}:{x:c,y:u}}function OT(t){var e=t.state,n=t.options,a=t.name,i=n.offset,l=i===void 0?[0,0]:i,c=Dv.reduce(function(h,y){return h[y]=kT(y,e.rects,l),h},{}),u=c[e.placement],f=u.x,m=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=m),e.modifiersData[a]=c}const RT={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:OT};function AT(t){var e=t.state,n=t.name;e.modifiersData[n]=qv({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const IT={name:"popperOffsets",enabled:!0,phase:"read",fn:AT,data:{}};function jT(t){return t==="x"?"y":"x"}function PT(t){var e=t.state,n=t.options,a=t.name,i=n.mainAxis,l=i===void 0?!0:i,c=n.altAxis,u=c===void 0?!1:c,f=n.boundary,m=n.rootBoundary,h=n.altBoundary,y=n.padding,v=n.tether,b=v===void 0?!0:v,x=n.tetherOffset,S=x===void 0?0:x,_=gs(e,{boundary:f,rootBoundary:m,padding:y,altBoundary:h}),R=Ir(e.placement),L=ai(e.placement),U=!L,X=Df(R),ee=jT(X),D=e.modifiersData.popperOffsets,j=e.rects.reference,P=e.rects.popper,q=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,fe=typeof q=="number"?{mainAxis:q,altAxis:q}:Object.assign({mainAxis:0,altAxis:0},q),me=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ge={x:0,y:0};if(D){if(l){var ye,Y=X==="y"?kn:On,be=X==="y"?Jn:er,se=X==="y"?"height":"width",we=D[X],ze=we+_[Y],Ke=we-_[be],Le=b?-P[se]/2:0,Je=L===ni?j[se]:P[se],ft=L===ni?-P[se]:-j[se],I=e.elements.arrow,M=b&&I?Lf(I):{width:0,height:0},G=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:zv(),ue=G[Y],ae=G[be],K=as(0,j[se],M[se]),te=U?j[se]/2-Le-K-ue-fe.mainAxis:Je-K-ue-fe.mainAxis,Ce=U?-j[se]/2+Le+K+ae+fe.mainAxis:ft+K+ae+fe.mainAxis,Re=e.elements.arrow&&As(e.elements.arrow),Ee=Re?X==="y"?Re.clientTop||0:Re.clientLeft||0:0,ot=(ye=me?.[X])!=null?ye:0,St=we+te-ot-Ee,Vt=we+Ce-ot,Ot=as(b?cc(ze,St):ze,we,b?ra(Ke,Vt):Ke);D[X]=Ot,ge[X]=Ot-we}if(u){var xt,lt=X==="x"?kn:On,Qt=X==="x"?Jn:er,mt=D[ee],wn=ee==="y"?"height":"width",rn=mt+_[lt],pn=mt-_[Qt],xn=[kn,On].indexOf(R)!==-1,ur=(xt=me?.[ee])!=null?xt:0,on=xn?rn:mt-j[wn]-P[wn]-ur+fe.altAxis,dr=xn?mt+j[wn]+P[wn]-ur-fe.altAxis:pn,nr=b&&xn?rT(on,mt,dr):as(b?on:rn,mt,b?dr:pn);D[ee]=nr,ge[ee]=nr-mt}e.modifiersData[a]=ge}}const NT={name:"preventOverflow",enabled:!0,phase:"main",fn:PT,requiresIfExists:["offset"]};function LT(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function DT(t){return t===Dn(t)||!Zn(t)?Mf(t):LT(t)}function MT(t){var e=t.getBoundingClientRect(),n=ri(e.width)/t.offsetWidth||1,a=ri(e.height)/t.offsetHeight||1;return n!==1||a!==1}function BT(t,e,n){n===void 0&&(n=!1);var a=Zn(e),i=Zn(e)&&MT(e),l=Bo(e),c=oi(t,i,n),u={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(a||!a&&!n)&&((Pr(e)!=="body"||zf(l))&&(u=DT(e)),Zn(e)?(f=oi(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):l&&(f.x=Bf(l))),{x:c.left+u.scrollLeft-f.x,y:c.top+u.scrollTop-f.y,width:c.width,height:c.height}}function zT(t){var e=new Map,n=new Set,a=[];t.forEach(function(l){e.set(l.name,l)});function i(l){n.add(l.name);var c=[].concat(l.requires||[],l.requiresIfExists||[]);c.forEach(function(u){if(!n.has(u)){var f=e.get(u);f&&i(f)}}),a.push(l)}return t.forEach(function(l){n.has(l.name)||i(l)}),a}function $T(t){var e=zT(t);return YS.reduce(function(n,a){return n.concat(e.filter(function(i){return i.phase===a}))},[])}function FT(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function UT(t){var e=t.reduce(function(n,a){var i=n[a.name];return n[a.name]=i?Object.assign({},i,a,{options:Object.assign({},i.options,a.options),data:Object.assign({},i.data,a.data)}):a,n},{});return Object.keys(e).map(function(n){return e[n]})}var Um={placement:"bottom",modifiers:[],strategy:"absolute"};function qm(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function qT(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,a=n===void 0?[]:n,i=e.defaultOptions,l=i===void 0?Um:i;return function(u,f,m){m===void 0&&(m=l);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Um,l),modifiersData:{},elements:{reference:u,popper:f},attributes:{},styles:{}},y=[],v=!1,b={state:h,setOptions:function(R){var L=typeof R=="function"?R(h.options):R;S(),h.options=Object.assign({},l,h.options,L),h.scrollParents={reference:ia(u)?is(u):u.contextElement?is(u.contextElement):[],popper:is(f)};var U=$T(UT([].concat(a,h.options.modifiers)));return h.orderedModifiers=U.filter(function(X){return X.enabled}),x(),b.update()},forceUpdate:function(){if(!v){var R=h.elements,L=R.reference,U=R.popper;if(qm(L,U)){h.rects={reference:BT(L,As(U),h.options.strategy==="fixed"),popper:Lf(U)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(fe){return h.modifiersData[fe.name]=Object.assign({},fe.data)});for(var X=0;X<h.orderedModifiers.length;X++){if(h.reset===!0){h.reset=!1,X=-1;continue}var ee=h.orderedModifiers[X],D=ee.fn,j=ee.options,P=j===void 0?{}:j,q=ee.name;typeof D=="function"&&(h=D({state:h,options:P,name:q,instance:b})||h)}}}},update:FT(function(){return new Promise(function(_){b.forceUpdate(),_(h)})}),destroy:function(){S(),v=!0}};if(!qm(u,f))return b;b.setOptions(m).then(function(_){!v&&m.onFirstUpdate&&m.onFirstUpdate(_)});function x(){h.orderedModifiers.forEach(function(_){var R=_.name,L=_.options,U=L===void 0?{}:L,X=_.effect;if(typeof X=="function"){var ee=X({state:h,name:R,instance:b,options:U}),D=function(){};y.push(ee||D)}})}function S(){y.forEach(function(_){return _()}),y=[]}return b}}var HT=[pT,IT,dT,eT,RT,ST,NT,sT,_T],VT=qT({defaultModifiers:HT}),XT=typeof Element<"u",WT=typeof Map=="function",QT=typeof Set=="function",KT=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Yl(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,a,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(a=n;a--!==0;)if(!Yl(t[a],e[a]))return!1;return!0}var l;if(WT&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(l=t.entries();!(a=l.next()).done;)if(!e.has(a.value[0]))return!1;for(l=t.entries();!(a=l.next()).done;)if(!Yl(a.value[1],e.get(a.value[0])))return!1;return!0}if(QT&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(l=t.entries();!(a=l.next()).done;)if(!e.has(a.value[0]))return!1;return!0}if(KT&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(a=n;a--!==0;)if(t[a]!==e[a])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[a]))return!1;if(XT&&t instanceof Element)return!1;for(a=n;a--!==0;)if(!((i[a]==="_owner"||i[a]==="__v"||i[a]==="__o")&&t.$$typeof)&&!Yl(t[i[a]],e[i[a]]))return!1;return!0}return t!==t&&e!==e}var GT=function(e,n){try{return Yl(e,n)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}};const YT=mc(GT),Ji=window.React,ZT=window.ReactDOM;var JT=[],e_=function(e,n,a){a===void 0&&(a={});var i=Ji.useRef(null),l={onFirstUpdate:a.onFirstUpdate,placement:a.placement||"bottom",strategy:a.strategy||"absolute",modifiers:a.modifiers||JT},c=Ji.useState({styles:{popper:{position:l.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),u=c[0],f=c[1],m=Ji.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(b){var x=b.state,S=Object.keys(x.elements);ZT.flushSync(function(){f({styles:Pm(S.map(function(_){return[_,x.styles[_]||{}]})),attributes:Pm(S.map(function(_){return[_,x.attributes[_]]}))})})},requires:["computeStyles"]}},[]),h=Ji.useMemo(function(){var v={onFirstUpdate:l.onFirstUpdate,placement:l.placement,strategy:l.strategy,modifiers:[].concat(l.modifiers,[m,{name:"applyStyles",enabled:!1}])};return YT(i.current,v)?i.current||v:(i.current=v,v)},[l.onFirstUpdate,l.placement,l.strategy,l.modifiers,m]),y=Ji.useRef();return Nm(function(){y.current&&y.current.setOptions(h)},[h]),Nm(function(){if(!(e==null||n==null)){var v=a.createPopper||VT,b=v(e,n,h);return y.current=b,function(){b.destroy(),y.current=null}}},[e,n,a.createPopper]),{state:y.current?y.current.state:null,styles:u.styles,attributes:u.attributes,update:y.current?y.current.update:null,forceUpdate:y.current?y.current.forceUpdate:null}};const Ua=window.React;var t_=function(){},n_=function(){return Promise.resolve(null)},r_=[];function o_(t){var e=t.placement,n=e===void 0?"bottom":e,a=t.strategy,i=a===void 0?"absolute":a,l=t.modifiers,c=l===void 0?r_:l,u=t.referenceElement,f=t.onFirstUpdate,m=t.innerRef,h=t.children,y=Ua.useContext(Iv),v=Ua.useState(null),b=v[0],x=v[1],S=Ua.useState(null),_=S[0],R=S[1];Ua.useEffect(function(){Xd(m,b)},[m,b]);var L=Ua.useMemo(function(){return{placement:n,strategy:i,onFirstUpdate:f,modifiers:[].concat(c,[{name:"arrow",enabled:_!=null,options:{element:_}}])}},[n,i,f,c,_]),U=e_(u||y,b,L),X=U.state,ee=U.styles,D=U.forceUpdate,j=U.update,P=Ua.useMemo(function(){return{ref:x,style:ee.popper,placement:X?X.placement:n,hasPopperEscaped:X&&X.modifiersData.hide?X.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:X&&X.modifiersData.hide?X.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:ee.arrow,ref:R},forceUpdate:D||t_,update:j||n_}},[x,R,n,X,ee,j,D]);return Pv(h)(P)}var a_=function(){},i_=a_;const s_=mc(i_),Al=window.React;function l_(t){var e=t.children,n=t.innerRef,a=Al.useContext(jv),i=Al.useCallback(function(l){Xd(n,l),Nv(a,l)},[n,a]);return Al.useEffect(function(){return function(){return Xd(n,null)}},[]),Al.useEffect(function(){s_(!!a,"`Reference` should not be used outside of a `Manager` component.")},[a]),Pv(e)({ref:i})}function Pc(t){return t.split("-")[0]}function Hm(t){return["left","right"].indexOf(t)!==-1}function Il(t){switch(t){case"top":return"bottom";case"left":return"right";case"bottom":return"top";default:return"left"}}function Vm(t){var e=t.split("-")[1];switch(e){case"start":return"left";case"end":return"right";default:return"center"}}function c_(t,e){var n=Pc(t);if(e===void 0)return Hm(n)?"".concat(Il(n)," ").concat(Vm(n)):"".concat(Vm(n)," ").concat(Il(n));var a=15;return Hm(n)?"".concat(Il(n)," ").concat(parseInt(e.top,10)+a,"px"):"".concat(parseInt(e.left,10)+a,"px ").concat(Il(n))}const jl=window.React,u_=window.Blueprint.Core.DISPLAYNAME_PREFIX;var d_="M8.11 6.302c1.015-.936 1.887-2.922 1.887-4.297v26c0-1.378-.868-3.357-1.888-4.297L.925 17.09c-1.237-1.14-1.233-3.034 0-4.17L8.11 6.302z",f_="M8.787 7.036c1.22-1.125 2.21-3.376 2.21-5.03V0v30-2.005c0-1.654-.983-3.9-2.21-5.03l-7.183-6.616c-.81-.746-.802-1.96 0-2.7l7.183-6.614z",p_=4,uc=30,h_=22;function m_(t){if(t==null)return 0;switch(Pc(t)){case"top":return-90;case"left":return 180;case"bottom":return 90;default:return 0}}function g_(t){var e=uc/2-p_;switch(Pc(t)){case"top":return{bottom:-e};case"left":return{right:-e};case"bottom":return{top:-e};default:return{left:-e}}}var Hv=function(t){var e=t.arrowProps,n=e.ref,a=e.style,i=t.placement;return jl.createElement("div",{className:td,"data-popper-arrow":!0,ref:n,style:Dt(Dt({},a),g_(i))},jl.createElement("svg",{viewBox:"0 0 ".concat(uc," ").concat(uc),style:{transform:"rotate(".concat(m_(i),"deg)")}},jl.createElement("path",{className:td+"-border",d:d_}),jl.createElement("path",{className:td+"-fill",d:f_})))};Hv.displayName="".concat(u_,".Popover2Arrow");const Wn=window.Blueprint.Core.PopoverPosition;function y_(t){switch(t){case Wn.TOP_LEFT:return"top-start";case Wn.TOP:return"top";case Wn.TOP_RIGHT:return"top-end";case Wn.RIGHT_TOP:return"right-start";case Wn.RIGHT:return"right";case Wn.RIGHT_BOTTOM:return"right-end";case Wn.BOTTOM_RIGHT:return"bottom-end";case Wn.BOTTOM:return"bottom";case Wn.BOTTOM_LEFT:return"bottom-start";case Wn.LEFT_BOTTOM:return"left-end";case Wn.LEFT:return"left";case Wn.LEFT_TOP:return"left-start";case"auto":case"auto-start":case"auto-end":return t;default:return v_(t)}}function v_(t){throw new Error("Unexpected position: "+t)}var oa=[],b_=function(){return oa.some(function(t){return t.activeTargets.length>0})},w_=function(){return oa.some(function(t){return t.skippedTargets.length>0})},Xm="ResizeObserver loop completed with undelivered notifications.",x_=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:Xm}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=Xm),window.dispatchEvent(t)},ys;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(ys||(ys={}));var aa=function(t){return Object.freeze(t)},C_=function(){function t(e,n){this.inlineSize=e,this.blockSize=n,aa(this)}return t}(),Vv=function(){function t(e,n,a,i){return this.x=e,this.y=n,this.width=a,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,aa(this)}return t.prototype.toJSON=function(){var e=this,n=e.x,a=e.y,i=e.top,l=e.right,c=e.bottom,u=e.left,f=e.width,m=e.height;return{x:n,y:a,top:i,right:l,bottom:c,left:u,width:f,height:m}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),$f=function(t){return t instanceof SVGElement&&"getBBox"in t},Xv=function(t){if($f(t)){var e=t.getBBox(),n=e.width,a=e.height;return!n&&!a}var i=t,l=i.offsetWidth,c=i.offsetHeight;return!(l||c||t.getClientRects().length)},Wm=function(t){var e;if(t instanceof Element)return!0;var n=(e=t?.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(n&&t instanceof n.Element)},E_=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},ss=typeof window<"u"?window:{},Pl=new WeakMap,Qm=/auto|scroll/,S_=/^tb|vertical/,T_=/msie|trident/i.test(ss.navigator&&ss.navigator.userAgent),_r=function(t){return parseFloat(t||"0")},Xa=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new C_((n?e:t)||0,(n?t:e)||0)},Km=aa({devicePixelContentBoxSize:Xa(),borderBoxSize:Xa(),contentBoxSize:Xa(),contentRect:new Vv(0,0,0,0)}),Wv=function(t,e){if(e===void 0&&(e=!1),Pl.has(t)&&!e)return Pl.get(t);if(Xv(t))return Pl.set(t,Km),Km;var n=getComputedStyle(t),a=$f(t)&&t.ownerSVGElement&&t.getBBox(),i=!T_&&n.boxSizing==="border-box",l=S_.test(n.writingMode||""),c=!a&&Qm.test(n.overflowY||""),u=!a&&Qm.test(n.overflowX||""),f=a?0:_r(n.paddingTop),m=a?0:_r(n.paddingRight),h=a?0:_r(n.paddingBottom),y=a?0:_r(n.paddingLeft),v=a?0:_r(n.borderTopWidth),b=a?0:_r(n.borderRightWidth),x=a?0:_r(n.borderBottomWidth),S=a?0:_r(n.borderLeftWidth),_=y+m,R=f+h,L=S+b,U=v+x,X=u?t.offsetHeight-U-t.clientHeight:0,ee=c?t.offsetWidth-L-t.clientWidth:0,D=i?_+L:0,j=i?R+U:0,P=a?a.width:_r(n.width)-D-ee,q=a?a.height:_r(n.height)-j-X,fe=P+_+ee+L,me=q+R+X+U,ge=aa({devicePixelContentBoxSize:Xa(Math.round(P*devicePixelRatio),Math.round(q*devicePixelRatio),l),borderBoxSize:Xa(fe,me,l),contentBoxSize:Xa(P,q,l),contentRect:new Vv(y,f,P,q)});return Pl.set(t,ge),ge},Qv=function(t,e,n){var a=Wv(t,n),i=a.borderBoxSize,l=a.contentBoxSize,c=a.devicePixelContentBoxSize;switch(e){case ys.DEVICE_PIXEL_CONTENT_BOX:return c;case ys.BORDER_BOX:return i;default:return l}},__=function(){function t(e){var n=Wv(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=aa([n.borderBoxSize]),this.contentBoxSize=aa([n.contentBoxSize]),this.devicePixelContentBoxSize=aa([n.devicePixelContentBoxSize])}return t}(),Kv=function(t){if(Xv(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},k_=function(){var t=1/0,e=[];oa.forEach(function(c){if(c.activeTargets.length!==0){var u=[];c.activeTargets.forEach(function(m){var h=new __(m.target),y=Kv(m.target);u.push(h),m.lastReportedSize=Qv(m.target,m.observedBox),y<t&&(t=y)}),e.push(function(){c.callback.call(c.observer,u,c.observer)}),c.activeTargets.splice(0,c.activeTargets.length)}});for(var n=0,a=e;n<a.length;n++){var i=a[n];i()}return t},Gm=function(t){oa.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(Kv(i.target)>t?n.activeTargets.push(i):n.skippedTargets.push(i))})})},O_=function(){var t=0;for(Gm(t);b_();)t=k_(),Gm(t);return w_()&&x_(),t>0},nd,Gv=[],R_=function(){return Gv.splice(0).forEach(function(t){return t()})},A_=function(t){if(!nd){var e=0,n=document.createTextNode(""),a={characterData:!0};new MutationObserver(function(){return R_()}).observe(n,a),nd=function(){n.textContent="".concat(e?e--:e++)}}Gv.push(t),nd()},I_=function(t){A_(function(){requestAnimationFrame(t)})},Zl=0,j_=function(){return!!Zl},P_=250,N_={attributes:!0,characterData:!0,childList:!0,subtree:!0},Ym=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Zm=function(t){return t===void 0&&(t=0),Date.now()+t},rd=!1,L_=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var n=this;if(e===void 0&&(e=P_),!rd){rd=!0;var a=Zm(e);I_(function(){var i=!1;try{i=O_()}finally{if(rd=!1,e=a-Zm(),!j_())return;i?n.run(1e3):e>0?n.run(e):n.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,n=function(){return e.observer&&e.observer.observe(document.body,N_)};document.body?n():ss.addEventListener("DOMContentLoaded",n)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Ym.forEach(function(n){return ss.addEventListener(n,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Ym.forEach(function(n){return ss.removeEventListener(n,e.listener,!0)}),this.stopped=!0)},t}(),Kd=new L_,Jm=function(t){!Zl&&t>0&&Kd.start(),Zl+=t,!Zl&&Kd.stop()},D_=function(t){return!$f(t)&&!E_(t)&&getComputedStyle(t).display==="inline"},M_=function(){function t(e,n){this.target=e,this.observedBox=n||ys.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=Qv(this.target,this.observedBox,!0);return D_(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),B_=function(){function t(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n}return t}(),Nl=new WeakMap,eg=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},Ll=function(){function t(){}return t.connect=function(e,n){var a=new B_(e,n);Nl.set(e,a)},t.observe=function(e,n,a){var i=Nl.get(e),l=i.observationTargets.length===0;eg(i.observationTargets,n)<0&&(l&&oa.push(i),i.observationTargets.push(new M_(n,a&&a.box)),Jm(1),Kd.schedule())},t.unobserve=function(e,n){var a=Nl.get(e),i=eg(a.observationTargets,n),l=a.observationTargets.length===1;i>=0&&(l&&oa.splice(oa.indexOf(a),1),a.observationTargets.splice(i,1),Jm(-1))},t.disconnect=function(e){var n=this,a=Nl.get(e);a.observationTargets.slice().forEach(function(i){return n.unobserve(e,i.target)}),a.activeTargets.splice(0,a.activeTargets.length)},t}(),z_=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Ll.connect(this,e)}return t.prototype.observe=function(e,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Wm(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Ll.observe(this,e,n)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Wm(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Ll.unobserve(this,e)},t.prototype.disconnect=function(){Ll.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();const od=window.React,$_=window.Blueprint.Core.AbstractPureComponent2,F_=window.Blueprint.Core.DISPLAYNAME_PREFIX;var tg=function(t){jf(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.targetRef=od.createRef(),n.prevElement=void 0,n.observer=new z_(function(a){var i,l;return(l=(i=n.props).onResize)===null||l===void 0?void 0:l.call(i,a)}),n}return e.prototype.render=function(){var n=od.Children.only(this.props.children);return this.props.targetRef!==void 0?n:od.cloneElement(n,{ref:this.targetRef})},e.prototype.componentDidMount=function(){this.observeElement()},e.prototype.componentDidUpdate=function(n){this.observeElement(this.props.observeParents!==n.observeParents)},e.prototype.componentWillUnmount=function(){this.observer.disconnect()},e.prototype.observeElement=function(n){if(n===void 0&&(n=!1),!(this.targetRef.current instanceof Element)){this.observer.disconnect();return}if(!(this.targetRef.current===this.prevElement&&!n)&&(this.observer.disconnect(),this.prevElement=this.targetRef.current,this.observer.observe(this.targetRef.current),this.props.observeParents))for(var a=this.targetRef.current.parentElement;a!=null;)this.observer.observe(a),a=a.parentElement},e.displayName="".concat(F_,".ResizeSensor2"),e}($_);const Jl=window.React;var U_=function(){return null},Ff=Jl.createContext([{},U_]),q_=function(t,e){switch(e.type){case"FORCE_DISABLED_STATE":return{forceDisabled:!0};case"RESET_DISABLED_STATE":return{};default:return t}},Yv=function(t){var e=t.children,n=t.forceDisable,a=Jl.useReducer(q_,{}),i=a[0],l=a[1];return Jl.useEffect(function(){l(n?{type:"FORCE_DISABLED_STATE"}:{type:"RESET_DISABLED_STATE"})},[n]),Jl.createElement(Ff.Provider,{value:[i,l]},typeof e=="function"?e(i):e)};const Dl=window.React,ng=window.Blueprint.Core.Classes,H_=window.Blueprint.Core.DISPLAYNAME_PREFIX;var Zv=function(t){jf(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.popover=null,n.renderPopover=function(a){var i,l,c=n.props,u=c.children,f=c.disabled,m=c.intent,h=c.popoverClassName,y=Rv(c,["children","disabled","intent","popoverClassName"]),v=Va(RS,(i={},i[ng.MINIMAL]=n.props.minimal,i),ng.intentClass(m),h);return Dl.createElement(ci,Dt({interactionKind:kr.HOVER_TARGET_ONLY,modifiers:{arrow:{enabled:!n.props.minimal},offset:{options:{offset:[0,h_/2]}}}},y,{autoFocus:!1,canEscapeKeyClose:!1,disabled:(l=a.forceDisabled)!==null&&l!==void 0?l:f,enforceFocus:!1,lazy:!0,popoverClassName:v,portalContainer:n.props.portalContainer,ref:function(b){return n.popover=b}}),u)},n}return e.prototype.render=function(){var n=this;return Dl.createElement(Ff.Consumer,null,function(a){var i=a[0];return Dl.createElement(Yv,Dt({},i),n.renderPopover)})},e.prototype.reposition=function(){this.popover!=null&&this.popover.reposition()},e.displayName="".concat(H_,".Tooltip2"),e.defaultProps={hoverCloseDelay:0,hoverOpenDelay:100,minimal:!1,transitionDuration:100},e}(Dl.PureComponent);const _n=window.React,V_=window.Blueprint.Core.AbstractPureComponent2,Qn=window.Blueprint.Core.Classes,X_=window.Blueprint.Core.DISPLAYNAME_PREFIX,rg=window.Blueprint.Core.Keys,W_=window.Blueprint.Core.refHandler,Q_=window.Blueprint.Core.mergeRefs,K_=window.Blueprint.Core.Overlay,Ml=window.Blueprint.Core.Utils;var kr={CLICK:"click",CLICK_TARGET_ONLY:"click-target",HOVER:"hover",HOVER_TARGET_ONLY:"hover-target"},ci=function(t){jf(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={hasDarkParent:!1,isOpen:n.getIsOpen(n.props)},n.popoverElement=null,n.targetElement=null,n.popoverRef=W_(n,"popoverElement",n.props.popoverRef),n.targetRef=function(a){return n.targetElement=a},n.isMouseInTargetOrPopover=!1,n.lostFocusOnSamePage=!0,n.isControlled=function(){return n.props.isOpen!==void 0},n.isArrowEnabled=function(){var a,i;return!n.props.minimal&&((i=(a=n.props.modifiers)===null||a===void 0?void 0:a.arrow)===null||i===void 0?void 0:i.enabled)!==!1},n.isHoverInteractionKind=function(){return n.props.interactionKind===kr.HOVER||n.props.interactionKind===kr.HOVER_TARGET_ONLY},n.reposition=function(){var a;return(a=n.popperScheduleUpdate)===null||a===void 0?void 0:a.call(n)},n.renderTarget=function(a){var i,l,c,u=a.ref,f=n.props,m=f.children,h=f.className,y=f.fill,v=f.openOnTargetFocus,b=f.renderTarget,x=n.state.isOpen,S=n.isControlled(),_=n.isHoverInteractionKind(),R=n.props.targetTagName;y&&(R="div");var L=Q_(u,n.targetRef),U=_?{onBlur:n.handleTargetBlur,onContextMenu:n.handleTargetContextMenu,onFocus:n.handleTargetFocus,onMouseEnter:n.handleMouseEnter,onMouseLeave:n.handleMouseLeave}:{onClick:n.handleTargetClick,onKeyDown:function(me){return rg.isKeyboardClick(me.keyCode)&&n.handleTargetClick(me)}},X=v&&_?0:void 0,ee=Dt({"aria-haspopup":"true",className:Va(h,kS,(i={},i[SS]=x,i[Qn.ACTIVE]=!S&&x&&!_,i)),ref:L},U),D;if(b!==void 0)D=b(Dt(Dt({},ee),{isOpen:x,tabIndex:X}));else{var j=Ml.ensureElement(_n.Children.toArray(m)[0]);if(j===void 0)return null;var P=(l={},l[Qn.ACTIVE]=x&&!S&&!_,l[Qn.FILL]=y,l),q=_n.cloneElement(j,{className:Va(j.props.className,P),disabled:x&&Ml.isElementOfType(j,Zv)?!0:j.props.disabled,tabIndex:(c=j.props.tabIndex)!==null&&c!==void 0?c:X}),fe=_n.createElement(R,ee,q);D=fe}return _n.createElement(tg,{targetRef:L,onResize:n.reposition},D)},n.renderPopover=function(a){var i,l,c=n.props,u=c.interactionKind,f=c.shouldReturnFocusOnClose,m=c.usePortal,h=n.state.isOpen,y=c_(a.placement,n.isArrowEnabled()?a.arrowProps.style:void 0);n.popperScheduleUpdate=a.update;var v={onClick:n.handlePopoverClick,onKeyDown:function(_){return rg.isKeyboardClick(_.keyCode)&&n.handlePopoverClick(_)}};(u===kr.HOVER||!m&&u===kr.HOVER_TARGET_ONLY)&&(v.onMouseEnter=n.handleMouseEnter,v.onMouseLeave=n.handleMouseLeave);var b=Pc(a.placement),x=Va(bn,(i={},i[Qn.DARK]=n.props.inheritDarkTheme&&n.state.hasDarkParent,i[Qn.MINIMAL]=n.props.minimal,i[Im]=n.props.captureDismiss,i[_S]=a.isReferenceHidden===!0,i[TS]=a.hasPopperEscaped===!0,i),"".concat(CS,"-").concat(b),n.props.popoverClassName),S=n.isHoverInteractionKind()?!1:void 0;return _n.createElement(K_,{autoFocus:(l=n.props.autoFocus)!==null&&l!==void 0?l:S,backdropClassName:wS,backdropProps:n.props.backdropProps,canEscapeKeyClose:n.props.canEscapeKeyClose,canOutsideClickClose:n.props.interactionKind===kr.CLICK,enforceFocus:n.props.enforceFocus,hasBackdrop:n.props.hasBackdrop,isOpen:h,onClose:n.handleOverlayClose,onClosed:n.props.onClosed,onClosing:n.props.onClosing,onOpened:n.props.onOpened,onOpening:n.props.onOpening,transitionDuration:n.props.transitionDuration,transitionName:bn,usePortal:n.props.usePortal,portalClassName:n.props.portalClassName,portalContainer:n.props.portalContainer,shouldReturnFocusOnClose:n.isHoverInteractionKind()?!1:f},_n.createElement("div",{className:OS,ref:a.ref,style:a.style},_n.createElement(tg,{onResize:n.reposition},_n.createElement("div",Dt({className:x,style:{transformOrigin:y},ref:n.popoverRef},v),n.isArrowEnabled()&&_n.createElement(Hv,{arrowProps:a.arrowProps,placement:a.placement}),_n.createElement("div",{className:xS},n.props.content)))))},n.handleTargetFocus=function(a){if(n.props.openOnTargetFocus&&n.isHoverInteractionKind()){if(a.relatedTarget==null&&!n.lostFocusOnSamePage)return;n.handleMouseEnter(a)}},n.handleTargetBlur=function(a){n.props.openOnTargetFocus&&n.isHoverInteractionKind()&&(a.relatedTarget!=null?a.relatedTarget!==n.popoverElement&&!n.isElementInPopover(a.relatedTarget)&&n.handleMouseLeave(a):n.handleMouseLeave(a)),n.lostFocusOnSamePage=a.relatedTarget!=null},n.handleTargetContextMenu=function(a){a.defaultPrevented&&n.setOpenState(!1,a)},n.handleMouseEnter=function(a){n.isMouseInTargetOrPopover=!0,!n.props.usePortal&&n.isElementInPopover(a.target)&&n.props.interactionKind===kr.HOVER_TARGET_ONLY&&!n.props.openOnTargetFocus?n.handleMouseLeave(a):n.props.disabled||n.setOpenState(!0,a,n.props.hoverOpenDelay)},n.handleMouseLeave=function(a){n.isMouseInTargetOrPopover=!1,n.setTimeout(function(){n.isMouseInTargetOrPopover||n.setOpenState(!1,a,n.props.hoverCloseDelay)})},n.handlePopoverClick=function(a){var i,l,c,u,f=a.target,m=f.closest(".".concat(bn)),h=f.closest(".".concat(Qn.POPOVER)),y=(m??h)===n.getPopoverElement(),v=(l=(i=m?.classList.contains(Im))!==null&&i!==void 0?i:h?.classList.contains(Qn.POPOVER_CAPTURING_DISMISS))!==null&&l!==void 0?l:!1,b=f.closest(".".concat(Hd,", .").concat(ES)),x=f.closest(".".concat(Qn.POPOVER_DISMISS,", .").concat(Qn.POPOVER_DISMISS_OVERRIDE)),S=(u=(c=b?.classList.contains(Hd))!==null&&c!==void 0?c:x?.classList.contains(Qn.POPOVER_DISMISS))!==null&&u!==void 0?u:!1,_=f.closest(":disabled, .".concat(Qn.DISABLED))!=null;S&&!_&&(!v||y)&&n.setOpenState(!1,a)},n.handleOverlayClose=function(a){if(!(n.targetElement===null||a===void 0)){var i=a.target;(!Ml.elementIsOrContains(n.targetElement,i)||a.nativeEvent instanceof KeyboardEvent)&&n.setOpenState(!1,a)}},n.handleTargetClick=function(a){!n.props.disabled&&!n.isElementInPopover(a.target)&&(n.props.isOpen==null?n.setState(function(i){return{isOpen:!i.isOpen}}):n.setOpenState(!n.props.isOpen,a))},n}return e.prototype.getPopoverElement=function(){var n;return(n=this.popoverElement)===null||n===void 0?void 0:n.querySelector(".".concat(bn))},e.prototype.getIsOpen=function(n){var a;return n.disabled?!1:(a=n.isOpen)!==null&&a!==void 0?a:n.defaultIsOpen},e.prototype.render=function(){var n=this.props,a=n.disabled,i=n.content,l=n.placement,c=n.position,u=c===void 0?"auto":c,f=n.positioningStrategy,m=this.state.isOpen,h=i==null||typeof i=="string"&&i.trim()==="";return h?(!a&&m!==!1&&!Ml.isNodeEnv("production")&&console.warn(NS),this.renderTarget({ref:G_})):_n.createElement(zS,null,_n.createElement(l_,null,this.renderTarget),_n.createElement(o_,{innerRef:this.popoverRef,placement:l??y_(u),strategy:f,modifiers:this.getPopperModifiers()},this.renderPopover))},e.prototype.componentDidMount=function(){this.updateDarkParent()},e.prototype.componentDidUpdate=function(n,a){t.prototype.componentDidUpdate.call(this,n,a),this.updateDarkParent();var i=this.getIsOpen(this.props);this.props.isOpen!=null&&i!==this.state.isOpen?(this.setOpenState(i),this.setState({isOpen:i})):this.props.disabled&&this.state.isOpen&&this.props.isOpen==null&&this.setOpenState(!1)},e.prototype.validateProps=function(n){n.isOpen==null&&n.onInteraction!=null&&console.warn(MS),n.hasBackdrop&&!n.usePortal&&console.warn(LS),n.hasBackdrop&&n.interactionKind!==kr.CLICK&&console.warn(IS),n.placement!==void 0&&n.position!==void 0&&console.warn(DS);var a=_n.Children.count(n.children),i=n.renderTarget!==void 0;a===0&&!i&&console.warn(AS),a>1&&console.warn(jS),a>0&&i&&console.warn(PS)},e.prototype.getPopperModifiers=function(){var n,a,i,l,c=this.props.modifiers;return[Dt({enabled:this.isArrowEnabled(),name:"arrow"},c?.arrow),Dt(Dt({name:"computeStyles"},c?.computeStyles),{options:Dt({adaptive:!0,gpuAcceleration:!1},(n=c?.computeStyles)===null||n===void 0?void 0:n.options)}),Dt(Dt({enabled:this.isArrowEnabled(),name:"offset"},c?.offset),{options:Dt({offset:[0,uc/2]},(a=c?.offset)===null||a===void 0?void 0:a.options)}),Dt(Dt({name:"flip"},c?.flip),{options:Dt({boundary:this.props.boundary,rootBoundary:this.props.rootBoundary},(i=c?.flip)===null||i===void 0?void 0:i.options)}),Dt(Dt({name:"preventOverflow"},c?.preventOverflow),{options:Dt({boundary:this.props.boundary,rootBoundary:this.props.rootBoundary},(l=c?.preventOverflow)===null||l===void 0?void 0:l.options)})]},e.prototype.setOpenState=function(n,a,i){var l=this,c,u,f,m,h;(c=this.cancelOpenTimeout)===null||c===void 0||c.call(this),i!==void 0&&i>0?this.cancelOpenTimeout=this.setTimeout(function(){return l.setOpenState(n,a)},i):(this.props.isOpen==null?this.setState({isOpen:n}):(f=(u=this.props).onInteraction)===null||f===void 0||f.call(u,n,a),n||(h=(m=this.props).onClose)===null||h===void 0||h.call(m,a))},e.prototype.updateDarkParent=function(){if(this.props.usePortal&&this.state.isOpen){var n=this.targetElement!=null&&this.targetElement.closest(".".concat(Qn.DARK))!=null;this.setState({hasDarkParent:n})}},e.prototype.isElementInPopover=function(n){var a,i;return(i=(a=this.getPopoverElement())===null||a===void 0?void 0:a.contains(n))!==null&&i!==void 0?i:!1},e.displayName="".concat(X_,".Popover2"),e.defaultProps={boundary:"clippingParents",captureDismiss:!1,defaultIsOpen:!1,disabled:!1,fill:!1,hasBackdrop:!1,hoverCloseDelay:300,hoverOpenDelay:150,inheritDarkTheme:!0,interactionKind:kr.CLICK,minimal:!1,openOnTargetFocus:!0,positioningStrategy:"absolute",renderTarget:void 0,shouldReturnFocusOnClose:!1,targetTagName:"span",transitionDuration:300,usePortal:!0},e}(V_);function G_(){}const Xt=window.React,Y_=window.Blueprint.Core.Classes,Z_=window.Blueprint.Core.Portal,Bl=window.Blueprint.Core.Utils,J_=window.Blueprint.Core.mergeRefs;var Jv=Xt.forwardRef(function(t,e){var n,a,i=t.className,l=t.children,c=t.content,u=t.disabled,f=u===void 0?!1:u,m=t.onContextMenu,h=t.popoverProps,y=t.tagName,v=y===void 0?"div":y,b=Rv(t,["className","children","content","disabled","onContextMenu","popoverProps","tagName"]),x=Xt.useContext(Ff),S=x[1],_=Xt.useState(void 0),R=_[0],L=_[1],U=Xt.useState(),X=U[0],ee=U[1],D=Xt.useState(!1),j=D[0],P=D[1],q=Xt.useRef(null);Xt.useEffect(function(){P(!1),S({type:"RESET_DISABLED_STATE"})},[f]);var fe=Xt.useCallback(function(Le){return Le.preventDefault()},[]),me=Xt.useCallback(function(Le){Le||(P(!1),ee(void 0),S({type:"RESET_DISABLED_STATE"}))},[]),ge=Xt.useCallback(function(Le){var Je=Le.ref;return Xt.createElement(Z_,null,Xt.createElement("div",{className:yS,style:R,ref:Je}))},[R]),ye=Xt.useMemo(function(){return Bl.isDarkTheme(q.current)},[q,j]),Y={isOpen:j,mouseEvent:X,targetOffset:R},be=f?void 0:Bl.isFunction(c)?c(Y):c,se=be===void 0?void 0:Xt.createElement(ci,Dt({},h,{content:Xt.createElement("div",{onContextMenu:fe},be),enforceFocus:!1,key:ek(R),hasBackdrop:!0,backdropProps:{className:bS},isOpen:j,minimal:!0,onInteraction:me,popoverClassName:Va(vS,h?.popoverClassName,(n={},n[Y_.DARK]=ye,n)),placement:"right-start",positioningStrategy:"fixed",rootBoundary:"viewport",renderTarget:ge,transitionDuration:(a=h?.transitionDuration)!==null&&a!==void 0?a:100})),we=Xt.useCallback(function(Le){if(!Le.defaultPrevented){var Je=!f&&(Bl.isFunction(l)||se!==void 0);Je&&(Le.preventDefault(),Le.persist(),ee(Le),L({left:Le.clientX,top:Le.clientY}),P(!0),S({type:"FORCE_DISABLED_STATE"})),m?.(Le)}},[m,f]),ze=Va(i,Ic),Ke=Bl.isFunction(l)?l({className:ze,contentProps:Y,onContextMenu:we,popover:se,ref:q}):Xt.createElement(Xt.Fragment,null,se,Xt.createElement(v,Dt({className:ze,onContextMenu:we,ref:J_(q,e)},b),l));return Xt.createElement(Yv,{forceDisable:j},Ke)});Jv.displayName="Blueprint.ContextMenu2";function ek(t){return t===void 0?"default":"".concat(t.left,"x").concat(t.top)}const tk=window.React.memo,es=window.React.useCallback,zl=window.React.useMemo,nk=window.Blueprint.Core.Button,rk=window.Blueprint.Core.Intent,og=window.Blueprint.Core.Menu,ad=window.Blueprint.Core.MenuDivider,Jo=window.Blueprint.Core.MenuItem,ok={autoFocus:!0,boundary:"window",className:"zr-library-item-popover",interactionKind:kr.HOVER,lazy:!0,placement:"right-start",popoverClassName:W.POPOVER},Is=tk(function(e){const{closeDialog:n,inGraph:a,item:i,notes:l=[],pdfs:c=[]}=e,[u]=ks(),[f]=_c(),[m]=si(),[h]=li(),[,y]=Do(),v=es(()=>{n&&n()},[n]),b=zl(()=>a?{className:W.TEXT_SMALL,onClick:()=>qd(a)}:{className:[W.TEXT_SMALL,W.TEXT_AUXILIARY].join(" ")},[a]),x=zl(()=>d.jsxs(d.Fragment,{children:[d.jsx(Jo,{icon:"application",text:"Open in Zotero (app)",href:Es(i,{format:"target"}),target:"_blank"}),d.jsx(Jo,{icon:"cloud",text:"Open in Zotero (web)",href:Ss(i,{format:"target"}),target:"_blank"})]}),[i]),S=es(async()=>{const ee=await kc({item:i,pdfs:c,notes:l},a,f,h,m,u);return ee.success&&ee.page.new&&y(),ee},[u,a,i,f,c,l,m,h,y]),_=es(async()=>{const{success:ee,args:{uid:D}}=await S();ee&&_m(D)},[S]),R=es(()=>{a!=!1&&(qd(a),v())},[v,a]),L=es(()=>{a!=!1&&_m(a)},[a]),U=zl(()=>{if(c.length>0){const ee=i.library.type=="group"?"groups/"+i.library.id:"library";return d.jsxs(d.Fragment,{children:[d.jsx(ad,{title:"PDF Attachments"}),c.map((D,j)=>{const P=["linked_file","imported_file","imported_url"].includes(D.data.linkMode)?`zotero://open-pdf/${ee}/items/${D.data.key}`:D.data.url;return d.jsx(Jo,{href:P,icon:"paperclip",rel:"noreferrer",target:"_blank",text:D.data.filename||D.data.title},j)})]})}else return null},[i.library,c]),X=zl(()=>a?d.jsxs(og,{className:W.TEXT_SMALL,children:[d.jsx(Jo,{icon:"arrow-right",text:"Go to Roam page",onClick:R}),d.jsx(Jo,{icon:"inheritance",text:"Open in sidebar",onClick:L}),d.jsx(ad,{}),x,U]}):d.jsxs(og,{className:W.TEXT_SMALL,children:[d.jsx(Jo,{icon:"add",text:"Import metadata",onClick:S}),d.jsx(Jo,{icon:"inheritance",text:"Import & open in sidebar",onClick:_}),d.jsx(ad,{}),x,U]}),[S,_,a,R,L,U,x]);return d.jsx(ci,{...ok,content:X,children:d.jsx(nk,{intent:a!=!1?rk.SUCCESS:void 0,minimal:!0,rightIcon:"chevron-right",small:!0,text:"@"+i.key,...b})})});const ak=window.Blueprint.Core.Button,ik=window.Blueprint.Core.Classes,sk=window.Blueprint.Core.Drawer,lk=window.Blueprint.Core.Tab,ag=window.Blueprint.Core.Tabs;function ck({item:t}){return d.jsx("pre",{className:[ik.CODE_BLOCK,W.TEXT_AUXILIARY].join(" "),children:JSON.stringify(t,null,"  ")})}function Uf({item:t,isOpen:e,onClose:n}){return d.jsx(sk,{canEscapeKeyClose:!1,canOutsideClickClose:!0,className:W.PREFIX_DRAWER+"data",isOpen:e,lazy:!1,onClose:n,size:"40%",children:d.jsx(Mn,{children:d.jsxs(ag,{animate:!1,className:W.TABS_MINIMAL,id:"zr-drawer--data",children:[d.jsx(lk,{id:"item",panel:d.jsx(ck,{item:t}),title:"Item"}),d.jsx(ag.Expander,{}),d.jsx(ak,{icon:"cross",minimal:!0,onClick:n})]})})})}const uk=window.React.memo,dc=window.React.useMemo,eb=window.Blueprint.Core.Button,tb=window.Blueprint.Core.ButtonGroup,Gd=window.Blueprint.Core.Classes,dk=window.Blueprint.Core.Dialog,fk=window.Blueprint.Core.Drawer,pk=window.Blueprint.Core.Icon,ig=window.Blueprint.Core.Tab,sg=window.Blueprint.Core.Tabs,nb=window.Blueprint.Core.Tag;function rb({item:t}){const[e,{on:n,off:a}]=Pt(!1);return d.jsxs(d.Fragment,{children:[d.jsx(eb,{icon:"eye-open",minimal:!0,onClick:n}),d.jsx(dk,{canEscapeKeyClose:!1,className:"zr-raw-item-dialog",isOpen:e,lazy:!0,onClose:a,children:d.jsx("div",{className:Gd.DIALOG_BODY,children:d.jsx("pre",{className:[Gd.CODE_BLOCK,W.TEXT_AUXILIARY].join(" "),children:JSON.stringify(t,null,"  ")})})})]})}function hk({annot:t}){const{color:e,comment:n,date_modified:a,link_page:i,link_pdf:l,page_label:c,raw:u,tags:f,text:m,type:h}=t,y=dc(()=>({backgroundImage:`linear-gradient(120deg, ${e}50 0%, ${e}50 100%)`}),[e]);return d.jsxs("div",{className:[W.PREFIX_DRAWER+"notes-card",W.TEXT_SMALL].join(" "),children:[d.jsxs("div",{"zr-role":"card-header",children:[d.jsx("span",{children:f.map((v,b)=>d.jsx(nb,{minimal:!0,children:v},b))}),d.jsxs(tb,{minimal:!0,children:[d.jsx(rb,{item:u}),d.jsx(Or,{className:W.TEXT_SMALL,href:l,icon:"paperclip",children:"PDF"}),d.jsxs(Or,{className:W.TEXT_SMALL,href:i,children:["Page ",c]})]})]}),d.jsxs("div",{className:"zr-annotation--highlight",children:[m&&d.jsx("span",{style:y,children:m}),h=="image"&&d.jsx("code",{className:Gd.CODE,children:"Images are currently not supported"})]}),n&&d.jsxs("div",{className:"zr-annotation--comment",children:[d.jsx(pk,{icon:"nest",intent:"primary",size:14}),n]}),d.jsx("div",{"zr-role":"card-footer",children:d.jsx("span",{className:W.TEXT_SECONDARY,children:kf(a)})})]})}function mk({note:t}){const{date_modified:e,link_note:n,raw:a,tags:i}=t,[l]=si(),c=dc(()=>uv([a],l),[l,a]);return d.jsxs("div",{className:[W.PREFIX_DRAWER+"notes-card",W.TEXT_SMALL].join(" "),children:[d.jsxs("div",{"zr-role":"card-header",children:[d.jsx("span",{children:i.map((u,f)=>d.jsx(nb,{minimal:!0,children:u},f))}),d.jsxs(tb,{minimal:!0,children:[d.jsx(rb,{item:a}),d.jsx(Or,{className:W.TEXT_SMALL,href:n,icon:"comment",children:"View in Zotero"})]})]}),c.map((u,f)=>d.jsx("div",{className:"zr-note--contents",children:u},f)),d.jsx("div",{"zr-role":"card-footer",children:d.jsx("span",{className:W.TEXT_SECONDARY,children:kf(e)})})]})}function gk({annots:t}){const e=Tc(t).sort((n,a)=>Sf(n.sortIndex,a.sortIndex));return d.jsx(d.Fragment,{children:e.map(n=>d.jsx(hk,{annot:n},n.key))})}function yk({notes:t}){const e=PC(t);return d.jsx(d.Fragment,{children:e.map(n=>d.jsx(mk,{note:n},n.key))})}const Nc=uk(function(e){const{isOpen:n,notes:a,onClose:i}=e,l=dc(()=>a.filter(Ec),[a]),c=dc(()=>a.filter(Sc),[a]);return d.jsx(fk,{canEscapeKeyClose:!1,canOutsideClickClose:!0,className:W.PREFIX_DRAWER+"notes",isOpen:n,lazy:!1,onClose:i,size:"40%",children:d.jsx(Mn,{children:d.jsxs(sg,{animate:!1,className:W.TABS_MINIMAL,id:"zr-drawer--notes",children:[l.length>0&&d.jsx(ig,{id:"annotations",panel:d.jsx(gk,{annots:l}),title:"Annotations"}),c.length>0&&d.jsx(ig,{id:"notes",panel:d.jsx(yk,{notes:c}),title:"Notes"}),d.jsx(sg.Expander,{}),d.jsx(eb,{icon:"cross",minimal:!0,onClick:i})]})})})}),lg=window.Blueprint.Core.Button;function vk({item:t,onClose:e}){const{children:n,inGraph:a,itemType:i,meta:l,publication:c,raw:u,title:f}=t,[m,{on:h,off:y}]=Pt(!1),[v,{on:b,off:x}]=Pt(!1);return d.jsxs(d.Fragment,{children:[d.jsx(No,{className:"zr-query--result",children:d.jsxs("div",{"zr-role":"item-header",children:[d.jsxs("div",{"zr-role":"item-details",children:[d.jsx("span",{className:W.TEXT_AUXILIARY,"data-item-type":i,"zr-role":"item-title",children:f}),d.jsx("span",{className:W.TEXT_ACCENT_1,children:l}),d.jsx("span",{className:W.TEXT_SECONDARY,children:c}),d.jsx(lg,{icon:"eye-open",minimal:!0,onClick:h,title:"Show the item's raw metadata"}),n.notes.length>0?d.jsx(lg,{className:W.TEXT_SMALL,icon:"duplicate",minimal:!0,text:fn(n.notes.length,"linked note"),onClick:b,title:"Show the item's linked notes"}):null]}),d.jsx(Is,{closeDialog:e,inGraph:a,item:u,notes:n.notes,pdfs:n.pdfs})]})}),d.jsx(Uf,{item:u,isOpen:m,onClose:y}),n.notes.length>0&&d.jsx(Nc,{notes:n.notes,isOpen:v,onClose:x})]})}var Jt=(t=>(t.DATE="date",t.DATE_RANGE="date-range",t.ITEM_TAGS="tags",t.ITEM_TYPE="item-type",t.SELECT="select",t.TEXT="text",t))(Jt||{});const cg=window.React.useCallback,bk=window.React.useMemo;function wk({value:t,setValue:e}){const[n]=li(),a=bk(()=>Object.keys(n).map(i=>({value:i,label:n[i]})),[n]);return d.jsx(jE,{options:a,value:t,setValue:e})}function xk({value:t,setValue:e}){const n=cg(i=>e([...t,i]),[e,t]),a=cg(i=>e(t.filter(l=>l!=i)),[e,t]);return d.jsx(kv,{onRemove:a,onSelect:n,selectedTags:t})}function Ck({inputType:t,...e}){switch(t){case Jt.ITEM_TYPE:return d.jsx(wk,{...e});case Jt.ITEM_TAGS:return d.jsx(xk,{...e});case Jt.DATE:return d.jsx(TE,{...e});case Jt.DATE_RANGE:return d.jsx(_E,{...e});case Jt.TEXT:return d.jsx(LE,{...e});case null:default:return null}}const qf={property:"Citekey",relationship:"exists",value:null},ea={Abstract:{contains:{checkInput:t=>t?.constructor===String,defaultInput:"",inputType:Jt.TEXT,testItem:(t,e="")=>t.abstract?Ln(e,t.abstract):!1},"does not contain":{checkInput:t=>t?.constructor===String,defaultInput:"",inputType:Jt.TEXT,testItem:(t,e="")=>t.abstract?e?!Ln(e,t.abstract):!0:!1},"does not exist":{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>!t.abstract},exists:{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>!!t.abstract}},Citekey:{exists:{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>!!t.raw.has_citekey},"does not exist":{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>!t.raw.has_citekey}},DOI:{exists:{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>!!t.raw.data.DOI},"does not exist":{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>!t.raw.data.DOI}},"Item added":{before:{checkInput:t=>t instanceof Date,defaultInput:new Date,inputType:Jt.DATE,stringify:t=>Ar(t,{brackets:!1}),testItem:(t,e)=>{if(e==null)return!0;{const n=e;return n.setHours(0,0,0),new Date(t.raw.data.dateAdded)<n}}},after:{checkInput:t=>t instanceof Date,defaultInput:new Date,inputType:Jt.DATE,stringify:t=>Ar(t,{brackets:!1}),testItem:(t,e)=>{if(e==null)return!0;{const n=e;return n.setHours(0,0,0),new Date(t.raw.data.dateAdded)>n}}},between:{checkInput:t=>t?.constructor===Array&&t.length==2&&t.every(e=>e==null||e?.constructor===Date),defaultInput:[null,null],inputType:Jt.DATE_RANGE,stringify:t=>t.map(e=>e?Ar(e,{brackets:!1}):"...").join("-"),testItem:(t,e)=>{const[n,a]=e;let i,l;if(n==null)i=!0;else{const c=n;c.setHours(0,0,0),i=new Date(t.raw.data.dateAdded)>c}if(a==null)l=!0;else{const c=a;c.setHours(0,0,0),l=new Date(t.raw.data.dateAdded)<c}return i&&l}}},"Item type":{"is any of":{checkInput:t=>t?.constructor===Array&&t.length>0&&t.every(e=>e?.constructor===String),defaultInput:[],inputType:Jt.ITEM_TYPE,stringify:t=>t.join(", "),testItem:(t,e)=>e.includes(t.itemType)},"is not":{checkInput:t=>t?.constructor===Array&&t.length>0&&t.every(e=>e?.constructor===String),defaultInput:[],inputType:Jt.ITEM_TYPE,stringify:t=>t.join(", "),testItem:(t,e)=>!e.includes(t.itemType)}},Notes:{exist:{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>t.children.notes.length>0},"do not exist":{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>t.children.notes.length==0}},PDF:{exists:{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>t.children.pdfs.length>0},"does not exist":{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>t.children.pdfs.length==0}},"Roam page":{exists:{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>!!t.inGraph},"does not exist":{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>t.inGraph==!1}},Tags:{include:{checkInput:t=>t?.constructor===Array&&(t.length==0||t.every(e=>e?.constructor===String)),defaultInput:[],inputType:Jt.ITEM_TAGS,stringify:t=>t.join(", "),testItem:(t,e=[])=>t.tags.length==0||e.length==0?!1:e.every(n=>Ln(n,t.tags,{match:"exact"}))},"include any of":{checkInput:t=>t?.constructor===Array&&(t.length==0||t.every(e=>e?.constructor===String)),defaultInput:[],inputType:Jt.ITEM_TAGS,stringify:t=>t.join(", "),testItem:(t,e=[])=>t.tags.length==0||e.length==0?!1:e.some(n=>Ln(n,t.tags,{match:"exact"}))},"do not include":{checkInput:t=>t?.constructor===Array&&(t.length==0||t.every(e=>e?.constructor===String)),defaultInput:[],inputType:Jt.ITEM_TAGS,stringify:t=>t.join(", "),testItem:(t,e)=>t.tags.length==0||e.length==0?!0:e.every(n=>!Ln(n,t.tags,{match:"exact"}))}},Title:{contains:{checkInput:t=>t?.constructor===String,defaultInput:"",inputType:Jt.TEXT,testItem:(t,e="")=>Ln(e,t.title)},"does not contain":{checkInput:t=>t?.constructor===String,defaultInput:"",inputType:Jt.TEXT,testItem:(t,e)=>!Ln(e,t.title)}}};function ug(t,e=!1,n){if(Array.isArray(t))return ob(t,e,n);if(typeof t=="object"){const{property:a,relationship:i,value:l}=t;if(!a||!i)return!0;{const c=ea[a][i];return c.inputType===null?c.testItem(n):c.testItem(n,l)}}else throw new Error(`Unexpected query input of type ${typeof t}, expected Array or Object`)}function ob(t=[],e=!0,n){return t.length==0?!0:e?t.some(a=>ug(a,!e,n)):t.every(a=>ug(a,!e,n))}function Hf(t,e){return Array.isArray(t)?lv(t,e):[t,e]}const qa=window.React.useCallback,$l=window.Blueprint.Core.Button,Ek=window.Blueprint.Core.Intent,Sk=window.Blueprint.Core.MenuItem,dg=window.Blueprint.Select.Select,ab={minimal:!0,placement:"bottom",popoverClassName:W.POPOVER},Tk={...ab,targetProps:{title:"Select a property to query"}},_k={...ab,targetProps:{title:"Select a relationship to test for the property"}};function fg(t,e){const{handleClick:n}=e;return d.jsx(Sk,{onClick:n,text:t},t)}function kk({dispatch:t,isFirstChild:e,isOnlyChild:n,term:a,useOR:i=!1}){const{property:l,relationship:c,value:u=""}=a,f=qa(()=>{t({type:"updateSelf",value:Hf(a,qf)})},[t,a]),m=qa(()=>t({type:"removeSelf"}),[t]),h=qa(x=>{t({type:"updateSelf",value:{...a,...x}})},[t,a]),y=qa(x=>{const S={property:x},_=ea[x];if(c in _||(S.relationship=Object.keys(_)[0]),S.relationship){const R=_[S.relationship];R.checkInput(u)||(S.value=R.defaultInput)}h(S)},[h,c,u]),v=qa(x=>{const S={relationship:x},_=ea[l][x];_.checkInput(u)||(S.value=_.defaultInput),h(S)},[h,l,u]),b=qa(x=>h({value:x}),[h]);return d.jsxs("div",{className:"zr-query-entry",children:[!e&&d.jsx("span",{"zr-role":"query-entry-operator",children:i?"AND":"OR"}),d.jsxs("div",{children:[d.jsx(dg,{filterable:!1,itemRenderer:fg,items:Object.keys(ea),onItemSelect:y,popoverProps:Tk,children:d.jsx($l,{minimal:!0,rightIcon:"caret-down",text:l})}),d.jsx(dg,{filterable:!1,itemRenderer:fg,items:Object.keys(ea[l]),onItemSelect:v,popoverProps:_k,children:d.jsx($l,{minimal:!0,rightIcon:"caret-down",text:c})}),d.jsx(Ck,{inputType:ea[l][c].inputType,value:u,setValue:b})]}),n?null:d.jsxs("div",{children:[d.jsx($l,{className:["zr-query-entry--add-sibling",W.TEXT_SMALL].join(" "),icon:"small-plus",minimal:!0,onClick:f,small:!0,text:i?"OR":"AND"}),d.jsx($l,{className:"zr-query-entry--remove-self",icon:n?"cross":"small-cross",intent:n?void 0:Ek.DANGER,minimal:!0,onClick:m,title:"Remove query term"})]})]})}const Ok=window.React.Fragment,id=window.React.useCallback,pg=window.Blueprint.Core.Button;function Vf({dispatch:t,isFirstChild:e,isOnlyChild:n,terms:a=[],useOR:i=!0}){const l=id(()=>t({type:"removeSelf"}),[t]),c=id(()=>t({type:"updateSelf",value:Hf(a,qf)}),[t,a]),u=id((f,m)=>{switch(m.type){case"removeSelf":return t({type:"updateSelf",value:xf(a,f)});case"updateSelf":return t({type:"updateSelf",value:Cf(a,f,m.value)});default:return}},[t,a]);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"zr-query-box",children:[!e&&d.jsx("span",{"zr-role":"query-entry-operator",children:i?"OR":"AND"}),d.jsx("div",{children:a.map((f,m)=>{const h={dispatch:y=>u(m,y),isFirstChild:m==0,isOnlyChild:a.length==1,useOR:!i};return d.jsx(Ok,{children:Array.isArray(f)?d.jsx(Vf,{terms:f,...h}):d.jsx(kk,{term:f,...h})},m)})}),!n&&d.jsx(pg,{className:"zr-query-box--remove-self",icon:"cross",minimal:!0,onClick:l,title:"Remove query group"})]}),d.jsx(pg,{className:["zr-query-box--add-sibling",W.TEXT_SMALL].join(" "),minimal:!0,onClick:c,rightIcon:"small-plus",small:!0,text:i?"OR":"AND"})]})}const Jr=window.React.useCallback,Rk=window.React.useState,Wa=window.Blueprint.Core.Button,Qa=window.Blueprint.Core.Classes,ib=window.Blueprint.Core.Dialog,Ak=window.Blueprint.Core.Tag;function Ik({property:t,relationship:e,value:n}){return n==null?"":ea[t][e].stringify?.(n)||`${n}`}function jk(t){const{property:e,relationship:n}=t,a=Ik(t);return[e,n,a].filter(Bt).join(" ")}function sb(t,e,{parentheses:n=!0}={}){if(Array.isArray(t)){const a=t.map(i=>sb(i,!e)).join(e?" or ":" and ");return n?`(${a})`:a}else return jk(t)}function lb({addTerm:t,buttonProps:e={},useOR:n}){const[a,{on:i,off:l}]=Pt(!1),[c,u]=Rk([qf]),f=Jr(h=>{switch(h.type){case"removeSelf":return;case"updateSelf":return u(h.value);default:return}},[]),m=Jr(()=>{t(c),l()},[t,l,c]);return d.jsxs(d.Fragment,{children:[d.jsx(Wa,{className:W.TEXT_SMALL,minimal:!0,onClick:i,rightIcon:"small-plus",small:!0,...e}),d.jsxs(ib,{canEscapeKeyClose:!1,className:"zr-query-term-dialog",isOpen:a,lazy:!0,onClose:l,children:[d.jsx("div",{className:Qa.DIALOG_BODY,children:d.jsx(Vf,{dispatch:f,isFirstChild:!0,isOnlyChild:!0,terms:c,useOR:!n})}),d.jsx("div",{className:Qa.DIALOG_FOOTER,children:d.jsxs("div",{className:Qa.DIALOG_FOOTER_ACTIONS,children:[d.jsx(Wa,{minimal:!0,onClick:l,text:"Cancel"}),d.jsx(Wa,{intent:"primary",minimal:!0,onClick:m,text:"OK"})]})})]})]})}function Pk({dispatch:t,isLast:e,term:n,useOR:a}){const[i,{on:l,off:c}]=Pt(!1),u=Jr(()=>{c(),t({type:"removeSelf"})},[c,t]),f=Jr(m=>{switch(m.type){case"removeSelf":u();break;case"updateSelf":return t({type:"updateSelf",value:m.value});default:return}},[t,u]);return d.jsxs(d.Fragment,{children:[d.jsx(Ak,{"zr-role":"filter-tag",interactive:!0,minimal:!0,onClick:l,onRemove:u,children:sb(n,!a,{parentheses:!1})}),!e&&d.jsx("span",{className:W.TEXT_AUXILIARY,"zr-role":"filter-operator",children:a?"OR":"AND"}),d.jsxs(ib,{canEscapeKeyClose:!1,className:"zr-query-term-dialog",isOpen:i,lazy:!0,onClose:c,children:[d.jsx("div",{className:Qa.DIALOG_BODY,children:d.jsx(Vf,{dispatch:f,isFirstChild:!0,isOnlyChild:!0,terms:n,useOR:!a})}),d.jsx("div",{className:Qa.DIALOG_FOOTER,children:d.jsxs("div",{className:Qa.DIALOG_FOOTER_ACTIONS,children:[d.jsx(Wa,{minimal:!0,onClick:u,text:"Remove term"}),d.jsx(Wa,{intent:"primary",minimal:!0,onClick:c,text:"OK"})]})})]})]})}function Nk({dispatch:t,filter:e,isOnlyChild:n,useOR:a}){const i=Jr(u=>t({type:"add",value:u}),[t]),l=Jr(()=>t({type:"removeSelf"}),[t]),c=Jr((u,f)=>{switch(f.type){case"updateSelf":return t({type:"update",index:u,value:f.value});case"removeSelf":return e.length==1?t({type:"removeSelf"}):t({type:"remove",index:u});default:return}},[t,e.length]);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"zr-query-filter--elements",children:[e.map((u,f)=>d.jsx(Pk,{dispatch:m=>c(f,m),isLast:f==e.length-1,term:u,useOR:a},f)),d.jsx(lb,{addTerm:i,buttonProps:{intent:"primary",text:a?"OR":"AND"},useOR:!a})]}),!n&&d.jsx(Wa,{className:"zr-filter--remove-self",icon:"small-cross",minimal:!0,onClick:l,title:"Remove query group"})]})}function Lk({dispatch:t,terms:e,useOR:n}){const a=Jr(l=>t({type:"add",value:l}),[t]),i=Jr((l,c)=>{const u=e[l];switch(c.type){case"removeSelf":return t({type:"remove",index:l});case"add":return t({type:"update",index:l,value:[Hf(u,c.value)]});case"remove":return t({type:"update",index:l,value:xf(u,c.index)});case"update":return t({type:"update",index:l,value:Cf(u,c.index,c.value)});default:return}},[t,e]);return d.jsxs("div",{className:"zr-query-filters",children:[e.map((l,c)=>d.jsxs("div",{className:"zr-query-filter",children:[c>0&&d.jsx("span",{"zr-role":"filter-list-operator",children:n?"OR":"AND"}),d.jsx(Nk,{dispatch:u=>i(c,u),isOnlyChild:e.length==1,filter:l,useOR:!n})]},c)),d.jsx(lb,{addTerm:a,buttonProps:{text:e.length==0?"Set filter":n?"OR":"AND"},useOR:!n})]})}const cb=window.React.useEffect,Dk=window.React.useMemo,ub=window.React.useState,Mk=window.Blueprint.Core.NonIdealState,Bk=window.Blueprint.Core.Spinner;function zk(t,e){return new Promise(n=>{setTimeout(()=>{const a=t.items.map(i=>{const l=i.data.key,c=i.library.type+"s/"+i.library.id,{pdfs:u,notes:f}=ua(l,c,{pdfs:t.pdfs,notes:t.notes});return Ef(i,u,f,e)});n(a)},0)})}const hg=20;function $k({items:t,onClose:e}){const{currentPage:n,pageLimits:a,setCurrentPage:i}=_s({itemsPerPage:hg}),[l]=ub(!0),[c,u]=YC([]),f=Dk(()=>t.filter(m=>ob(c,l,m)),[t,c,l]);return cb(()=>{i(1)},[t,f,i]),d.jsxs("div",{className:"zr-query-builder",children:[d.jsx(eo,{children:d.jsx(Lk,{dispatch:u,terms:c,useOR:l})}),d.jsx("div",{className:"zr-queryitems--datalist",children:f.length==0?d.jsx(Mk,{className:W.TEXT_AUXILIARY,description:"No items to display"}):d.jsx(Lo,{children:f.slice(...a).map(m=>d.jsx(vk,{item:m,onClose:e},[m.location,m.key].join("-")))})}),d.jsx(eo,{children:d.jsx(Os,{arrows:"first",currentPage:n,itemsPerPage:hg,nbItems:f.length,setCurrentPage:i})})]})}function Fk({itemList:t,onClose:e}){const[n]=Do(),[a,i]=ub(null);return cb(()=>{t&&zk(t,n).then(l=>{i(l)})},[t,n]),a==null?d.jsx(Bk,{size:15}):d.jsx($k,{items:a,onClose:e})}const Uk=window.React.useEffect,qk=window.React.useState,Hk=window.Blueprint.Core.Spinner;function Vk({items:t}){return d.jsx(Lo,{children:t.slice(0,20).map((e,n)=>d.jsx(No,{children:e.key},e.key+"-"+n))})}function Xk({itemList:t}){const[e,n]=qk(null);return Uk(()=>{t&&n(t.notes)},[t]),e==null?d.jsx(Hk,{size:15}):d.jsx(Vk,{items:e})}const mg=window.Blueprint.Core.Button;function Wk({item:t}){const[e,{on:n,off:a}]=Pt(!1),[i,{on:l,off:c}]=Pt(!1);return d.jsxs(d.Fragment,{children:[d.jsx(No,{className:"zr-query--result",children:d.jsxs("div",{"zr-role":"item-header",children:[d.jsxs("div",{"zr-role":"item-details",children:[d.jsx("span",{className:W.TEXT_AUXILIARY,"zr-role":"item-title",children:t.title}),t.parent.key&&d.jsxs("span",{className:W.TEXT_ACCENT_1,children:["@",t.parent.key]}),d.jsx(mg,{className:W.TEXT_SMALL,icon:"eye-open",minimal:!0,onClick:n,title:"Show the item's raw metadata"}),t.annotations.length>0?d.jsx(mg,{className:W.TEXT_SMALL,icon:"duplicate",minimal:!0,text:fn(t.annotations.length,"linked note"),onClick:l}):null]}),d.jsx(Or,{className:W.TEXT_SMALL,href:t.link,icon:"paperclip",children:"Open PDF"})]})}),d.jsx(Uf,{item:t.raw,isOpen:e,onClose:a}),t.annotations.length>0&&d.jsx(Nc,{notes:t.annotations,isOpen:i,onClose:c})]})}const db=window.React.useEffect,Qk=window.React.useState,Kk=window.Blueprint.Core.NonIdealState,Gk=window.Blueprint.Core.Spinner;function Yk(t){return new Promise(e=>{setTimeout(()=>{const n=t.pdfs.map(a=>{const i=a.data.key,l=a.data.parentItem,c=a.library.type+"s/"+a.library.id,{parent:u,annotations:f}=OC(i,l,c,{items:t.items,notes:t.notes});return xC(a,u,f)});e(n)},0)})}const gg=20;function Zk({items:t}){const{currentPage:e,pageLimits:n,setCurrentPage:a}=_s({itemsPerPage:gg});return db(()=>{a(1)},[t,a]),d.jsxs("div",{className:"zr-query-builder",children:[d.jsx("div",{className:"zr-querypdfs--datalist",children:t.length==0?d.jsx(Kk,{className:W.TEXT_AUXILIARY,description:"No items to display"}):d.jsx(Lo,{children:t.slice(...n).map((i,l)=>d.jsx(Wk,{item:i},[i.key,l].join("-")))})}),d.jsx(eo,{children:d.jsx(Os,{arrows:"first",currentPage:e,itemsPerPage:gg,nbItems:t.length,setCurrentPage:a})})]})}function Jk({itemList:t}){const[e,n]=Qk(null);return db(()=>{t&&Yk(t).then(a=>{n(a)})},[t]),e==null?d.jsx(Gk,{size:15}):d.jsx(Zk,{items:e})}const ls=window.React.useMemo;async function e1(t,e){const{apikey:n,library:{path:a},...i}=t,l=["items",a,{...i}],{data:c=[],lastUpdated:u=0}=e.getQueryData(l)||{};return await $C({...t,since:u},{match:c},e)}const fb=(t,e={})=>{const{cacheTime:n=1/0,retry:a=(u,f)=>u<1&&f.toJSON().status!=404,staleTime:i=1e3*60*10,...l}=e,c=t.map(u=>({queryKey:["citoid",{url:u}],queryFn:m=>BC(u),cacheTime:n,retry:a,staleTime:i,...l}));return ws({queries:c})},pb=(t,e={})=>{const{staleTime:n=1e3*60*5,refetchInterval:a=1e3*60*5,...i}=e,l=Io(),c=t.map(u=>{const{path:f}=u,m=["collections",{library:f}],{data:h,lastUpdated:y}=l.getQueryData(m)||{};return{queryKey:m,queryFn:v=>zC(u,y,{match:h}),staleTime:n,refetchInterval:a,...i}});return ws({queries:c})},ro=(t,e={})=>{const n=Io(),a=ls(()=>{const{staleTime:i=1e3*60,refetchInterval:l=1e3*60,...c}=e;return t.map(u=>{const{apikey:f,library:{path:m},...h}=u;return{queryKey:["items",m,{...h}],queryFn:v=>e1(u,n),staleTime:i,refetchInterval:l,...c}})},[t,n,e]);return ws({queries:a})},hb=(t,e={})=>{const{staleTime:n=1e3*60*60,refetchInterval:a=1e3*60*60,...i}=e,l=t.map(c=>({queryKey:["permissions",{apikey:c}],queryFn:f=>FC(c),staleTime:n,refetchInterval:a,...i}));return ws({queries:l})},t1=(t,e={})=>{const{cacheTime:n=1/0,...a}=e;return j0({queryKey:["semantic",{doi:t}],queryFn:l=>UC(t),cacheTime:n,...a})},mb=(t,e={})=>{const n=ls(()=>{const{staleTime:a=18e4,...i}=e;return t.map(l=>{const{apikey:c,path:u}=l;return{queryKey:["tags",{library:u}],queryFn:m=>qC({apikey:c,path:u}),staleTime:a,...i}})},[t,e]);return ws({queries:n})},gb=t=>{const e=ls(()=>Array.from(new Set(t.map(c=>c.apikey))),[t]),n=hb(e,{notifyOnChangeProps:["data","isLoading"]}),a=n.some(c=>c.isLoading),i=ls(()=>n.map(c=>c.data||[]).flat(1),[n]);return{data:ls(()=>t.filter(c=>{const u=i.find(f=>f.key==c.apikey);if(u){const{access:f}=u,[m,h]=c.path.split("/");return((m=="users"?f.user:f.groups?.[h]||f.groups?.all)||{}).write||!1}else return!1}),[t,i]),isLoading:a}};const n1=window.React.useCallback,yg=window.React.useMemo,r1=window.React.useState,o1=window.Blueprint.Core.Spinner,a1=window.Blueprint.Core.Tab,i1=window.Blueprint.Core.Tabs,s1=[{show:"items",title:"Items"},{show:"pdfs",title:"PDFs"}];function l1({itemList:t,onClose:e,show:n}){return n=="items"?d.jsx(Fk,{itemList:t,onClose:e}):n=="pdfs"?d.jsx(Jk,{itemList:t}):d.jsx(Xk,{itemList:t})}function c1({itemList:t,onClose:e}){const[n,a]=r1("items"),i=n1((l,c,u)=>a(l),[]);return d.jsx(i1,{animate:!1,className:W.TABS_MINIMAL,id:"explorer-lists",onChange:i,renderActiveTabPanelOnly:!1,selectedTabId:n,children:s1.map(l=>d.jsx(a1,{id:l.show,panel:d.jsx(l1,{itemList:t,onClose:e,show:l.show}),title:l.title},l.show))})}function u1({onClose:t}){const[{dataRequests:e}]=cr(),n=ro(e,{notifyOnChangeProps:["data"],select:c=>c.data}),a=n.some(c=>c.isLoading),i=yg(()=>n.map(c=>c.data||[]).flat(1),[n]),l=yg(()=>ca(i),[i]);return d.jsx(Mn,{children:d.jsx("div",{children:a?d.jsx(o1,{}):d.jsx(c1,{itemList:l,onClose:t})})})}const d1=window.React.memo,f1=window.React.useEffect,p1=window.Blueprint.Core.Button;function h1({abstract:t,allAbstractsShown:e}){const[n,{set:a,toggle:i}]=Pt(e);return f1(()=>{a(e)},[e,a]),t?d.jsxs("div",{className:"zr-log-item--abstract",children:[d.jsx(p1,{className:W.TEXT_SMALL,"zr-role":"abstract-toggle",icon:n?"chevron-down":"chevron-right",onClick:i,minimal:!0,small:!0,children:"Abstract"}),n?d.jsx("span",{"zr-role":"abstract-text",className:[W.TEXT_SMALL,W.TEXT_AUXILIARY].join(" "),children:t}):null]}):null}const m1=d1(function({allAbstractsShown:e,item:n,onClose:a}){const{abstract:i,children:l,inGraph:c,itemType:u,meta:f,publication:m,raw:h,title:y}=n;return d.jsxs(No,{className:"zr-log-entry","data-in-graph":(c!=!1).toString(),children:[d.jsxs("div",{"zr-role":"item-header",children:[d.jsxs("div",{"zr-role":"item-details",children:[d.jsx("span",{className:W.TEXT_AUXILIARY,"data-item-type":u,"zr-role":"item-title",children:y}),d.jsx("span",{className:W.TEXT_ACCENT_1,children:f}),d.jsx("span",{className:W.TEXT_SECONDARY,children:m})]}),d.jsx(Is,{closeDialog:a,inGraph:c,item:h,notes:l.notes,pdfs:l.pdfs})]}),d.jsx(h1,{abstract:i,allAbstractsShown:e})]})}),g1=m1;function y1(t,{edited:e,inGraph:n,notes:a,pdfs:i}){const l=t.key,c=t.library.type+"s/"+t.library.id,u=t.meta.creatorSummary||"",f=t.meta.parsedDate?`(${new Date(t.meta.parsedDate).getUTCFullYear()})`:"",m=ua(l,c,{pdfs:i,notes:a});return{abstract:t.data.abstractNote||"",children:m,edited:e,inGraph:n,itemType:t.data.itemType,key:l,location:c,meta:[u,f].filter(Bt).join(" "),publication:t.data.publicationTitle||t.data.bookTitle||t.data.university||"",raw:t,title:t.data.title||""}}function v1(t,e=7){return new Promise(n=>{setTimeout(()=>{const{items:a=[],pdfs:i=[],notes:l=[]}=t,c=XE(),u=new Date;u.setHours(0,0,0);const f=new Date;f.setDate(u.getDate()-1),f.setHours(0,0,0);const m=new Date;m.setDate(u.getDate()-e),m.setHours(0,0,0);const h=a.reduce((y,v)=>{const b=c.get("@"+v.key),{edited:x=null,uid:S=!1}=b||{},_=new Date(v.data.dateModified),R=new Date(Math.max(...[x,_].filter(Bt).map(L=>Number(L))));if(R<=m)return y;{const L=y1(v,{edited:R,inGraph:S,notes:l,pdfs:i});return R>u?(y.today.push(L),y.numItems+=1):R>f?(y.yesterday.push(L),y.numItems+=1):R>m&&(y.recent.push(L),y.numItems+=1),y}},{today:[],yesterday:[],recent:[],numItems:0});Object.values(h).filter(Array.isArray).forEach(y=>y.sort((v,b)=>v.edited<b.edited?1:-1)),n(h)},0)})}const Xf=window.React.memo,b1=window.React.useEffect,vg=window.React.useMemo,bg=window.React.useState,w1=window.Blueprint.Core.NonIdealState,x1=window.Blueprint.Core.Slider,yb=window.Blueprint.Core.Spinner,C1=window.Blueprint.Core.Switch,sd=Xf(function({allAbstractsShown:e,items:n,label:a,onClose:i}){return n.length==0?null:d.jsxs(d.Fragment,{children:[d.jsx("h5",{children:a}),n.map(l=>d.jsx(g1,{allAbstractsShown:e,item:l,onClose:i},[l.location,l.key].join("/")))]})}),E1={labelRenderer:(t,e={isHandleTooltip:!1})=>e.isHandleTooltip?`Last ${t} days`:"",min:3,max:30,stepSize:1},S1=Xf(function({itemList:e,onClose:n}){const[a,i]=bg(7),[l,{toggle:c}]=Pt(!1),[u,f]=bg(null);return b1(()=>{e&&v1(e,a).then(m=>f(m))},[a,e]),u==null?d.jsx(yb,{size:15}):d.jsxs("div",{className:"zr-recentitems--datalist",children:[u.numItems==0?d.jsx(w1,{className:W.TEXT_AUXILIARY,description:"No items to display"}):d.jsxs(Lo,{children:[d.jsx(sd,{allAbstractsShown:l,items:u.today,label:"Today",onClose:n}),d.jsx(sd,{allAbstractsShown:l,items:u.yesterday,label:"Yesterday",onClose:n}),d.jsx(sd,{allAbstractsShown:l,items:u.recent,label:"Recently",onClose:n})]}),d.jsxs(eo,{children:[d.jsx(x1,{onChange:i,value:a,...E1}),d.jsx(C1,{"aria-checked":l,checked:l,label:"Show all abstracts",role:"switch",onChange:c})]})]})}),T1=Xf(function({onClose:e}){const[{dataRequests:n}]=cr(),a=ro(n,{notifyOnChangeProps:["data"],select:u=>u.data}),i=a.some(u=>u.isLoading),l=vg(()=>a.map(u=>u.data||[]).flat(1),[a]),c=vg(()=>ca(l),[l]);return d.jsx(Mn,{children:d.jsx("div",{style:{height:"100%"},children:i?d.jsx(yb,{}):d.jsx(S1,{itemList:c,onClose:e})})})}),_1=T1,k1=window.React.memo,O1=window.Blueprint.Core.Button,R1=window.Blueprint.Core.MenuItem,A1=window.Blueprint.Select.Select,I1={filterable:!1,itemRenderer:(t,e)=>{const{handleClick:n}=e;return d.jsx(R1,{onClick:n,text:t},t)},matchTargetWidth:!0,popoverProps:{minimal:!0,placement:"bottom-right",popoverClassName:W.POPOVER}},j1=k1(function({libProps:e}){const{currentLibrary:{path:n},onSelect:a,options:i}=e;return d.jsx(A1,{items:i,onItemSelect:a,...I1,children:d.jsx(O1,{className:["zr-dashboard--library-select",W.TEXT_AUXILIARY,W.TEXT_SMALL].join(" "),icon:"folder-open",minimal:!0,text:n})})}),P1=j1;const N1=window.React.useCallback,L1=window.Blueprint.Core.ButtonGroup,D1=window.Blueprint.Core.Icon;function M1(t){const{icon:e=null,isSelected:n,label:a,name:i,onClick:l,value:c}=t,u=[i,c].join("_"),f=N1(()=>l(c),[l,c]);return d.jsxs("span",{className:"zr-sort-option",onClick:f,children:[d.jsx("input",{type:"radio",checked:n,disabled:n,id:u,name:i,onChange:()=>{},value:c}),d.jsx(D1,{icon:e}),d.jsx("label",{className:W.TEXT_SMALL,htmlFor:u,children:a})]})}function B1(t){const{name:e,onSelect:n,options:a,selectedOption:i}=t;return d.jsx(L1,{minimal:!0,children:a.map(l=>d.jsx(M1,{isSelected:l.value==i,name:e,onClick:n,...l},l.value))})}const z1=()=>{const t=Io();return hf(e=>{const{library:{apikey:n,path:a},tags:i}=e,{lastUpdated:l=0}=t.getQueryData(["tags",{library:a}])||{};return DC(i,{apikey:n,path:a},l)},{onSettled:(e,n,a,i)=>{const{library:{path:l},tags:c}=a;n||t.invalidateQueries(["items",l],{refetchType:"all"},{throwOnError:!0}),jr({args:{tags:c},error:n,library:l,_type:"tags-deleted"})}})},$1=()=>{const t=Io();return hf(e=>{const{collections:n=[],items:a,library:i,tags:l=[]}=e,c=l.map(f=>({tag:f})),u=a.map(f=>{const{key:m,version:h,...y}=f;return{...y,collections:n,tags:c}});return gv(u,i)},{onSettled:(e=[],n,a,i)=>{const{collections:l,items:c,library:{path:u},tags:f}=a,m=e.reduce((h,y)=>(rv(y)?h.successful.push(y.value.data):h.failed.push(y.reason),h),{successful:[],failed:[]});!n&&m.successful.length>0&&t.invalidateQueries(["items",u],{refetchType:"all"}),jr({_type:"write",args:{collections:l,items:c,tags:f},data:m,error:n,library:u})}})},Wf=()=>{const t=Io();return hf(e=>{const{into:n,library:{apikey:a,path:i},tags:l}=e,c=[];return t.getQueriesData(["items",i]).map(f=>(f[1]||{}).data||[]).flat(1).filter(sv).filter(f=>f.data.tags.length>0).forEach(f=>{const m=f.data.tags,h=m.findIndex(v=>v.tag==n&&(v.type==0||!v.type));h>-1&&m.splice(h,1);const y=m.filter(v=>!l.includes(v.tag));y.length<m.length&&(y.push({tag:n,type:0}),c.push({key:f.data.key,version:f.version,tags:y}))}),gv(c,{apikey:a,path:i})},{onSettled:(e=[],n,a,i)=>{const{into:l,library:{path:c},tags:u}=a,f=e.reduce((m,h)=>(rv(h)?m.successful.push(h.value.data):m.failed.push(h.reason),m),{successful:[],failed:[]});f.successful.length>0&&t.invalidateQueries(["items",c],{refetchType:"all"}),jr({args:{into:l,tags:u},data:f,error:n,library:c,_type:"tags-modified"})}})},vb=window.React.useCallback,F1=window.React.useEffect,wg=window.React.useMemo,U1=window.React.useRef,q1=window.Blueprint.Core.Button,ld=window.Blueprint.Core.Classes,H1=window.Blueprint.Core.Dialog,V1=window.Blueprint.Core.InputGroup,X1=window.Blueprint.Core.MenuDivider,Yd=window.Blueprint.Core.MenuItem,W1=window.Blueprint.Core.Tag,Q1=window.Blueprint.Core.UL;function K1({handleChange:t,status:e,value:n}){const a=U1(null);return F1(()=>{a?.current?.focus()},[]),d.jsx(V1,{disabled:e=="loading",fill:!0,inputRef:a,onChange:t,placeholder:"Enter a value",value:n})}function G1({disabled:t,library:e,tags:n}){const[a,{on:i,off:l}]=Pt(!1),[c,u]=vv(""),{mutate:f,status:m}=Wf(),h=vb(()=>{f({into:c,library:e,tags:n},{onSuccess:()=>l()})},[l,e,f,n,c]);return d.jsxs(d.Fragment,{children:[d.jsx(Yd,{disabled:t,htmlTitle:"Choose custom value...",intent:"primary",multiline:!0,onClick:i,shouldDismissPopover:!1,text:"Choose custom value..."}),d.jsxs(H1,{isOpen:a,lazy:!0,onClose:l,children:[d.jsxs("div",{className:ld.DIALOG_BODY,children:["The following tags will be merged :",d.jsx(Q1,{children:n.map(y=>d.jsx("li",{children:y},y))}),d.jsx(K1,{handleChange:u,status:m,value:c})]}),d.jsx("div",{className:ld.DIALOG_FOOTER,children:d.jsx("div",{className:ld.DIALOG_FOOTER_ACTIONS,children:d.jsx(q1,{disabled:c.length==0,loading:m=="loading",minimal:!0,onClick:h,text:"OK",title:"Confirm modification of tag(s)"})})})]})]})}function bb({library:t,options:e}){const{roam:n=[],zotero:a=[]}=e,i=wg(()=>[...n,...a],[n,a]),{mutate:l,status:c}=Wf(),u=wg(()=>["error","success","loading"].includes(c),[c]),f=vb(m=>{l({into:m,library:t,tags:i})},[t,l,i]);return d.jsxs(d.Fragment,{children:[n.map(m=>d.jsx(Yd,{disabled:u,labelElement:d.jsx(W1,{intent:"success",minimal:!0,children:"In Roam"}),multiline:!0,onClick:()=>f(m),text:m},m)),a.map(m=>d.jsx(Yd,{disabled:u,multiline:!0,onClick:()=>f(m),text:m},m)),d.jsx(X1,{}),d.jsx(G1,{disabled:["error","success","loading"].includes(c),library:t,tags:i})]})}const Y1=window.React.useCallback,Z1=window.Blueprint.Core.Menu,xg=window.Blueprint.Core.MenuItem;function wb({deleteTags:t=!0,library:e,mergeAs:n=!0,suggestion:a}){const{mutate:i,status:l}=z1(),c=Y1(()=>{i({library:e,tags:[...a.use.roam,...a.use.zotero]})},[a.use,e,i]);return d.jsxs(Z1,{className:W.TEXT_SMALL,children:[n&&a.type?d.jsx(xg,{disabled:["loading","success"].includes(l),icon:"group-objects",text:"Merge as",children:d.jsx(bb,{library:e,options:a.use})}):null,t?d.jsx(xg,{disabled:["loading","success"].includes(l),icon:l=="success"?"tick":"trash",intent:"danger",text:l=="success"?"Deleted":"Delete tag(s)",onClick:c}):null]})}const J1=window.Blueprint.Core.Tag;function eO({text:t,uid:e=null}){return d.jsx(J1,{active:!0,intent:"primary",minimal:!0,multiline:!0,"data-tag-source":"roam","data-tag":t,"data-uid":e,children:t})}const tO=window.Blueprint.Core.Tag;function nO({tagElement:t}){const{tag:e,meta:{numItems:n,type:a=0}}=t;return d.jsx(tO,{active:!0,intent:"warning",minimal:!0,multiline:!1,"data-tag-source":"zotero","data-tag":e,"data-tag-type":a,children:e+" ("+n+")"})}var Ka=(t=>(t.ALL="all",t.SUGGESTIONS="suggestions",t))(Ka||{}),Zd=(t=>(t.ALL="all-items",t.SUGGESTIONS="suggestions",t))(Zd||{}),Ga=(t=>(t.ALPHABETICAL="alphabetical",t.ROAM="roam",t.USAGE="usage",t))(Ga||{});function rO(t){return t.map(e=>({nTags:e.zotero.length,nAuto:e.zotero.length==0?0:e.zotero.filter(n=>n.meta.type==1).length,in_roam:e.roam.length>0?1:0})).reduce((e,n)=>(e.nTags+=n.nTags,e.nAuto+=n.nAuto,e.nRoam+=n.in_roam,e),{nTags:0,nAuto:0,nRoam:0,nTotal:t.length})}function Jd(t,{count_roam:e=!1}={}){return t.zotero.reduce((n,a)=>n+a.meta.numItems,0)+(e?t.roam.length:0)}function xb(t){return t.zotero.length==1&&(t.roam.length==0||t.roam.length==1&&t.zotero[0].tag==t.roam[0].title)}function Cb(t){const e=t.roam.map(i=>i.title),n=t.zotero.reduce((i,l)=>(e.includes(l.tag)||i.includes(l.tag)||i.push(l.tag),i),[]),a={roam:e,zotero:n};return e.length==0?t.zotero.length==1?{recommend:n[0],type:null,use:a}:n.length==1?{recommend:n[0],type:"auto",use:a}:{recommend:t.zotero.find(i=>i.meta.type==0)?.tag||null,type:"manual",use:a}:e.length==1?n.length==0?{recommend:e[0],type:t.zotero.length==1?null:"auto",use:a}:{recommend:e[0],type:"auto",use:a}:{recommend:null,type:"manual",use:a}}function oO(t){return new Promise(e=>{setTimeout(()=>{const n=Object.keys(t).map(a=>{const i=WE(Array.from(new Set([a,a.toUpperCase()]))).sort((c,u)=>c.title>u.title?-1:1),l=Array.from(t[a]);for(const c of i){const u=l.findIndex(f=>Ln(c.title,f.token,{match:"exact"}));if(u>=0){const{roam:f,...m}=l[u];l[u]={roam:[...f,c],...m}}}return l}).flat(1);e(n)},0)})}function aO(t,e=Ga.ALPHABETICAL){const n=[...t];switch(e){case"usage":return n.sort((a,i)=>Jd(a)>Jd(i)?-1:1);case"roam":return n.sort((a,i)=>a.roam.length>i.roam.length?-1:1);case"alphabetical":default:return n}}const iO=window.React.memo,Cg=window.Blueprint.Core.Icon,sO=iO(function({entry:e,library:n}){const a=xb(e),i=Cb(e),l=Jd(e);return d.jsx(No,{className:"zr-tag-entry","data-token":e.token,"in-graph":(e.roam.length>0).toString(),children:d.jsxs("div",{"zr-role":"item-header",children:[d.jsxs("div",{"zr-role":"item-info",children:[e.roam.length>0?d.jsx(Cg,{htmlTitle:"This tag exists in Roam ("+e.roam.map(c=>c.title).join(", ")+")",icon:"tick-circle",intent:"success",size:14}):d.jsx(Cg,{icon:"blank"}),d.jsx("span",{className:W.TEXT_AUXILIARY,"zr-role":"title",children:e.token}),!a&&d.jsxs("span",{className:W.TEXT_SMALL,"zr-role":"item-additional",children:[e.roam.map(c=>d.jsx(eO,{text:c.title,uid:c.uid},c.title)),e.zotero.map(c=>{const{tag:u,meta:{type:f}}=c;return d.jsx(nO,{tagElement:c},[u,f].join("_"))})]})]}),d.jsx("span",{className:[W.TEXT_SECONDARY,W.TEXT_SMALL].join(" "),"zr-role":"item-count",children:fn(l,"item")}),d.jsx("div",{"zr-role":"item-actions",children:d.jsx(wb,{deleteTags:!0,library:n,mergeAs:!0,suggestion:i})})]})})}),lO=sO,cO=window.React.useCallback,uO=window.React.useMemo,Qf=window.Blueprint.Core.Button,dO=window.Blueprint.Core.ButtonGroup,Eg=window.Blueprint.Core.Intent,fO=window.Blueprint.Core.Menu;function pO({library:t,suggestion:e}){const{recommend:n,use:a}=e,{mutate:i,status:l}=Wf(),c=cO(()=>{i({into:n,library:t,tags:[...a.roam,...a.zotero]})},[t,i,n,a]),u=uO(()=>l=="error"?{disabled:!0,icon:"warning",intent:Eg.DANGER}:l=="success"?{disabled:!0,icon:"tick",intent:Eg.SUCCESS,text:"Merged"}:{icon:"many-to-one"},[l]);return d.jsx(Qf,{active:!0,className:["zr-tag-suggestion--auto-merge",W.TEXT_SMALL].join(" "),intent:"primary",loading:l=="loading",onClick:c,text:"Auto-merge",title:"Suggestion : "+n,...u})}function hO({library:t,suggestion:e}){return d.jsx(ci,{content:d.jsx(fO,{children:d.jsx(bb,{library:t,options:e.use})}),interactionKind:"click",popoverClassName:W.POPOVER,children:d.jsx(Qf,{className:["zr-tag-suggestion--merge-as",W.TEXT_SMALL].join(" "),intent:"primary",rightIcon:"caret-down",text:"Merge as ..."})})}function mO({entry:t,library:e}){const n=Cb(t);switch(n.type){case"auto":case"manual":return d.jsxs(dO,{minimal:!0,children:[n.type=="auto"&&d.jsx(pO,{library:e,suggestion:n}),n.type=="manual"&&d.jsx(hO,{library:e,suggestion:n}),d.jsx(ci,{content:d.jsx(wb,{library:e,mergeAs:n.type=="auto",suggestion:n}),interactionKind:"click",placement:"bottom-start",popoverClassName:W.POPOVER,children:d.jsx(Qf,{icon:"more"})})]});case null:default:return null}}const gO=window.React.memo,Sg=window.Blueprint.Core.Icon,yO=window.Blueprint.Core.Tag,vO=gO(function({entry:e,library:n}){return d.jsx(No,{className:"zr-tag-suggestion","data-token":e.token,"in-graph":(e.roam.length>0).toString(),children:d.jsxs("div",{"zr-role":"item-header",children:[d.jsxs("span",{"zr-role":"item-info",children:[e.roam.length>0?d.jsx(Sg,{htmlTitle:"This tag exists in Roam ("+e.roam.map(a=>a.title).join(", ")+")",icon:"tick-circle",intent:"success",size:14}):d.jsx(Sg,{icon:"blank",size:14}),d.jsx("span",{className:W.TEXT_AUXILIARY,"zr-role":"title",children:e.token})]}),d.jsx(yO,{htmlTitle:e.zotero.map(a=>a.tag).join(" - "),intent:"warning",icon:"tag",minimal:!0,"zr-role":"item-count",children:fn(e.zotero.length,"tag")}),d.jsx("div",{"zr-role":"item-actions",children:d.jsx(mO,{entry:e,library:n})})]})})}),bO=vO;const wO=window.React.memo,Tg=window.Blueprint.Core.ProgressBar,xO=wO(function({stats:e}){if(e){const{nTags:n,nRoam:a,nAuto:i,nTotal:l}=e,c=Math.round(i/n*100)/100,u=Math.round(a/l*100)/100;return d.jsxs("div",{className:[W.TEXT_AUXILIARY,W.TEXT_SMALL].join(" "),"zr-role":"list-stats",children:[d.jsxs("span",{"zr-role":"stats-text",children:["Zotero has ",n," tags, matched in ",l," groups"]}),d.jsxs("span",{"zr-role":"stats-figures",children:[d.jsxs("span",{"zr-role":"stats-bar",children:["Automatic : ",c*100,"%",d.jsx(Tg,{animate:!1,intent:"warning",stripes:!1,value:c})]}),d.jsxs("span",{"zr-role":"stats-bar",children:["In Roam : ",u*100,"%",d.jsx(Tg,{animate:!1,intent:"primary",stripes:!1,value:u})]})]})]})}else return null}),CO=xO;const EO=window.React.memo,SO=window.React.useCallback,TO=window.React.useEffect,_g=window.React.useMemo,cd=window.React.useState,_O=window.Blueprint.Core.NonIdealState,kO=window.Blueprint.Core.Spinner,kg=30,OO=[{icon:"sort-desc",label:"Most Used",value:Ga.USAGE},{icon:"sort-alphabetical",label:"Name",value:Ga.ALPHABETICAL},{icon:"star",label:"In Roam",value:Ga.ROAM}],RO=EO(function({filter:e,items:n,library:a}){const{currentPage:i,pageLimits:l,setCurrentPage:c}=_s({itemsPerPage:kg}),[u,f]=cd(Ga.USAGE),[m,h]=cd(),[y,v]=cd();TO(()=>{n&&(oO(n).then(_=>{h(_),v(()=>rO(_))}),c(1))},[n,c]);const b=_g(()=>m?e==Ka.SUGGESTIONS?m.filter(_=>!xb(_)):m:[],[e,m]),x=SO(_=>{f(()=>_),c(1)},[c]),S=_g(()=>aO(b,u),[b,u]);return m==null?d.jsx(kO,{size:15}):d.jsxs("div",{className:"zr-tagmanager--datalist",children:[d.jsxs(eo,{children:[d.jsx(B1,{name:"zr-tagmanager-sort-"+e,onSelect:x,options:OO,selectedOption:u}),d.jsx(Os,{currentPage:i,itemsPerPage:kg,nbItems:b.length,setCurrentPage:c})]}),d.jsx("div",{className:"zr-tagmanager--datalist--contents",children:S.length==0?d.jsx(_O,{className:W.TEXT_AUXILIARY,description:"No items to display"}):d.jsx(Lo,{children:S.slice(...l).map(_=>e==Ka.SUGGESTIONS?d.jsx(bO,{entry:_,library:a},_.token):d.jsx(lO,{entry:_,library:a},_.token))})}),e==Ka.ALL&&d.jsx(CO,{stats:y})]})}),AO=RO;const Eb=window.React.useCallback,Og=window.React.useMemo,Sb=window.React.useState,Tb=window.Blueprint.Core.Spinner,IO=window.Blueprint.Core.Tab,Rg=window.Blueprint.Core.Tabs,jO=[{id:Zd.SUGGESTIONS,filterValue:Ka.SUGGESTIONS,title:"Suggestions"},{id:Zd.ALL,filterValue:Ka.ALL,title:"All tags"}];function PO({items:t,libProps:e}){const[n,a]=Sb("suggestions"),i=Eb((l,c,u)=>a(l),[]);return d.jsxs(Rg,{animate:!1,className:W.TABS_MINIMAL,id:"tag-lists",onChange:i,renderActiveTabPanelOnly:!1,selectedTabId:n,children:[jO.map(l=>d.jsx(IO,{id:l.id,panel:d.jsx(AO,{filter:l.filterValue,items:t,library:e.currentLibrary}),title:l.title},l.id)),d.jsx(Rg.Expander,{}),d.jsx(P1,{libProps:e})]})}function NO({libraries:t}){const[e,n]=Sb(t[0]),{isLoading:a,data:i}=mb([e],{notifyOnChangeProps:["data"],select:f=>f.data})[0],l=Og(()=>t.map(f=>f.path),[t]),c=Eb(f=>n(t.find(m=>m.path==f)),[t]),u=Og(()=>({currentLibrary:e,onSelect:c,options:l}),[c,l,e]);return d.jsx("div",{children:a?d.jsx(Tb,{}):d.jsx(PO,{items:i,libProps:u})})}function LO(){const[{libraries:t}]=cr(),{data:e,isLoading:n}=gb(t);return d.jsx(Mn,{children:n?d.jsx(Tb,{}):e.length==0?d.jsx(yv,{}):d.jsx(NO,{libraries:e})})}const _b=window.React.memo,DO=window.React.useCallback,MO=window.React.useEffect,BO=window.React.useState,zO=window.Blueprint.Core.Classes,ud=window.Blueprint.Core.Icon,dd=window.Blueprint.Core.Tab,Ag=window.Blueprint.Core.Tabs,fd={className:"zr-dashboard-tab",panelClassName:"zr-dashboard-panel"},$O=_b(function(e){const{defaultTab:n,onClose:a}=e,[i,l]=BO(n);MO(()=>{l(n)},[n]);const c=DO((u,f,m)=>l(u),[]);return d.jsxs(Ag,{animate:!1,className:[W.TABS,"zr-dashboard-tabs-wrapper"].join(" "),id:"zr-dashboard--tabs",onChange:c,selectedTabId:i,vertical:!0,children:[d.jsx(dd,{id:"recent-items",panel:d.jsx(_1,{onClose:a}),title:d.jsxs(d.Fragment,{children:[d.jsx(ud,{htmlTitle:"Recent Items",icon:"history"}),d.jsx("span",{children:"Recent Items"})]}),...fd}),d.jsx(dd,{id:"tag-manager",panel:d.jsx(LO,{}),title:d.jsxs(d.Fragment,{children:[d.jsx(ud,{htmlTitle:"Tag Manager",icon:"tag"}),d.jsx("span",{children:"Tag Manager"})]}),...fd}),d.jsx(Ag.Expander,{}),d.jsx(dd,{id:"explorer",panel:d.jsx(u1,{onClose:a}),title:d.jsxs(d.Fragment,{children:[d.jsx(ud,{htmlTitle:"Explorer",icon:"code-block"}),d.jsx("span",{children:"Explorer"})]}),...fd})]})});_b(function({isOpen:e,onClose:n}){return d.jsx(la,{className:"dashboard",isOpen:e,label:"zoteroRoam Dashboard",onClose:n,children:d.jsx("div",{className:zO.DIALOG_BODY,children:d.jsx("div",{className:"zr-dashboard--main",children:d.jsx($O,{defaultTab:"recent-items",onClose:n})})})})});var Oo=(t=>(t.DISABLED="disabled",t.OFF="off",t.ON="on",t))(Oo||{});const kb=window.React.memo,Ob=window.React.useCallback,FO=window.React.useEffect,Ha=window.React.useMemo,ef=window.Blueprint.Core.Button,UO=window.Blueprint.Core.Classes,Ig=window.Blueprint.Core.Divider,jg=window.Blueprint.Core.Icon,pd=window.Blueprint.Core.Intent,qO=window.Blueprint.Core.Menu,Fl=window.Blueprint.Core.MenuItem,HO=window.Blueprint.Core.Spinner,VO=window.Blueprint.Core.Switch,Rb=window.Blueprint.Core.Tag,XO=d.jsx(Rb,{intent:"primary",minimal:!0,children:"Beta"}),Pg=()=>document.getElementsByTagName("body")[0].getAttribute("zr-dark-theme")=="true";function WO(){const[{darkTheme:t}]=wv(),[e,{set:n,toggle:a}]=Pt(t),i=Ob(()=>{const l=Pg();document.getElementsByTagName("body")[0].setAttribute("zr-dark-theme",(!l).toString()),a()},[a]);return FO(()=>{n(Pg())},[n]),d.jsx(VO,{alignIndicator:"right",checked:e,inline:!1,label:"Dark Theme",onChange:i})}const QO=kb(function(){const{version:e}=Lc();return d.jsxs("div",{className:"zr-icon-tooltip-footer",children:[d.jsx(WO,{}),d.jsxs("span",{className:"zr-icon-tooltip-footer--row",children:[d.jsx("a",{href:"https://alix-lahuec.gitbook.io/zotero-roam/",target:"_blank",rel:"noreferrer",children:"Docs"}),d.jsxs(Rb,{className:"zr-version-tag",children:["v",e]})]})]})});function KO(t){const{queries:e}=t,n=e.map(y=>y.dataUpdatedAt).filter(Bt),a=n.length>0?d.jsx("span",{"zr-role":"timestamp",children:ps(Math.max(...n))}):null,i=e.some(y=>y.isFetching),l=e.every(y=>y.isSuccess),c=e.some(y=>y.isLoadingError),u=e.some(y=>y.isRefetchError),f=Ob(()=>{e.forEach(y=>{y.refetch()})},[e]);let m="blank",h={};return l?(m="tick",h={intent:pd.SUCCESS,color:"#00e676",title:"The last update was successful"}):c?(m="delete",h={intent:pd.DANGER,title:"The extension was unable to retrieve the data"}):u&&(m="error",h={intent:pd.WARNING,title:"The last update was unsuccessful"}),d.jsxs("span",{"zr-role":"status",children:[a,i?d.jsx(HO,{size:16}):d.jsx(jg,{size:16,icon:m,...h}),d.jsx(ef,{minimal:!0,onClick:f,disabled:i,title:"Refresh data",children:d.jsx(jg,{size:16,icon:"refresh"})})]})}function GO(t){const{queries:e}=t;return d.jsx("ul",{className:UO.LIST_UNSTYLED,children:Object.keys(e).map(n=>d.jsxs("li",{className:"zr-queries-status",children:[d.jsx("span",{"zr-role":"entry",children:n}),d.jsx(KO,{queries:e[n]})]},n))})}kb(function(e){const{openDashboard:n,openLogger:a,openSearchPanel:i,openSettingsPanel:l,status:c,toggleExtension:u}=e,[{apiKeys:f,dataRequests:m,libraries:h}]=cr(),y=Ha(()=>({enabled:c==Oo.ON,notifyOnChangeProps:["dataUpdatedAt","status","isFetching"]}),[c]),v=ro(m,y),b=hb(f,y),x=mb(h,y),S=pb(h,y),_=[...b,...v,...x,...S].some(q=>q.isLoading),R=[...b,...v,...x,...S].some(q=>q.fetchStatus=="fetching"),L=[...b,...v,...x,...S].some(q=>q.isLoadingError),U=v.some(q=>q.data),X=Ha(()=>L?"error":_&&R?"loading":"ready",[R,_,L]),ee=Ha(()=>c==Oo.DISABLED?"warning-sign":L?"issue":"manual",[L,c]),D=Ha(()=>({Permissions:b,Collections:S,Tags:x,Items:v}),[S,v,b,x]),j=Ha(()=>d.jsxs(d.Fragment,{children:[d.jsxs("span",{children:[d.jsx("strong",{children:"Status : "})," ",c]}),c==Oo.DISABLED&&d.jsx(ef,{"aria-haspopup":"dialog",icon:"warning-sign",intent:"warning",minimal:!0,onClick:l,text:"Click to finish setting up zoteroRoam",title:"Click to open zoteroRoam settings"}),d.jsx(Ig,{}),c==Oo.ON?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"zr-icon-tooltip-body",children:d.jsx(GO,{queries:D})}),d.jsx(Ig,{})]}):null,d.jsx(QO,{})]}),[l,D,c]),P=Ha(()=>d.jsxs(qO,{children:[d.jsx(Fl,{text:"Settings",icon:"settings",onClick:l}),d.jsx(Fl,{disabled:!U,text:"Dashboard",icon:"dashboard",labelElement:XO,onClick:n}),d.jsx(Fl,{disabled:!U,text:"Search in library",icon:"search",onClick:i}),d.jsx(Fl,{text:"View logs",icon:"console",onClick:a})]}),[U,n,a,i,l]);return d.jsx(Zv,{popoverClassName:"zr-icon-tooltip",usePortal:!1,content:j,placement:"auto",interactionKind:"hover",hoverOpenDelay:450,hoverCloseDelay:450,children:d.jsx(Jv,{content:P,children:d.jsx(ef,{id:"zotero-roam-icon","data-extension-status":c,"data-fetching-status":X,disabled:c==Oo.DISABLED,icon:ee,minimal:!0,small:!0,onClick:u,"aria-haspopup":"true",title:c==Oo.DISABLED?"zoteroRoam is disabled":"Click to toggle the zoteroRoam extension"})})})});Array.prototype.find||(Array.prototype.find=function(t){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof t!="function")throw new TypeError("predicate must be a function");for(var e=Object(this),n=e.length>>>0,a=arguments[1],i,l=0;l<n;l++)if(i=e[l],t.call(a,i,l,e))return i});if(window&&typeof window.CustomEvent!="function"){let t=function(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),a};var gP=t;typeof window.Event<"u"&&(t.prototype=window.Event.prototype),window.CustomEvent=t}class fc{constructor(e){this.tribute=e,this.tribute.events=this}static keys(){return[{key:9,value:"TAB"},{key:8,value:"DELETE"},{key:13,value:"ENTER"},{key:27,value:"ESCAPE"},{key:32,value:"SPACE"},{key:38,value:"UP"},{key:40,value:"DOWN"}]}bind(e){e.boundKeydown=this.keydown.bind(e,this),e.boundKeyup=this.keyup.bind(e,this),e.boundInput=this.input.bind(e,this),e.addEventListener("keydown",e.boundKeydown,!1),e.addEventListener("keyup",e.boundKeyup,!1),e.addEventListener("input",e.boundInput,!1)}unbind(e){e.removeEventListener("keydown",e.boundKeydown,!1),e.removeEventListener("keyup",e.boundKeyup,!1),e.removeEventListener("input",e.boundInput,!1),delete e.boundKeydown,delete e.boundKeyup,delete e.boundInput}keydown(e,n){e.shouldDeactivate(n)&&(e.tribute.isActive=!1,e.tribute.hideMenu());let a=this;e.commandEvent=!1,fc.keys().forEach(i=>{i.key===n.keyCode&&(e.commandEvent=!0,e.callbacks()[i.value.toLowerCase()](n,a))})}input(e,n){e.inputEvent=!0,e.keyup.call(this,e,n)}click(e,n){let a=e.tribute;if(a.menu&&a.menu.contains(n.target)){let i=n.target;for(n.preventDefault(),n.stopPropagation();i.nodeName.toLowerCase()!=="li";)if(i=i.parentNode,!i||i===a.menu)throw new Error("cannot find the <li> container for the click");a.selectItemAtIndex(i.getAttribute("data-index"),n),a.hideMenu()}else a.current.element&&!a.current.externalTrigger&&(a.current.externalTrigger=!1,setTimeout(()=>a.hideMenu()))}keyup(e,n){if(e.inputEvent&&(e.inputEvent=!1),e.updateSelection(this),n.keyCode!==27){if(!e.tribute.allowSpaces&&e.tribute.hasTrailingSpace){e.tribute.hasTrailingSpace=!1,e.commandEvent=!0,e.callbacks().space(n,this);return}if(!e.tribute.isActive)if(e.tribute.autocompleteMode)e.callbacks().triggerChar(n,this,"");else{let a=e.getKeyCode(e,this,n);if(isNaN(a)||!a)return;let i=e.tribute.triggers().find(l=>l.charCodeAt(0)===a);typeof i<"u"&&e.callbacks().triggerChar(n,this,i)}e.tribute.current.mentionText.length<e.tribute.current.collection.menuShowMinLength||((e.tribute.current.trigger||e.tribute.autocompleteMode)&&e.commandEvent===!1||e.tribute.isActive&&n.keyCode===8)&&e.tribute.showMenuFor(this,!0)}}shouldDeactivate(e){if(!this.tribute.isActive)return!1;if(this.tribute.current.mentionText.length===0){let n=!1;return fc.keys().forEach(a=>{e.keyCode===a.key&&(n=!0)}),!n}return!1}getKeyCode(e,n,a){let i=e.tribute,l=i.range.getTriggerInfo(!1,i.hasTrailingSpace,!0,i.allowSpaces,i.autocompleteMode);return l?l.mentionTriggerChar.charCodeAt(0):!1}updateSelection(e){this.tribute.current.element=e;let n=this.tribute.range.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);n&&(this.tribute.current.selectedPath=n.mentionSelectedPath,this.tribute.current.mentionText=n.mentionText,this.tribute.current.selectedOffset=n.mentionSelectedOffset)}callbacks(){return{triggerChar:(e,n,a)=>{let i=this.tribute;i.current.trigger=a;let l=i.collection.find(c=>c.trigger===a);i.current.collection=l,i.current.mentionText.length>=i.current.collection.menuShowMinLength&&i.inputEvent&&i.showMenuFor(n,!0)},enter:(e,n)=>{this.tribute.isActive&&this.tribute.current.filteredItems&&(e.preventDefault(),e.stopPropagation(),setTimeout(()=>{this.tribute.selectItemAtIndex(this.tribute.menuSelected,e),this.tribute.hideMenu()},0))},escape:(e,n)=>{this.tribute.isActive&&(e.preventDefault(),e.stopPropagation(),this.tribute.isActive=!1,this.tribute.hideMenu())},tab:(e,n)=>{this.callbacks().enter(e,n)},space:(e,n)=>{this.tribute.isActive&&(this.tribute.spaceSelectsMatch?this.callbacks().enter(e,n):this.tribute.allowSpaces||(e.stopPropagation(),setTimeout(()=>{this.tribute.hideMenu(),this.tribute.isActive=!1},0)))},up:(e,n)=>{if(this.tribute.isActive&&this.tribute.current.filteredItems){e.preventDefault(),e.stopPropagation();let a=this.tribute.current.filteredItems.length,i=this.tribute.menuSelected;a>i&&i>0?(this.tribute.menuSelected--,this.setActiveLi()):i===0&&(this.tribute.menuSelected=a-1,this.setActiveLi(),this.tribute.menu.scrollTop=this.tribute.menu.scrollHeight)}},down:(e,n)=>{if(this.tribute.isActive&&this.tribute.current.filteredItems){e.preventDefault(),e.stopPropagation();let a=this.tribute.current.filteredItems.length-1,i=this.tribute.menuSelected;a>i?(this.tribute.menuSelected++,this.setActiveLi()):a===i&&(this.tribute.menuSelected=0,this.setActiveLi(),this.tribute.menu.scrollTop=0)}},delete:(e,n)=>{this.tribute.isActive&&this.tribute.current.mentionText.length<1?this.tribute.hideMenu():this.tribute.isActive&&this.tribute.showMenuFor(n)}}}setActiveLi(e){let n=this.tribute.menu.querySelectorAll("li"),a=n.length>>>0;e&&(this.tribute.menuSelected=parseInt(e));for(let i=0;i<a;i++){let l=n[i];if(i===this.tribute.menuSelected){l.classList.add(this.tribute.current.collection.selectClass);let c=l.getBoundingClientRect(),u=this.tribute.menu.getBoundingClientRect();if(c.bottom>u.bottom){let f=c.bottom-u.bottom;this.tribute.menu.scrollTop+=f}else if(c.top<u.top){let f=u.top-c.top;this.tribute.menu.scrollTop-=f}}else l.classList.remove(this.tribute.current.collection.selectClass)}}getFullHeight(e,n){let a=e.getBoundingClientRect().height;if(n){let i=e.currentStyle||window.getComputedStyle(e);return a+parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return a}}class YO{constructor(e){this.tribute=e,this.tribute.menuEvents=this,this.menu=this.tribute.menu}bind(e){this.menuClickEvent=this.tribute.events.click.bind(null,this),this.menuContainerScrollEvent=this.debounce(()=>{this.tribute.isActive&&this.tribute.showMenuFor(this.tribute.current.element,!1)},300,!1),this.windowResizeEvent=this.debounce(()=>{this.tribute.isActive&&this.tribute.range.positionMenuAtCaret(!0)},300,!1),this.tribute.range.getDocument().addEventListener("MSPointerDown",this.menuClickEvent,!1),this.tribute.range.getDocument().addEventListener("mousedown",this.menuClickEvent,!1),window.addEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.addEventListener("scroll",this.menuContainerScrollEvent,!1):window.addEventListener("scroll",this.menuContainerScrollEvent)}unbind(e){this.tribute.range.getDocument().removeEventListener("mousedown",this.menuClickEvent,!1),this.tribute.range.getDocument().removeEventListener("MSPointerDown",this.menuClickEvent,!1),window.removeEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.removeEventListener("scroll",this.menuContainerScrollEvent,!1):window.removeEventListener("scroll",this.menuContainerScrollEvent)}debounce(e,n,a){var i;return()=>{var l=this,c=arguments,u=()=>{i=null,a||e.apply(l,c)},f=a&&!i;clearTimeout(i),i=setTimeout(u,n),f&&e.apply(l,c)}}}class ZO{constructor(e){this.tribute=e,this.tribute.range=this}getDocument(){let e;return this.tribute.current.collection&&(e=this.tribute.current.collection.iframe),e?e.contentWindow.document:document}positionMenuAtCaret(e){let n=this.tribute.current,a,i=this.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(typeof i<"u"){if(!this.tribute.positionMenu){this.tribute.menu.style.cssText="display: block;";return}this.isContentEditable(n.element)?a=this.getContentEditableCaretPosition(i.mentionPosition):a=this.getTextAreaOrInputUnderlinePosition(this.tribute.current.element,i.mentionPosition),this.tribute.menu.style.cssText=`top: ${a.top}px;
                                     left: ${a.left}px;
                                     right: ${a.right}px;
                                     bottom: ${a.bottom}px;
                                     position: absolute;
                                     display: block;`,a.left==="auto"&&(this.tribute.menu.style.left="auto"),a.top==="auto"&&(this.tribute.menu.style.top="auto"),e&&this.scrollIntoView(),window.setTimeout(()=>{let l={width:this.tribute.menu.offsetWidth,height:this.tribute.menu.offsetHeight},c=this.isMenuOffScreen(a,l),u=window.innerWidth>l.width&&(c.left||c.right),f=window.innerHeight>l.height&&(c.top||c.bottom);(u||f)&&(this.tribute.menu.style.cssText="display: none",this.positionMenuAtCaret(e))},0)}else this.tribute.menu.style.cssText="display: none"}get menuContainerIsBody(){return this.tribute.menuContainer===document.body||!this.tribute.menuContainer}selectElement(e,n,a){let i,l=e;if(n)for(var c=0;c<n.length;c++){if(l=l.childNodes[n[c]],l===void 0)return;for(;l.length<a;)a-=l.length,l=l.nextSibling;l.childNodes.length===0&&!l.length&&(l=l.previousSibling)}let u=this.getWindowSelection();i=this.getDocument().createRange(),i.setStart(l,a),i.setEnd(l,a),i.collapse(!0);try{u.removeAllRanges()}catch{}u.addRange(i),e.focus()}replaceTriggerText(e,n,a,i,l){let c=this.getTriggerInfo(!0,a,n,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(c!==void 0){let u=this.tribute.current,f=new CustomEvent("tribute-replaced",{detail:{item:l,instance:u,context:c,event:i}});if(this.isContentEditable(u.element)){let m=typeof this.tribute.replaceTextSuffix=="string"?this.tribute.replaceTextSuffix:" ";e+=m;let h=c.mentionPosition+c.mentionText.length;this.tribute.autocompleteMode||(h+=c.mentionTriggerChar.length),this.pasteHtml(e,c.mentionPosition,h)}else{let m=this.tribute.current.element,h=typeof this.tribute.replaceTextSuffix=="string"?this.tribute.replaceTextSuffix:" ";e+=h;let y=c.mentionPosition,v=c.mentionPosition+c.mentionText.length+h.length;this.tribute.autocompleteMode||(v+=c.mentionTriggerChar.length-1),m.value=m.value.substring(0,y)+e+m.value.substring(v,m.value.length),m.selectionStart=y+e.length,m.selectionEnd=y+e.length}u.element.dispatchEvent(new CustomEvent("input",{bubbles:!0})),u.element.dispatchEvent(f)}}pasteHtml(e,n,a){let i,l;l=this.getWindowSelection(),i=this.getDocument().createRange(),i.setStart(l.anchorNode,n),i.setEnd(l.anchorNode,a),i.deleteContents();let c=this.getDocument().createElement("div");c.innerHTML=e;let u=this.getDocument().createDocumentFragment(),f,m;for(;f=c.firstChild;)m=u.appendChild(f);i.insertNode(u),m&&(i=i.cloneRange(),i.setStartAfter(m),i.collapse(!0),l.removeAllRanges(),l.addRange(i))}getWindowSelection(){return this.tribute.collection.iframe?this.tribute.collection.iframe.contentWindow.getSelection():window.getSelection()}getNodePositionInParent(e){if(e.parentNode===null)return 0;for(var n=0;n<e.parentNode.childNodes.length;n++)if(e.parentNode.childNodes[n]===e)return n}getContentEditableSelectedPath(e){let n=this.getWindowSelection(),a=n.anchorNode,i=[],l;if(a!=null){let c,u=a.contentEditable;for(;a!==null&&u!=="true";)c=this.getNodePositionInParent(a),i.push(c),a=a.parentNode,a!==null&&(u=a.contentEditable);return i.reverse(),l=n.getRangeAt(0).startOffset,{selected:a,path:i,offset:l}}}getTextPrecedingCurrentSelection(){let e=this.tribute.current,n="";if(this.isContentEditable(e.element)){let a=this.getWindowSelection().anchorNode;if(a!=null){let i=a.textContent,l=this.getWindowSelection().getRangeAt(0).startOffset;i&&l>=0&&(n=i.substring(0,l))}}else{let a=this.tribute.current.element;if(a){let i=a.selectionStart;a.value&&i>=0&&(n=a.value.substring(0,i))}}return n}getLastWordInText(e){e=e.replace(/\u00A0/g," ");let n=e.split(/\s+/),a=n.length-1;return n[a].trim()}getTriggerInfo(e,n,a,i,l){let c=this.tribute.current,u,f,m;if(!this.isContentEditable(c.element))u=this.tribute.current.element;else{let v=this.getContentEditableSelectedPath(c);v&&(u=v.selected,f=v.path,m=v.offset)}let h=this.getTextPrecedingCurrentSelection(),y=this.getLastWordInText(h);if(l)return{mentionPosition:h.length-y.length,mentionText:y,mentionSelectedElement:u,mentionSelectedPath:f,mentionSelectedOffset:m};if(h!=null){let v=-1,b;if(this.tribute.collection.forEach(x=>{let S=x.trigger,_=x.requireLeadingSpace?this.lastIndexWithLeadingSpace(h,S):h.lastIndexOf(S);_>v&&(v=_,b=S,a=x.requireLeadingSpace)}),v>=0&&(v===0||!a||/[\xA0\s]/g.test(h.substring(v-1,v)))){let x=h.substring(v+b.length,h.length);b=h.substring(v,v+b.length);let S=x.substring(0,1),_=x.length>0&&(S===" "||S===" ");n&&(x=x.trim());let R=i?/[^\S ]/g:/[\xA0\s]/g;if(this.tribute.hasTrailingSpace=R.test(x),!_&&(e||!R.test(x)))return{mentionPosition:v,mentionText:x,mentionSelectedElement:u,mentionSelectedPath:f,mentionSelectedOffset:m,mentionTriggerChar:b}}}}lastIndexWithLeadingSpace(e,n){let a=e.split("").reverse().join(""),i=-1;for(let l=0,c=e.length;l<c;l++){let u=l===e.length-1,f=/\s/.test(a[l+1]),m=!0;for(let h=n.length-1;h>=0;h--)if(n[h]!==a[l-h]){m=!1;break}if(m&&(u||f)){i=e.length-1-l;break}}return i}isContentEditable(e){return e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"}isMenuOffScreen(e,n){let a=window.innerWidth,i=window.innerHeight,l=document.documentElement,c=(window.pageXOffset||l.scrollLeft)-(l.clientLeft||0),u=(window.pageYOffset||l.scrollTop)-(l.clientTop||0),f=typeof e.top=="number"?e.top:u+i-e.bottom-n.height,m=typeof e.right=="number"?e.right:e.left+n.width,h=typeof e.bottom=="number"?e.bottom:e.top+n.height,y=typeof e.left=="number"?e.left:c+a-e.right-n.width;return{top:f<Math.floor(u),right:m>Math.ceil(c+a),bottom:h>Math.ceil(u+i),left:y<Math.floor(c)}}getMenuDimensions(){let e={width:null,height:null};return this.tribute.menu.style.cssText=`top: 0px;
                                 left: 0px;
                                 position: fixed;
                                 display: block;
                                 visibility; hidden;`,e.width=this.tribute.menu.offsetWidth,e.height=this.tribute.menu.offsetHeight,this.tribute.menu.style.cssText="display: none;",e}getTextAreaOrInputUnderlinePosition(e,n,a){let i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],l=window.mozInnerScreenX!==null,c=this.getDocument().createElement("div");c.id="input-textarea-caret-position-mirror-div",this.getDocument().body.appendChild(c);let u=c.style,f=window.getComputedStyle?getComputedStyle(e):e.currentStyle;u.whiteSpace="pre-wrap",e.nodeName!=="INPUT"&&(u.wordWrap="break-word"),u.position="absolute",u.visibility="hidden",i.forEach(D=>{u[D]=f[D]}),l?(u.width=`${parseInt(f.width)-2}px`,e.scrollHeight>parseInt(f.height)&&(u.overflowY="scroll")):u.overflow="hidden",c.textContent=e.value.substring(0,n),e.nodeName==="INPUT"&&(c.textContent=c.textContent.replace(/\s/g," "));let m=this.getDocument().createElement("span");m.textContent=e.value.substring(n)||".",c.appendChild(m);let h=e.getBoundingClientRect(),y=document.documentElement,v=(window.pageXOffset||y.scrollLeft)-(y.clientLeft||0),b=(window.pageYOffset||y.scrollTop)-(y.clientTop||0),x=0,S=0;this.menuContainerIsBody&&(x=h.top,S=h.left);let _={top:x+b+m.offsetTop+parseInt(f.borderTopWidth)+parseInt(f.fontSize)-e.scrollTop,left:S+v+m.offsetLeft+parseInt(f.borderLeftWidth)},R=window.innerWidth,L=window.innerHeight,U=this.getMenuDimensions(),X=this.isMenuOffScreen(_,U);X.right&&(_.right=R-_.left,_.left="auto");let ee=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(X.bottom){let D=this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect(),j=ee-(L-D.top);_.bottom=j+(L-h.top-m.offsetTop),_.top="auto"}return X=this.isMenuOffScreen(_,U),X.left&&(_.left=R>U.width?v+R-U.width:v,delete _.right),X.top&&(_.top=L>U.height?b+L-U.height:b,delete _.bottom),this.getDocument().body.removeChild(c),_}getContentEditableCaretPosition(e){let n,a=this.getWindowSelection();n=this.getDocument().createRange(),n.setStart(a.anchorNode,e),n.setEnd(a.anchorNode,e),n.collapse(!1);let i=n.getBoundingClientRect(),l=document.documentElement,c=(window.pageXOffset||l.scrollLeft)-(l.clientLeft||0),u=(window.pageYOffset||l.scrollTop)-(l.clientTop||0),f=i.left,m=i.top,h={left:f+c,top:m+i.height+u},y=window.innerWidth,v=window.innerHeight,b=this.getMenuDimensions(),x=this.isMenuOffScreen(h,b);x.right&&(h.left="auto",h.right=y-i.left-c);let S=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(x.bottom){let _=this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect(),R=S-(v-_.top);h.top="auto",h.bottom=R+(v-i.top)}return x=this.isMenuOffScreen(h,b),x.left&&(h.left=y>b.width?c+y-b.width:c,delete h.right),x.top&&(h.top=v>b.height?u+v-b.height:u,delete h.bottom),this.menuContainerIsBody||(h.left=h.left?h.left-this.tribute.menuContainer.offsetLeft:h.left,h.top=h.top?h.top-this.tribute.menuContainer.offsetTop:h.top),h}scrollIntoView(e){let n=20,a,i=100,l=this.menu;if(typeof l>"u")return;for(;a===void 0||a.height===0;)if(a=l.getBoundingClientRect(),a.height===0&&(l=l.childNodes[0],l===void 0||!l.getBoundingClientRect))return;let c=a.top,u=c+a.height;if(c<0)window.scrollTo(0,window.pageYOffset+a.top-n);else if(u>window.innerHeight){let f=window.pageYOffset+a.top-n;f-window.pageYOffset>i&&(f=window.pageYOffset+i);let m=window.pageYOffset-(window.innerHeight-u);m>f&&(m=f),window.scrollTo(0,m)}}}class JO{constructor(e){this.tribute=e,this.tribute.search=this}simpleFilter(e,n){return n.filter(a=>this.test(e,a))}test(e,n){return this.match(e,n)!==null}match(e,n,a){a=a||{},n.length;let i=a.pre||"",l=a.post||"",c=a.caseSensitive&&n||n.toLowerCase();if(a.skip)return{rendered:n,score:0};e=a.caseSensitive&&e||e.toLowerCase();let u=this.traverse(c,e,0,0,[]);return u?{rendered:this.render(n,u.cache,i,l),score:u.score}:null}traverse(e,n,a,i,l){if(n.length===i)return{score:this.calculateScore(l),cache:l.slice()};if(e.length===a||n.length-i>e.length-a)return;let c=n[i],u=e.indexOf(c,a),f,m;for(;u>-1;){if(l.push(u),m=this.traverse(e,n,u+1,i+1,l),l.pop(),!m)return f;(!f||f.score<m.score)&&(f=m),u=e.indexOf(c,u+1)}return f}calculateScore(e){let n=0,a=1;return e.forEach((i,l)=>{l>0&&(e[l-1]+1===i?a+=a+1:a=1),n+=a}),n}render(e,n,a,i){var l=e.substring(0,n[0]);return n.forEach((c,u)=>{l+=a+e[c]+i+e.substring(c+1,n[u+1]?n[u+1]:e.length)}),l}filter(e,n,a){return a=a||{},n.reduce((i,l,c,u)=>{let f=l;a.extract&&(f=a.extract(l),f||(f=""));let m=this.match(e,f,a);return m!=null&&(i[i.length]={string:m.rendered,score:m.score,index:c,original:l}),i},[]).sort((i,l)=>{let c=l.score-i.score;return c||i.index-l.index})}}class ta{constructor({values:e=null,iframe:n=null,selectClass:a="highlight",containerClass:i="tribute-container",itemClass:l="",trigger:c="@",autocompleteMode:u=!1,selectTemplate:f=null,menuItemTemplate:m=null,lookup:h="key",fillAttr:y="value",collection:v=null,menuContainer:b=null,noMatchTemplate:x=null,requireLeadingSpace:S=!0,allowSpaces:_=!1,replaceTextSuffix:R=null,positionMenu:L=!0,spaceSelectsMatch:U=!1,searchOpts:X={},menuItemLimit:ee=null,menuShowMinLength:D=0}){if(this.autocompleteMode=u,this.menuSelected=0,this.current={},this.inputEvent=!1,this.isActive=!1,this.menuContainer=b,this.allowSpaces=_,this.replaceTextSuffix=R,this.positionMenu=L,this.hasTrailingSpace=!1,this.spaceSelectsMatch=U,this.autocompleteMode&&(c="",_=!1),e)this.collection=[{trigger:c,iframe:n,selectClass:a,containerClass:i,itemClass:l,selectTemplate:(f||ta.defaultSelectTemplate).bind(this),menuItemTemplate:(m||ta.defaultMenuItemTemplate).bind(this),noMatchTemplate:(j=>typeof j=="string"?j.trim()===""?null:j:typeof j=="function"?j.bind(this):x||function(){return"<li>No Match Found!</li>"}.bind(this))(x),lookup:h,fillAttr:y,values:e,requireLeadingSpace:S,searchOpts:X,menuItemLimit:ee,menuShowMinLength:D}];else if(v)this.autocompleteMode&&console.warn("Tribute in autocomplete mode does not work for collections"),this.collection=v.map(j=>({trigger:j.trigger||c,iframe:j.iframe||n,selectClass:j.selectClass||a,containerClass:j.containerClass||i,itemClass:j.itemClass||l,selectTemplate:(j.selectTemplate||ta.defaultSelectTemplate).bind(this),menuItemTemplate:(j.menuItemTemplate||ta.defaultMenuItemTemplate).bind(this),noMatchTemplate:(P=>typeof P=="string"?P.trim()===""?null:P:typeof P=="function"?P.bind(this):x||function(){return"<li>No Match Found!</li>"}.bind(this))(x),lookup:j.lookup||h,fillAttr:j.fillAttr||y,values:j.values,requireLeadingSpace:j.requireLeadingSpace,searchOpts:j.searchOpts||X,menuItemLimit:j.menuItemLimit||ee,menuShowMinLength:j.menuShowMinLength||D}));else throw new Error("[Tribute] No collection specified.");new ZO(this),new fc(this),new YO(this),new JO(this)}get isActive(){return this._isActive}set isActive(e){if(this._isActive!=e&&(this._isActive=e,this.current.element)){let n=new CustomEvent(`tribute-active-${e}`);this.current.element.dispatchEvent(n)}}static defaultSelectTemplate(e){return typeof e>"u"?`${this.current.collection.trigger}${this.current.mentionText}`:this.range.isContentEditable(this.current.element)?'<span class="tribute-mention">'+(this.current.collection.trigger+e.original[this.current.collection.fillAttr])+"</span>":this.current.collection.trigger+e.original[this.current.collection.fillAttr]}static defaultMenuItemTemplate(e){return e.string}static inputTypes(){return["TEXTAREA","INPUT"]}triggers(){return this.collection.map(e=>e.trigger)}attach(e){if(!e)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if(typeof jQuery<"u"&&e instanceof jQuery&&(e=e.get()),e.constructor===NodeList||e.constructor===HTMLCollection||e.constructor===Array){let a=e.length;for(var n=0;n<a;++n)this._attach(e[n])}else this._attach(e)}_attach(e){e.hasAttribute("data-tribute")&&console.warn("Tribute was already bound to "+e.nodeName),this.ensureEditable(e),this.events.bind(e),e.setAttribute("data-tribute",!0)}ensureEditable(e){if(ta.inputTypes().indexOf(e.nodeName)===-1)if(e.contentEditable)e.contentEditable=!0;else throw new Error("[Tribute] Cannot bind to "+e.nodeName)}createMenu(e){let n=this.range.getDocument().createElement("div"),a=this.range.getDocument().createElement("ul");return n.className=e,n.appendChild(a),this.menuContainer?this.menuContainer.appendChild(n):this.range.getDocument().body.appendChild(n)}showMenuFor(e,n){if(this.isActive&&this.current.element===e&&this.current.mentionText===this.currentMentionTextSnapshot)return;this.currentMentionTextSnapshot=this.current.mentionText,this.menu||(this.menu=this.createMenu(this.current.collection.containerClass),e.tributeMenu=this.menu,this.menuEvents.bind(this.menu)),this.isActive=!0,this.menuSelected=0,this.current.mentionText||(this.current.mentionText="");const a=i=>{if(!this.isActive)return;let l=this.search.filter(this.current.mentionText,i,{pre:this.current.collection.searchOpts.pre||"<span>",post:this.current.collection.searchOpts.post||"</span>",skip:this.current.collection.searchOpts.skip,extract:f=>{if(typeof this.current.collection.lookup=="string")return f[this.current.collection.lookup];if(typeof this.current.collection.lookup=="function")return this.current.collection.lookup(f,this.current.mentionText);throw new Error("Invalid lookup attribute, lookup must be string or function.")}});this.current.collection.menuItemLimit&&(l=l.slice(0,this.current.collection.menuItemLimit)),this.current.filteredItems=l;let c=this.menu.querySelector("ul");if(this.range.positionMenuAtCaret(n),!l.length){let f=new CustomEvent("tribute-no-match",{detail:this.menu});this.current.element.dispatchEvent(f),typeof this.current.collection.noMatchTemplate=="function"&&!this.current.collection.noMatchTemplate()||!this.current.collection.noMatchTemplate?this.hideMenu():typeof this.current.collection.noMatchTemplate=="function"?c.innerHTML=this.current.collection.noMatchTemplate():c.innerHTML=this.current.collection.noMatchTemplate;return}c.innerHTML="";let u=this.range.getDocument().createDocumentFragment();l.forEach((f,m)=>{let h=this.range.getDocument().createElement("li");h.setAttribute("data-index",m),h.className=this.current.collection.itemClass,h.addEventListener("mousemove",y=>{let[v,b]=this._findLiTarget(y.target);y.movementY!==0&&this.events.setActiveLi(b)}),this.menuSelected===m&&h.classList.add(this.current.collection.selectClass),h.innerHTML=this.current.collection.menuItemTemplate(f),u.appendChild(h)}),c.appendChild(u)};typeof this.current.collection.values=="function"?this.current.collection.values(this.current.mentionText,a):a(this.current.collection.values)}_findLiTarget(e){if(!e)return[];const n=e.getAttribute("data-index");return n?[e,n]:this._findLiTarget(e.parentNode)}showMenuForCollection(e,n){e!==document.activeElement&&this.placeCaretAtEnd(e),this.current.collection=this.collection[n||0],this.current.externalTrigger=!0,this.current.element=e,e.isContentEditable?this.insertTextAtCursor(this.current.collection.trigger):this.insertAtCaret(e,this.current.collection.trigger),this.showMenuFor(e)}placeCaretAtEnd(e){if(e.focus(),typeof window.getSelection<"u"&&typeof document.createRange<"u"){var n=document.createRange();n.selectNodeContents(e),n.collapse(!1);var a=window.getSelection();a.removeAllRanges(),a.addRange(n)}else if(typeof document.body.createTextRange<"u"){var i=document.body.createTextRange();i.moveToElementText(e),i.collapse(!1),i.select()}}insertTextAtCursor(e){var n,a;n=window.getSelection(),a=n.getRangeAt(0),a.deleteContents();var i=document.createTextNode(e);a.insertNode(i),a.selectNodeContents(i),a.collapse(!1),n.removeAllRanges(),n.addRange(a)}insertAtCaret(e,n){var a=e.scrollTop,i=e.selectionStart,l=e.value.substring(0,i),c=e.value.substring(e.selectionEnd,e.value.length);e.value=l+n+c,i=i+n.length,e.selectionStart=i,e.selectionEnd=i,e.focus(),e.scrollTop=a}hideMenu(){this.menu&&(this.menu.style.cssText="display: none;",this.isActive=!1,this.menuSelected=0,this.current={})}selectItemAtIndex(e,n){if(e=parseInt(e),typeof e!="number"||isNaN(e))return;let a=this.current.filteredItems[e],i=this.current.collection.selectTemplate(a);i!==null&&this.replaceText(i,n,a)}replaceText(e,n,a){this.range.replaceTriggerText(e,!0,!0,n,a)}_append(e,n,a){if(typeof e.values=="function")throw new Error("Unable to append to values, as it is a function.");a?e.values=n:e.values=e.values.concat(n)}append(e,n,a){let i=parseInt(e);if(typeof i!="number")throw new Error("please provide an index for the collection to update.");let l=this.collection[i];this._append(l,n,a)}appendCurrent(e,n){if(this.isActive)this._append(this.current.collection,e,n);else throw new Error("No active state. Please use append instead and pass an index.")}detach(e){if(!e)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if(typeof jQuery<"u"&&e instanceof jQuery&&(e=e.get()),e.constructor===NodeList||e.constructor===HTMLCollection||e.constructor===Array){let a=e.length;for(var n=0;n<a;++n)this._detach(e[n])}else this._detach(e)}_detach(e){this.events.unbind(e),e.tributeMenu&&this.menuEvents.unbind(e.tributeMenu),setTimeout(()=>{e.removeAttribute("data-tribute"),this.isActive=!1,e.tributeMenu&&e.tributeMenu.remove()})}}const eR=window.React.memo,Ab=window.React.useCallback,tR=window.React.useEffect,ec=window.React.useMemo,Ib="display",nR={selectClass:W.TRIBUTE_SELECTED,containerClass:W.TRIBUTE,lookup:Ib,menuShowMinLength:1,menuItemLimit:25,menuItemTemplate:t=>{const{itemType:e,display:n}=t.original;return`
        <span data-item-type="${e}"></span>
        <span class="${W.TRIBUTE_DETAILS}">${n}</span>
        `},noMatchTemplate:function(){return'<span style:"visibility: hidden;"></span>'},requireLeadingSpace:!0,selectTemplate:t=>t.original.value,searchOpts:{pre:"<span>",post:"</span>",skip:!0}},rR=(t,e="citekey",n="citekey")=>{const a=Ab(c=>c.data?c.data.filter(sv).sort((u,f)=>u.data.dateModified>f.data.dateModified?-1:1).map(u=>({key:u.key,itemType:u.data.itemType,source:"zotero",value:zd(u,e,{accent_class:W.TEXT_ACCENT_1})||u.key,display:zd(u,n,{accent_class:W.TEXT_ACCENT_1})||u.key})):[],[n,e]),i=ro(t,{select:a,notifyOnChangeProps:["data"]});return ec(()=>i.map(c=>c.data||[]).flat(1),[i])},oR=eR(function(){const[{dataRequests:e}]=cr(),[{trigger:n,display_char:a,display_use:i="preset",display:l="citekey",format_char:c,format_use:u="preset",format:f="citation"}]=bv(),m=ec(()=>i=="preset"?l:a,[l,a,i]),h=ec(()=>u=="preset"?f:c,[f,c,u]),y=rR(e,h,m)||[],v=ec(()=>({trigger:n,...nR,values:(x,S)=>{S(y.filter(_=>_[Ib].toLowerCase().includes(x.toLowerCase())))}}),[y,n]),b=Ab(()=>{const x=document.querySelector("textarea.rm-block-input");if(!x||x.getAttribute("zotero-tribute")!=null)return;document.querySelectorAll(`.${W.TRIBUTE}`).forEach(_=>_.remove()),x.setAttribute("zotero-tribute","active"),new ta(v).attach(x),x.addEventListener("tribute-replaced",_=>{if(_.detail.item.original.source=="zotero"){const L=_.detail.context.mentionTriggerChar+_.detail.context.mentionText,U=_.detail.context.mentionPosition,X=_.detail.item.original.value,ee=_.target.defaultValue,D=Bd(L),j=new RegExp(D,"g"),P=ee.replaceAll(j,(me,ge)=>ge==U?X:me);Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value").set.call(x,P);const fe=new Event("input",{bubbles:!0});x.dispatchEvent(fe)}})},[v]);return tR(()=>{const x=new MutationObserver(b);return x.observe(document,{childList:!0,subtree:!0}),()=>{x.disconnect();try{document.querySelector(`.${W.TRIBUTE}`).remove()}catch{}}},[b]),null});const jb=window.React.memo,Ao=window.React.useCallback,Ng=window.React.useEffect,tc=window.React.useMemo,hd=window.React.useState,aR=window.ReactDOM.createPortal,iR=window.Blueprint.Core.Classes,sR=window.Blueprint.Core.Menu,md=window.Blueprint.Core.MenuDivider,ts=window.Blueprint.Core.MenuItem,lR=window.Blueprint.Core.Overlay,cR=1e3,uR=t=>{const e=Ao(i=>{if(i.data){const l=ca(i.data);return l.items.map(c=>{const u=c.data.url,f=Ts(c.data.DOI),m=u?{href:u,title:u}:f?{href:"https://doi/org/"+f,title:f}:!1,h=c.library.type+"s/"+c.library.id,y=ua(c.data.key,h,{pdfs:l.pdfs,notes:l.notes});return["@"+c.key,{citation:zd(c,"inline")||"@"+c.key,data:{children:y,location:h,raw:c,weblink:m,zotero:{local:Es(c,{format:"target"}),web:Ss(c,{format:"target"})}}}]})}else return[]},[]),n=ro(t,{notifyOnChangeProps:["data"],select:e}),a=tc(()=>n.map(i=>i.data||[]).flat(1),[n]);return new Map(a)},dR=jb(function(e){const{coords:n,isOpen:a,itemsMap:i,onClose:l,target:c}=e,[u]=ks(),[f]=_c(),[m]=si(),[h]=li(),[y,{on:v,off:b}]=Pt(!1),x=c?.parentElement?.dataset.linkTitle,S=c?.parentElement?.dataset.linkUid||!1,_=tc(()=>x?i.get(x).data:null,[x,i]),R=Ao(()=>{setTimeout(()=>{try{document.querySelector("body > .bp3-context-menu+.bp3-portal").style.display="none"}catch{}},100)},[]),L=Ao(()=>{if(_){const{pdfs:D=[],notes:j=[]}=_.children;kc({item:_.raw,pdfs:D,notes:j},S,f,h,m,u),l()}},[u,_,f,m,l,S,h]),U=Ao(()=>{b(),l()},[l,b]),X=tc(()=>{if(!_||_.children.pdfs.length==0)return null;{const D=_.location.startsWith("groups/")?_.location:"library";return d.jsxs(d.Fragment,{children:[d.jsx(md,{title:"PDF Attachments"}),_.children.pdfs.map((j,P)=>{const q=["linked_file","imported_file","imported_url"].includes(j.data.linkMode)?`zotero://open-pdf/${D}/items/${j.data.key}`:j.data.url;return d.jsx(ts,{className:"zr-context-menu--option",href:q,icon:"paperclip",rel:"noreferrer",target:"_blank",text:j.data.filename||j.data.title},P)})]})}},[_]),ee=tc(()=>!_||_.children.notes.length==0?null:d.jsxs(d.Fragment,{children:[d.jsx(md,{}),d.jsx(ts,{className:"zr-context-menu--option",icon:"comment",text:"Show notes",onClick:v,shouldDismissPopover:!1}),d.jsx(Nc,{isOpen:y,notes:_.children.notes,onClose:U})]}),[U,y,_,v]);return d.jsx(lR,{isOpen:a,hasBackdrop:!1,lazy:!1,onClose:l,onOpening:R,usePortal:!1,children:d.jsx("div",{className:["zr-context-menu--wrapper",iR.POPOVER].join(" "),style:n,children:d.jsxs(sR,{className:"zr-context-menu",children:[d.jsx(ts,{className:"zr-context-menu--option",icon:"add",text:"Import metadata",intent:"primary",onClick:L}),d.jsx(md,{}),_&&d.jsx(ts,{className:"zr-context-menu-option",icon:"application",text:"Open in Zotero",href:_.zotero.local}),_&&d.jsx(ts,{className:"zr-context-menu-option",icon:"cloud",text:"Open in Zotero (web)",href:_.zotero.web}),X,ee]})})})}),fR=jb(function(){const{portalId:e}=Lc(),[{dataRequests:n}]=cr(),[{render_inline:a}]=wv(),[i,l]=hd(!1),[c,u]=hd({left:0,top:0}),[f,m]=hd(null),h=uR(n),y=Ao(S=>{S.preventDefault();const{pageX:_,pageY:R,target:L}=S;u({left:_,top:R}),m(L),l(!0)},[]),v=Ao(()=>{l(!1),m(null)},[]),b=Ao(()=>{const S=document.querySelectorAll("span[data-link-title^='@']");for(let _=0;_<S.length;_++){const R=S[_],L=R.getElementsByClassName("rm-page-ref")[0],U=R.getAttribute("data-link-title"),X=R.getAttribute("data-in-library"),ee=h.has(U).toString();if(!(X!=null&&X==ee)){if(R.setAttribute("data-in-library",ee),X==null&&ee=="false")continue;ee=="true"?(a==!0&&(L.textContent=h.get(U).citation),L.addEventListener("contextmenu",y)):(L.textContent=U,L.removeEventListener("contextmenu",y))}}},[h,a,y]),x=Ao(()=>{document.querySelectorAll("span[data-link-title^='@'][data-in-library]").forEach(_=>{_.removeAttribute("data-in-library");const R=_.getElementsByClassName("rm-page-ref")[0];R.textContent=_.getAttribute("data-link-title"),R.removeEventListener("contextmenu",y)})},[y]);return Ng(()=>{const S=setInterval(()=>{b()},cR);return function(){clearInterval(S),x()}},[b,x]),Ng(()=>{document.querySelectorAll("span[data-link-title^='@'][data-in-library]").forEach(_=>{const R=_.getElementsByClassName("rm-page-ref")[0],L=_.getAttribute("data-link-title"),U=_.getAttribute("data-in-library")=="true";R.textContent=U?h.get(L).citation:L})},[a,h]),aR(d.jsx(dR,{coords:c,isOpen:i,itemsMap:h,onClose:v,target:f}),document.getElementById(e))}),pR=fR;const hR=window.Blueprint.Core.Tag,cs=({action:t,text:e})=>d.jsx(hR,{className:"zr-shortcut-sequence",htmlTitle:"Press "+e+" to "+t,minimal:!0,children:e});function tf(t,e){const{authors:n,key:a,title:i,year:l}=t,{preset:c,template:u,useAsDefault:f}=e;switch(f){case"template":{let m=u;const h={authors:n,key:a,title:i,year:l};for(const y in h)m=m.replaceAll(`{{${y}}}`,`${h[y]}`);return m}case"preset":default:return mR(t,c)}}function mR(t,e){const n=t.key,a="[[@"+n+"]]";switch(!0){case e=="page-reference":return a;case e=="raw":return n;case e=="tag":return"#"+a;case e=="citation":return"["+t.authors+" ("+t.year+")]("+a+")";case e=="citekey":default:return"@"+n}}const gR=window.React.memo,us=window.React.useCallback,vn=window.React.useMemo,yR=window.Blueprint.Core.Classes,vR=window.Blueprint.Core.Menu,Lg=window.Blueprint.Core.MenuDivider,sr=window.Blueprint.Core.MenuItem,nf=window.Blueprint.Core.Tag,Pb=window.Blueprint.Core.useHotkeys,bR={popoverClassName:W.POPOVER},rs=(t,e,n)=>{const a="[[@"+t+"]]";switch(e){case"page-reference":return a;case"tag":return"#"+a;case"citation":return"["+n.authors+" ("+n.year+")]("+a+")";case"citekey":default:return"@"+t}};function wR(t){const{citekey:e,format:n,item:a}=t,[i]=Ac(),l=vn(()=>Rc(i),[i]),c=vn(()=>rs(e,n,a),[e,n,a]),u=us(()=>Ro(c),[c]),f=vn(()=>{const m={citation:{action:"copy as citation",command:"copyCitation"},citekey:{action:"copy as citekey",command:"copyCitekey"},"page-reference":{action:"copy as page reference",command:"copyPageRef"},tag:{action:"copy as tag",command:"copyTag"}};if(m[n]){const{action:h,command:y}=m[n];if(l[y]!=="")return d.jsx(cs,{action:h,text:l[y]})}return null},[n,l]);return d.jsx(sr,{htmlTitle:c,labelElement:f,onClick:u,text:c})}function xR(t){const{citekey:e,item:n}=t,[a]=Rf(),[i]=Ac(),l=vn(()=>Rc(i),[i]),c=vn(()=>tf(n,a),[a,n]),u=us(()=>{Ro(c)},[c]),f=vn(()=>{let y=["citation","citekey","page-reference","tag"];return a.useAsDefault=="preset"&&(y=y.filter(v=>v!=a.preset)),d.jsxs(d.Fragment,{children:[d.jsx(sr,{htmlTitle:c,labelElement:d.jsx(nf,{intent:"success",minimal:!0,children:"Default"}),onClick:u,text:c}),y.map(v=>d.jsx(wR,{citekey:e,format:v,item:n},v))]})},[e,u,a,c,n]),m=vn(()=>{const y=l.copyDefault||"";return y!==""?d.jsx(cs,{action:"copy as default",text:y}):null},[l]),h=vn(()=>{const y={allowInInput:!1,global:!0,preventDefault:!0,stopPropagation:!0},v={copyDefault:{label:"Copy the item in view (default format)",onKeyDown:()=>u()},copyCitation:{label:"Copy the item in view (as citation)",onKeyDown:()=>Ro(rs(e,"citation",n))},copyCitekey:{label:"Copy the item in view (as citekey)",onKeyDown:()=>Ro(rs(e,"citekey",n))},copyPageRef:{label:"Copy the item in view (as page reference)",onKeyDown:()=>Ro(rs(e,"page-reference",n))},copyTag:{label:"Copy the item in view (as page reference)",onKeyDown:()=>Ro(rs(e,"tag",n))}};return Object.keys(v).map(b=>{const x=l[b]||"";return x!==""?{...y,...v[b],combo:x}:!1}).filter(Bt)},[e,u,n,l]);return Pb(h,{showDialogKeyCombo:"shift+Z+R"}),d.jsx(sr,{icon:"clipboard",labelElement:m,multiline:!0,onClick:u,popoverProps:bR,text:"Copy reference",children:f})}const Ul=({direction:t="row",label:e,children:n})=>d.jsxs("div",{"zr-role":"metadata-"+t,children:[d.jsx("span",{className:W.TEXT_AUXILIARY,children:e}),d.jsx("div",{children:n})]}),Nb=gR(function({closeDialog:e,item:n}){const{abstract:a,authors:i,authorsFull:l,authorsRoles:c,children:u,createdByUser:f,inGraph:m,key:h,publication:y,raw:v,tags:b,title:x,weblink:S,year:_,zotero:R}=n,[L,{toggle:U,on:X,off:ee}]=Pt(!1),[D,{on:j,off:P}]=Pt(!1),[q]=ks(),[fe]=_c(),[me]=si(),[ge]=Ac(),ye=vn(()=>Rc(ge),[ge]),[Y]=li(),[,be]=Do(),se=us(async()=>{const{pdfs:G=[],notes:ue=[]}=u,ae=await kc({item:n.raw,pdfs:G,notes:ue},m,fe,Y,me,q);return ae.success&&be(),ae},[q,u,m,n.raw,fe,me,Y,be]),we=us(async()=>{const G=await _v({item:n.raw,notes:u.notes},m,me,q);return G.success&&be(),G},[q,u.notes,m,n,me,be]),ze=us(()=>{m!=!1&&(qd(m),e())},[e,m]),Ke=vn(()=>{const G=ye.goToItemPage||"",ue=G!==""?d.jsx(cs,{action:"go to the item's page",text:G}):null;return m?d.jsx(sr,{icon:"arrow-right",labelElement:ue,onClick:ze,text:"Go to Roam page"}):null},[m,ze,ye]),Le=vn(()=>{const G=ye.importMetadata||"",ue=G!==""?d.jsx(cs,{action:"import the item's metadata",text:G}):null;return d.jsx(sr,{icon:"add",labelElement:ue,onClick:se,text:"Import metadata"})},[se,ye]),Je=vn(()=>{if(u.pdfs.length==0)return null;{const G=u.pdfs[0],ue=G.library.type=="group"?`groups/${G.library.id}`:"library";return u.pdfs.map(ae=>{const K=["linked_file","imported_file","imported_url"].includes(ae.data.linkMode)?`zotero://open-pdf/${ue}/items/${ae.data.key}`:ae.data.url;return d.jsx(sr,{href:K,icon:"paperclip",multiline:!0,rel:"noreferrer",target:"_blank",text:ae.data.filename||ae.data.title},ae.key)})}},[u.pdfs]),ft=vn(()=>{if(u.notes.length==0)return null;{const G=ye.toggleNotes||"",ue=G!==""?d.jsx(cs,{action:"toggle the notes panel",text:G}):null;return d.jsxs(d.Fragment,{children:[d.jsx(sr,{icon:"highlight",labelElement:ue,onClick:X,text:"Highlights & Notes"}),d.jsx(Nc,{isOpen:L,notes:u.notes,onClose:ee})]})}},[u.notes,ee,L,ye,X]),I=vn(()=>d.jsxs(d.Fragment,{children:[d.jsx(sr,{icon:"eye-open",onClick:j,text:"View raw metadata"}),d.jsx(Uf,{item:n.raw,isOpen:D,onClose:P})]}),[P,n.raw,D,j]),M=vn(()=>{const G={allowInInput:!1,global:!0,preventDefault:!0,stopPropagation:!0},ue={goToItemPage:{disabled:!m,label:"Go to the item's Roam page",onKeyDown:()=>ze()},importMetadata:{label:"Import the item's metadata to Roam",onKeyDown:()=>se()},toggleNotes:{disabled:u.notes.length==0,label:"Show the item's linked notes",onKeyDown:()=>U()}};return Object.keys(ue).map(ae=>{const K=ye[ae]||"";return K!==""?{...G,...ue[ae],combo:K}:!1}).filter(Bt)},[u.notes,se,m,ze,ye,U]);return Pb(M,{showDialogKeyCombo:"shift+Z+R"}),d.jsx("div",{id:"zr-item-details",children:d.jsxs(Mn,{children:[d.jsxs("div",{"zr-role":"item-metadata",children:[d.jsxs("div",{"zr-role":"item-metadata--header",children:[d.jsx("h5",{children:x}),d.jsx("span",{className:W.TEXT_ACCENT_1,children:i+" ("+_+")"}),y?d.jsx("span",{className:W.TEXT_SECONDARY,children:y}):null,S?d.jsx("span",{"zr-role":"item-weblink",className:W.TEXT_SECONDARY,children:d.jsx("a",{href:S.href,rel:"noreferrer",target:"_blank",children:S.title})}):null]}),d.jsx(Ul,{direction:"col",label:"Abstract",children:d.jsx("p",{"zr-role":"item-abstract",className:[W.TEXT_SMALL,yR.RUNNING_TEXT].join(" "),children:a})}),d.jsxs("div",{"zr-role":"item-metadata--footer",children:[d.jsxs(Ul,{label:"Added",children:[d.jsx("span",{className:W.TEXT_SECONDARY,children:kf(v.data.dateAdded)}),f?d.jsxs("span",{children:["by ",d.jsx("b",{children:f})]}):null]}),l.length>0?d.jsx(Ul,{label:"Contributors",children:l.map((G,ue)=>d.jsxs(nf,{className:W.TEXT_SMALL,intent:"primary",minimal:!0,children:[G,c[ue]=="author"?"":" ("+c[ue]+")"]},ue))}):null,b.length>0?d.jsx(Ul,{label:"Tags",children:d.jsx("div",{children:b.map((G,ue)=>d.jsxs(nf,{className:W.TEXT_SMALL,minimal:!0,children:["#",G]},ue))})}):null]})]}),d.jsx("div",{"zr-role":"item-actions",children:d.jsxs(vR,{className:W.TEXT_SMALL,"data-in-graph":m.toString(),children:[navigator.clipboard&&d.jsx(xR,{citekey:h,item:n}),d.jsx(Lg,{className:W.DIVIDER_MINIMAL,title:"Actions"}),Ke,Le,u.notes.length>0&&d.jsx(sr,{icon:"chat",onClick:we,text:"Import notes"}),d.jsx(sr,{href:R.local,icon:"application",rel:"noreferrer",target:"_blank",text:"Open in Zotero"}),d.jsx(sr,{href:R.web,icon:"cloud",rel:"noreferrer",target:"_blank",text:"Open in Zotero (web)"}),I,d.jsx(Lg,{className:W.DIVIDER_MINIMAL,title:"Linked Content"}),Je,ft]})})]})})});const CR=window.React.useCallback,pc=window.React.useMemo,gd=window.Blueprint.Core.Classes,ER=window.Blueprint.Core.Checkbox,SR=window.Blueprint.Core.Tag;function TR({annotation:t}){const{color:e,comment:n,text:a,type:i}=pc(()=>Tc([t])[0],[t]),l=pc(()=>({backgroundImage:`linear-gradient(120deg, ${e}50 0%, ${e}50 100%)`}),[e]);return d.jsxs("div",{className:W.TEXT_SMALL,"zr-role":"note-contents",children:[a&&d.jsx("span",{title:a,className:[W.TEXT_AUXILIARY,gd.TEXT_OVERFLOW_ELLIPSIS].join(" "),style:l,children:a}),i=="image"&&d.jsx("code",{className:gd.CODE,children:"Images are currently not supported"}),n&&d.jsx("div",{title:n,className:[W.TEXT_SECONDARY,gd.TEXT_OVERFLOW_ELLIPSIS].join(" "),children:n})]})}function _R({note:t}){const e=pc(()=>cv([t]).join(" "),[t]);return d.jsx("div",{className:[W.TEXT_SMALL,W.TEXT_AUXILIARY].join(" "),"zr-role":"note-contents",children:d.jsx("p",{title:e,children:e})})}function kR({note:t,isSelected:e,isSingleChild:n,onToggle:a}){const i=CR(()=>a(t.data.key),[t.data.key,a]),l=pc(()=>Sc(t)?d.jsx(_R,{note:t}):d.jsx(TR,{annotation:t}),[t]);return d.jsxs(No,{className:"zr-notesimport-item","aria-label":t.data.key,onClick:i,children:[d.jsx("div",{className:"zr-notesimport-item--header",children:n?l:d.jsx(ER,{checked:e,className:"zr-notesimport-item--title",inline:!1,labelElement:l,onChange:i})}),d.jsx("div",{className:["zr-notesimport-item--contents",W.TEXT_SMALL].join(" "),children:d.jsx("div",{children:t.data.tags.map((c,u)=>d.jsx(SR,{minimal:!0,children:c.tag},u))})})]})}const OR=window.React.useCallback,Dg=window.React.useMemo,RR=window.Blueprint.Core.Checkbox,AR=window.Blueprint.Core.Classes,IR=window.Blueprint.Core.H6;function jR({date:t,itemSelectProps:e,notes:n,selectedKeys:a}){const{bulkCheck:i,bulkUncheck:l,toggleNoteSelection:c}=e,u=Dg(()=>n.every(y=>a.includes(y.data.key)),[n,a]),f=n.length==1,m=Dg(()=>n.sort((y,v)=>new Date(y.data.dateAdded)>new Date(v.data.dateAdded)?-1:1),[n]),h=OR(()=>{const y=n.map(v=>v.data.key);u?l(y):i(y)},[u,i,l,n]);return d.jsxs("li",{className:"zr-notesimport-daylist",children:[d.jsx(RR,{checked:u,className:"zr-notesimport-day",inline:!1,labelElement:d.jsx(IR,{children:t}),onChange:h}),d.jsx("div",{children:d.jsx("ul",{className:AR.LIST_UNSTYLED,children:m.map(y=>d.jsx(kR,{isSelected:a.includes(y.data.key),isSingleChild:f,note:y,onToggle:c},y.data.key))})})]})}const Mg=window.React.useCallback,rf=window.React.useMemo,Bg=window.Blueprint.Core.Button,PR=window.Blueprint.Core.Classes,NR=window.Blueprint.Core.Tag;function LR({notes:t,selectedKeys:e,selectProps:n}){const{setSelectedKeys:a,toggleNoteSelection:i}=n,l=rf(()=>{const u=t.sort((f,m)=>new Date(f.data.dateAdded)>new Date(m.data.dateAdded)?-1:1).reduce((f,m)=>{const h=new Date(m.data.dateAdded).toLocaleDateString("en-CA");return f[h]?f[h].push(m):f[h]=[m],f},{});return Object.keys(u).sort((f,m)=>new Date(f)>new Date(m)?-1:1).map(f=>({date:Ar(f,{brackets:!1}),notes:u[f]}))},[t]),c=rf(()=>({bulkCheck:u=>{const f=u.filter(m=>!e.includes(m));a([...e,...f])},bulkUncheck:u=>{a(e.filter(f=>!u.includes(f)))},toggleNoteSelection:i}),[e,a,i]);return d.jsx(Lo,{children:l.map(u=>d.jsx(jR,{date:u.date,notes:u.notes,itemSelectProps:c,selectedKeys:e},u.date))})}function DR({closeDialog:t,item:e,notes:n,pageUID:a}){const[i]=ks(),[l]=si(),[c,{set:u,toggle:f}]=hs({start:n.map(v=>v.data.key)}),m=Mg(()=>{c.length==0?u(n.map(v=>v.data.key)):u([])},[n,c,u]),h=Mg(async()=>{const v=n.filter(b=>c.includes(b.data.key));try{await _v({item:e,notes:v},a,l,i),t()}catch{}},[i,t,e,n,l,a,c]),y=rf(()=>({setSelectedKeys:u,toggleNoteSelection:f}),[u,f]);return d.jsx("div",{className:PR.DIALOG_BODY,children:d.jsxs(Mn,{children:[d.jsxs(eo,{children:[d.jsx(Bg,{className:[W.TEXT_SMALL,W.TEXT_SECONDARY].join(" "),minimal:!0,onClick:m,children:c.length==0?"Select all":"Unselect all"}),d.jsx(Bg,{active:!0,disabled:c.length==0,intent:"success",minimal:!0,onClick:h,rightIcon:d.jsx(NR,{intent:"success",children:c.length}),text:"Import notes"})]}),d.jsx("div",{className:"zr-notesimport--datalist",children:d.jsx(LR,{notes:n,selectedKeys:c,selectProps:y})})]})})}const MR=window.React.useCallback,BR=window.React.useMemo,zR=window.Blueprint.Core.Button,$R=window.Blueprint.Core.Icon,FR=window.Blueprint.Core.Menu,UR=window.Blueprint.Core.MenuItem,qR=window.Blueprint.Core.Tag,HR=window.Blueprint.Select.Select,VR={canEscapeKeyClose:!1,minimal:!0,placement:"bottom-start",popoverClassName:W.POPOVER},XR={itemRenderer:(t,e)=>{const{handleClick:n}=e;return d.jsx(UR,{className:W.TEXT_SECONDARY,htmlTitle:t.label,labelElement:t.active?d.jsx($R,{icon:"small-tick"}):null,onClick:n,"aria-selected":t.active,text:t.label},t.value)},itemListRenderer:({items:t,itemsParentRef:e,renderItem:n})=>{const a=t.map(n).filter(i=>i!=null);return d.jsx(FR,{ulRef:e,children:a})}};function WR({options:t,toggleFilter:e}){const n=BR(()=>t.filter(i=>i.active).length,[t]),a=MR(i=>e(i.value),[e]);return d.jsx(HR,{className:W.TEXT_SMALL,filterable:!1,items:t,matchTargetWidth:!1,onItemSelect:a,popoverProps:VR,...XR,children:d.jsx(zR,{className:W.TEXT_SECONDARY,minimal:!0,outlined:!0,rightIcon:n>0?d.jsx(qR,{minimal:!0,children:n}):"caret-down",text:"Filter"})})}const QR=window.React.useMemo,KR=window.Blueprint.Core.H6,GR=window.Blueprint.Core.Icon;function YR({children:t}){return d.jsx(KR,{children:t})}function Lb({href:t,text:e}){return d.jsx("a",{href:t,rel:"noreferrer",target:"_blank",children:e})}const ZR=d.jsxs(d.Fragment,{children:[d.jsxs("p",{children:["Metadata is obtained through the ",d.jsx(Lb,{href:"https://en.wikipedia.org/api/rest_v1/#/Citation/getCitation",text:"Wikimedia API"}),". It should give the same results as the Zotero Connector (note : PDFs are currently not added automatically)."]}),d.jsx("p",{children:"If the API was unable to retrieve metadata for a given URL, the item will not appear below."})]}),JR=d.jsxs(d.Fragment,{children:[d.jsxs("p",{children:["References, citations, and their metadata are obtained through the ",d.jsx(Lb,{href:"https://api.semanticscholar.org/corpus",text:"Semantic Scholar API"}),"."]}),d.jsx("p",{children:"Note that the API does not guarantee the identification of all papers, and that the metadata available is limited (for example, abstracts are currently not available)."})]});function Db({content:t,header:e=""}){const n=QR(()=>d.jsxs(d.Fragment,{children:[e&&d.jsx(YR,{children:e}),t]}),[t,e]);return d.jsx(ci,{className:"zr-guide-popover--target",content:n,interactionKind:"hover-target",popoverClassName:[W.POPOVER,"zr-guide-popover"].join(" "),children:d.jsx(GR,{icon:"help",size:14,tabIndex:-1})})}const eA=()=>d.jsx(Db,{header:"About this data",content:ZR}),tA=()=>d.jsx(Db,{header:"About this data",content:JR});var lr=(t=>(t.ADDED_ON="added_on",t.WITH_ABSTRACT="with_abstract",t.WITH_TAG="with_tag",t))(lr||{}),Gr=(t=>(t.CITATIONS="is_citation",t.REFERENCES="is_reference",t))(Gr||{});const nA=window.React.memo,rA=window.React.useCallback,yd=window.React.useMemo,oA=window.Blueprint.Core.Button,ql=window.Blueprint.Core.Classes,aA=window.Blueprint.Core.Icon,iA=window.Blueprint.Core.Tag,sA=nA(function(e){const{handleRemove:n,handleSelect:a,inGraph:i,isSelected:l,item:c,type:u}=e,{inLibrary:f}=c,m=rA(()=>{l?n(c):a(c)},[l,c,n,a]),h=yd(()=>{if(f){const{children:{pdfs:b,notes:x},raw:S}=f;return d.jsx(Is,{inGraph:i,item:S,notes:x,pdfs:b})}else return d.jsxs(d.Fragment,{children:[c.url?d.jsx("a",{"zr-role":"item-url",href:c.url,target:"_blank",rel:"noreferrer",className:W.TEXT_SMALL,children:c.doi||"Semantic Scholar"}):null,c.doi?d.jsx(oA,{text:l?"Remove":"Add to Zotero",active:l,className:W.TEXT_SMALL,icon:l?"small-cross":"small-plus",intent:"primary",minimal:!0,onClick:m,small:!0}):null]})},[m,i,f,l,c.doi,c.url]),y=yd(()=>d.jsx("div",{className:"zr-related-item--intents",children:c.intent.length>0?c.intent.map(b=>{const x=b.charAt(0).toUpperCase()+b.slice(1);return d.jsx(iA,{"data-semantic-intent":b,htmlTitle:"This citation was classified as related to "+x+" by Semantic Scholar",minimal:!0,children:x},b)}):null}),[c.intent]),v=yd(()=>d.jsx("div",{className:"zr-related-item--links",children:Object.keys(c.links).map(b=>d.jsx("span",{"data-service":b,children:d.jsx("a",{href:c.links[b],className:[W.TEXT_SMALL,W.TEXT_AUXILIARY].join(" "),target:"_blank",rel:"noreferrer",children:b.split("-").map(x=>x.charAt(0).toUpperCase()+x.slice(1)).join(" ")})},b))}),[c.links]);return d.jsx("li",{className:"zr-related-item","data-semantic-type":u,"data-in-library":f!=!1,"data-in-graph":i!=!1,children:d.jsxs("div",{className:ql.MENU_ITEM,children:[d.jsx("span",{className:[ql.MENU_ITEM_LABEL,W.TEXT_SMALL,"zr-related-item--timestamp"].join(" "),children:c.year}),d.jsxs("div",{className:[ql.FILL,"zr-related-item-contents"].join(" "),children:[d.jsxs("div",{className:ql.FILL,style:{display:"flex"},children:[d.jsxs("div",{className:"zr-related-item-contents--metadata",children:[c.authors&&d.jsx("span",{className:u==Gr.REFERENCES?W.TEXT_ACCENT_1:W.TEXT_ACCENT_2,children:c.authors}),c.meta&&d.jsx("span",{className:W.TEXT_SECONDARY,children:c.meta}),c.isInfluential?d.jsx(aA,{className:"zr-related-item--decorating-icon",color:"#f8c63a",htmlTitle:"This item was classified as influential by Semantic Scholar",icon:"trending-up"}):null,d.jsx("span",{className:"zr-related-item--title",children:c.title}),v]}),d.jsx("span",{className:"zr-related-item-contents--actions",children:h})]}),y]})]})})}),lA=sA,cA=window.React.memo,uA=window.React.useCallback,zg=window.React.useMemo,dA=window.Blueprint.Core.InputGroup,fA=window.Blueprint.Core.NonIdealState,$g=30,pA=[{active:!1,label:"In Library",value:"library"},{active:!1,label:"Highly Influential",value:"influential"},{active:!1,label:"Has DOI",value:"doi"}];function hA(t,e){let n=[...t];return e.filter(i=>i.active==!0).forEach(i=>{switch(i.value){case"library":n=n.filter(ov);break;case"influential":n=n.filter(l=>l.isInfluential);break;case"doi":n=n.filter(l=>l.doi);break;default:window.zoteroRoam?.warn?.({origin:"Interface",message:`Filter not recognized: ${i.value}`,context:{...i}})}}),n}function mA(t,e){return e.filter(n=>Ln(t,n._multiField,{any_case:!0,match:"partial",search_compounds:!0,word_order:"loose"}))}function gA({item:t,selectProps:e,type:n}){const{handleRemove:a,handleSelect:i,items:l}=e,c=l.findIndex(u=>u.doi==t.doi||u.url==t.url)>=0;return d.jsx(lA,{handleRemove:a,handleSelect:i,inGraph:t.inGraph,isSelected:c,item:t,type:n})}const yA=cA(function(e){const{items:n,selectProps:a,type:i}=e,{currentPage:l,pageLimits:c,setCurrentPage:u}=_s({itemsPerPage:$g}),[f,m]=vv(""),[h,y]=oE(pA),v=uA(S=>{y(S),u(1)},[u,y]),b=zg(()=>hA(n,h),[h,n]),x=zg(()=>f?mA(f,b):b,[b,f]);return d.jsxs("div",{className:"rendered-div",children:[d.jsxs(eo,{children:[d.jsx(WR,{options:h,toggleFilter:v}),d.jsx(dA,{"aria-label":"Search by title, authors (last names), or year",autoComplete:"off",id:"semantic-search--"+i,leftIcon:"search",onChange:m,placeholder:"Search items",spellCheck:"false",title:"Search by title, authors (last names), or year",value:f})]}),d.jsx("div",{className:"zr-semantic--datalist",children:x.length==0?d.jsx(fA,{className:W.TEXT_AUXILIARY,description:"No results found"}):d.jsx(Lo,{children:x.slice(...c).map(S=>d.jsx(gA,{item:S,selectProps:a,type:i},[S.doi,S.url,S.title].filter(Bt).join("-")))})}),d.jsxs(eo,{children:[d.jsx(Os,{arrows:"first",currentPage:l,itemsPerPage:$g,nbItems:x.length,setCurrentPage:u}),d.jsx(tA,{})]})]})}),Fg=yA,Mb=window.React.memo,vA=window.React.useCallback,bA=window.Blueprint.Core.Checkbox,wA=window.Blueprint.Core.Spinner,xA=Mb(function(e){const{collection:n,isChecked:a,onSelect:i}=e,{data:{name:l},depth:c,key:u}=n,f=vA(()=>{i(u)},[u,i]);return d.jsx(bA,{checked:a,className:[W.TEXT_SMALL,`depth-${c}`].join(" "),inline:!1,label:l,onChange:f})}),CA=Mb(function(e){const{collections:n,onSelect:a,selectedCollections:i}=e;return n.length==0?d.jsx(wA,{size:12}):d.jsx("div",{className:"options-collections-list",children:n.map(l=>d.jsx(xA,{collection:l,isChecked:i.includes(l.key),onSelect:a},l.key))})}),EA=CA,SA=window.React.memo,TA=window.React.useMemo,_A=window.Blueprint.Core.RadioGroup,kA=SA(function({libraries:e,selectedLib:n,onSelect:a}){const i=TA(()=>e.map(l=>({value:l.path})),[e]);return d.jsx(_A,{className:W.TEXT_SMALL,inline:!1,name:"import-library",onChange:a,options:i,selectedValue:n.path})}),OA=kA;const Kf=window.React.memo,Bb=window.React.useCallback,of=window.React.useMemo,zb=window.Blueprint.Core.Button,RA=window.Blueprint.Core.ButtonGroup,Ug=window.Blueprint.Core.Intent,AA=window.Blueprint.Core.Spinner,IA=Kf(function(e){const{identifiers:n,importProps:a,isActive:i,resetImport:l}=e,c=fb(n,{enabled:i&&n.length>0,select:b=>b.item}),u=c.every(b=>b.data),f=c.map(b=>b.data).filter(Bt),{mutate:m,status:h}=$1(),y=Bb(()=>{const{collections:b,library:x,tags:S}=a;m({collections:b,items:f,library:x,tags:S},{onSuccess:()=>l()})},[f,a,m,l]),v=of(()=>h=="loading"?{disabled:!0,text:"Loading...",title:"Importing items..."}:h=="error"?{disabled:!0,intent:Ug.DANGER,rightIcon:"error",text:"Error",title:"Error while importing items"}:{disabled:!i,intent:Ug.PRIMARY,loading:!u,rightIcon:"chevron-right",text:"Send to Zotero",title:u?"Import items to Zotero":"Loading items data..."},[i,u,h]);return d.jsx(zb,{className:[W.TEXT_SMALL,"zr-import--trigger"].join(" "),minimal:!0,onClick:y,...v})}),jA=Kf(function(e){const{collections:n,identifiers:a,isActive:i,libraries:l,resetImport:c}=e,[u,f]=hE({start:l[0],transform:L=>l.find(U=>U.path==L)}),[m,{set:h,toggle:y}]=hs({start:[]}),[v,{add:b,remove:x}]=hs({start:[]}),S=Bb(L=>{f(L),h([])},[f,h]),_=of(()=>{const L=n.filter(U=>{const{id:X,type:ee}=U.library;return ee+"s/"+X==u.path});return NC(L)},[n,u]),R=of(()=>({collections:m,library:u,tags:v}),[m,u,v]);return d.jsxs(Mn,{children:[d.jsx("div",{className:"import-header",children:d.jsxs(RA,{fill:!0,minimal:!0,children:[d.jsx(zb,{className:[W.TEXT_SMALL,"zr-import--cancel"].join(" "),icon:"chevron-left",intent:"warning",minimal:!0,onClick:c,children:"Cancel"}),d.jsx(IA,{identifiers:a,importProps:R,isActive:i,resetImport:c})]})}),d.jsxs("div",{className:"import-options",children:[d.jsx("div",{className:"options-library-list",children:d.jsx(OA,{libraries:l,selectedLib:u,onSelect:S})}),d.jsx(EA,{collections:_,onSelect:y,selectedCollections:m}),d.jsx(kv,{onRemove:x,onSelect:b,selectedTags:v})]})]})}),$b=Kf(function(e){const{identifiers:n,isActive:a,resetImport:i}=e,[{libraries:l}]=cr(),{data:c,isLoading:u}=gb(l),m=pb(l,{enabled:c.length>0,notifyOnChangeProps:["data"],select:h=>h.data}).map(h=>h?.data||[]).flat(1);return u?d.jsx(AA,{}):c.length==0?d.jsx(yv,{}):d.jsx(jA,{collections:m,identifiers:n,isActive:a,libraries:c,resetImport:i})}),Fb=window.React.memo,PA=window.React.useCallback,NA=window.React.useMemo,LA=window.Blueprint.Core.Button,Ub=window.Blueprint.Core.Classes,DA=Fb(function(e){const{handleRemove:n,item:a}=e,i=PA(()=>{n(a)},[n,a]);return d.jsxs("li",{className:["import-items_selected",W.TEXT_SMALL].join(" "),children:[d.jsxs("div",{className:"selected_info",children:[d.jsx("span",{className:[Ub.TEXT_MUTED,"selected_title"].join(" "),children:a.title}),d.jsx("span",{className:[W.TEXT_SECONDARY,"selected_origin"].join(" "),children:a.meta})]}),d.jsx("div",{className:"selected_state",children:d.jsx(LA,{className:"selected_remove-button",icon:"cross",intent:"danger",minimal:!0,onClick:i,title:"Remove item from import"})})]})}),MA=Fb(function({selectProps:e}){const{handleRemove:n,items:a,resetImport:i}=e,l=a.length>0,c=NA(()=>a.map(u=>u.doi?"https://doi.org/"+u.doi:u.url),[a]);return d.jsxs("div",{className:"zr-semantic-panel--side",tabIndex:0,children:[d.jsx($b,{identifiers:c,isActive:l,resetImport:i}),d.jsx("ul",{className:[Ub.LIST_UNSTYLED,"import-items"].join(" "),children:e.items.map(u=>d.jsx(DA,{handleRemove:n,item:u},[u.doi,u.url].join("-")))})]})}),BA=MA;const qb=window.React.memo,Hb=window.React.useCallback,zA=window.React.useEffect,os=window.React.useMemo,$A=window.React.useState,FA=window.Blueprint.Core.Button,UA=window.Blueprint.Core.Classes,qg=window.Blueprint.Core.Icon,Hg=window.Blueprint.Core.Tab,Vg=window.Blueprint.Core.Tabs,Vb="zr-semantic-panel-label",qA=qb(function(e){const{defaultTab:n,items:a,onClose:i,selectProps:l,title:c}=e,[u,f]=$A(n);zA(()=>{f(n)},[n]);const m=Hb((x,S,_)=>f(x),[]),h=os(()=>Fd(a.references,"year"),[a.references]),y=os(()=>Fd(a.citations,"year"),[a.citations]),v=os(()=>d.jsxs(d.Fragment,{children:[d.jsx(qg,{icon:"citation"}),d.jsx("span",{children:fn(h.length,"reference")})]}),[h.length]),b=os(()=>d.jsxs(d.Fragment,{children:[d.jsx(qg,{icon:"chat"}),d.jsx("span",{children:fn(y.length,"citing paper")})]}),[y.length]);return d.jsxs(Vg,{id:"zr-semantic-panel",className:W.TABS,selectedTabId:u,onChange:m,animate:!1,children:[d.jsx(Hg,{id:Gr.REFERENCES,panel:d.jsx(Fg,{items:h,selectProps:l,type:Gr.REFERENCES}),disabled:h.length==0,title:v}),d.jsx(Hg,{id:Gr.CITATIONS,panel:d.jsx(Fg,{items:y,selectProps:l,type:Gr.CITATIONS}),disabled:y.length==0,title:b}),d.jsx(Vg.Expander,{}),d.jsx("span",{className:W.TEXT_AUXILIARY,id:Vb,title:"Works related to "+c,children:c}),d.jsx(FA,{icon:"cross",minimal:!0,large:!0,onClick:i,title:"Close dialog"})]})}),HA=qb(function(e){const{isOpen:n,items:a,onClose:i,show:l}=e,[c,{set:u,add:f,remove:m}]=hs({start:[],identify:(b,x)=>b.doi==x.doi&&b.url==x.url}),h=c.length>0,y=os(()=>({handleRemove:m,handleSelect:f,items:c,resetImport:()=>u([])}),[f,c,m,u]),v=Hb(()=>{u([]),i()},[i,u]);return d.jsx(la,{ariaLabelledBy:Vb,className:"citations",extraClasses:h?["has-selected-items"]:[],isOpen:n,onClose:v,children:d.jsx("div",{className:UA.DIALOG_BODY,children:d.jsxs(Mn,{children:[d.jsx("div",{className:"zr-semantic-panel--main",children:d.jsx(qA,{defaultTab:l.type,items:a,onClose:v,selectProps:y,title:l.title})}),d.jsx(BA,{selectProps:y})]})})})}),VA=HA,XA=["citekey","dnp","tag"],Gf="zr-page-menu--",Ya=XA.reduce((t,e)=>(t[e]=Gf+e,t),{}),WA=["references","citations","backlinks"],QA="zr-page-menu-show--",vd=WA.reduce((t,e)=>(t[e]=QA+e,t),{}),hc="zr-webimport-div",Xb=window.React.memo,af=window.React.useCallback,Kn=window.React.useMemo,KA=window.React.useState,Za=window.Blueprint.Core.Button,Wb=window.Blueprint.Core.ButtonGroup,GA=window.Blueprint.Core.Card,Xg=window.Blueprint.Core.Classes,YA=window.Blueprint.Core.Collapse,ZA=window.Blueprint.Core.Tag;function Wg({entry:t}){const{_type:e,inLibrary:n,inGraph:a}=t,{children:{pdfs:i,notes:l},raw:c}=n,{key:u,data:f,meta:m}=c,h=m.parsedDate?new Date(m.parsedDate).getUTCFullYear():"",y=e=="cited"?"reference":"citation",v=Kn(()=>d.jsx(Is,{inGraph:a,item:c,notes:l,pdfs:i}),[a,c,l,i]);return d.jsxs("li",{className:"zr-backlink-item","data-backlink-type":y,"data-in-graph":(a!=!1).toString(),"data-item-year":h,"data-key":"@"+u,children:[d.jsx("div",{className:"zr-backlink-item--year",children:h}),d.jsxs("div",{className:"zr-backlink-item--info","data-item-type":f.itemType,children:[d.jsx("span",{"zr-role":"item-authors",className:y=="reference"?W.TEXT_ACCENT_1:W.TEXT_ACCENT_2,children:m.creatorSummary||""}),d.jsx("span",{"zr-role":"item-publication",className:W.TEXT_SECONDARY,children:f.publicationTitle||f.bookTitle||f.university||""}),d.jsx("span",{"zr-role":"item-title",children:f.title})]}),d.jsx("div",{className:"zr-backlink-item--state",children:v})]})}const JA=Xb(function(e){const{isOpen:n,items:a=[],origin:i}=e;if(a.length==0)return null;{const c=[...a].sort((h,y)=>TC(h.inLibrary.raw,y.inLibrary.raw)),u=c.filter(h=>h._type=="cited"),f=c.filter(h=>h._type=="citing"),m=d.jsx(ZA,{className:"zr-backlinks-divider--tag",fill:!0,minimal:!0,multiline:!0,children:i});return d.jsx(YA,{isOpen:n,keepChildrenMounted:!0,children:d.jsxs("div",{className:"zr-citekey-menu--backlinks",children:[u.length>0?d.jsx("ul",{className:Xg.LIST_UNSTYLED,"zr-role":"sublist","list-type":"references",children:u.map(h=>d.jsx(Wg,{entry:h},`${h.doi}`))}):null,u.length>0&&f.length>0?m:null,f.length>0?d.jsx("ul",{className:Xg.LIST_UNSTYLED,"zr-role":"sublist","list-type":"citations",children:f.map(h=>d.jsx(Wg,{entry:h},`${h.doi}`))}):null]})})}});function eI(t){const{doi:e,itemList:n,origin:a,title:i}=t,[l]=Do(),{isLoading:c,isError:u,data:f,error:m}=t1(e),[h,{toggle:y}]=Pt(!1),[v,{on:b,off:x}]=Pt(!1),[S,_]=KA({title:i,type:Gr.REFERENCES}),R=af(()=>{_({title:i,type:Gr.REFERENCES}),b()},[i,b]),L=af(()=>{_({title:i,type:Gr.CITATIONS}),b()},[i,b]),U=(f||{}).references?.length||0,X=(f||{}).citations?.length||0,ee=Kn(()=>{if(f){const{citations:j,references:P}=f;return EC(n,{citations:j,references:P},l)}else return{backlinks:[],citations:[],references:[]}},[f,n,l]),D=Kn(()=>ee.backlinks.length==0?{"aria-disabled":!0,disabled:!0,icon:null,text:"No related library items"}:{icon:h?"caret-down":"caret-right",text:fn(ee.backlinks.length,"related library item")},[ee.backlinks.length,h]);return d.jsx("div",{className:"zotero-roam-page-menu-citations",children:u?d.jsx(ky,{error:m}):d.jsxs(d.Fragment,{children:[d.jsxs(Wb,{minimal:!0,fill:!0,role:"menubar",children:[d.jsx(Za,{"aria-disabled":U==0,disabled:U==0,className:vd.references,loading:c,minimal:!0,onClick:R,icon:"citation",intent:"primary",role:"menuitem","aria-haspopup":"dialog",title:"Show references",children:fn(U,"reference")}),d.jsx(Za,{"aria-disabled":X==0,disabled:X==0,className:vd.citations,loading:c,minimal:!0,onClick:L,icon:"chat",intent:"warning",role:"menuitem","aria-haspopup":"dialog",title:"Show citations",children:fn(X,"citation")}),d.jsx(Za,{className:vd.backlinks,loading:c,minimal:!0,onClick:y,...D,role:"menuitem",title:"Show backlinks"})]}),U+X>0?d.jsx(VA,{isOpen:v,items:ee,onClose:x,show:S}):null,d.jsx(JA,{isOpen:h,items:ee.backlinks,origin:a})]})})}function tI({item:t}){const[e,{on:n,off:a}]=Pt(!1);return d.jsxs(d.Fragment,{children:[d.jsx(Za,{icon:"info-sign",onClick:n,role:"menuitem","aria-haspopup":"dialog",children:"View item information"}),d.jsx(la,{className:"view-item-information",isOpen:e,onClose:a,children:d.jsx(Nb,{closeDialog:a,item:t})})]})}function nI({item:t,notes:e,pageUID:n}){const[a,{on:i,off:l}]=Pt(!1);return d.jsxs(d.Fragment,{children:[d.jsx(Za,{icon:"comment",onClick:i,role:"menuitem","aria-haspopup":"dialog",children:"Import notes"}),d.jsx(la,{className:"import-item-notes",isOpen:a,label:"Import notes",onClose:l,children:d.jsx(DR,{closeDialog:l,item:t,notes:e,pageUID:n})})]})}const rI=Xb(function({item:e,itemList:n}){const[a]=ks(),[i]=_c(),[l]=si(),[{defaults:c}]=Oc(),[u]=sS(),[f]=li(),[m]=Do(),h=Ts(e.data.DOI),y=Af("@"+e.key),v=Kn(()=>{const D=e.data.key,j=e.library.type+"s/"+e.library.id,{pdfs:P,notes:q}=n;return ua(D,j,{pdfs:P,notes:q})},[n,e]),b=Kn(()=>h?d.jsx("span",{className:"zr-citekey-doi","data-doi":h,children:d.jsx("a",{href:"https://doi.org/"+h,target:"_blank",rel:"noreferrer",children:h})}):null,[h]),x=af(async()=>{const{pdfs:D,notes:j}=v;return await kc({item:e,pdfs:D,notes:j},y,i,f,l,a)},[a,v,e,i,l,y,f]),S=Kn(()=>v.pdfs.length==0||!c.includes("pdfLinks")?null:v.pdfs.map(D=>d.jsx(Or,{"zr-role":"pdf-link",alignText:"left",href:_f(D,"href"),icon:"paperclip",intent:"none",minimal:!0,role:"menuitem",text:D.data.filename||D.data.title},D.key)),[c,v.pdfs]),_=Kn(()=>v.notes.length==0||!c.includes("importNotes")?null:d.jsx(nI,{item:e,notes:v.notes,pageUID:y}),[c,v.notes,e,y]),R=Kn(()=>d.jsxs(d.Fragment,{children:[c.includes("openZoteroLocal")?d.jsx(Or,{icon:"application",intent:"none",text:"Open in Zotero",href:Es(e,{format:"target"}),role:"menuitem"}):null,c.includes("openZoteroWeb")?d.jsx(Or,{icon:"cloud",intent:"none",text:"Open in Zotero [Web library]",href:Ss(e,{format:"target"}),role:"menuitem"}):null]}),[c,e]),L=Kn(()=>h&&c.includes("sciteBadge")?d.jsx(iS,{doi:h,...u}):null,[c,h,u]),U=Kn(()=>{const D=c.includes("connectedPapers")?d.jsx(Or,{icon:"layout",intent:"primary",text:"Connected Papers",href:"https://www.connectedpapers.com/"+(h?"api/redirect/doi/"+h:"search?q="+encodeURIComponent(e.data.title)),role:"menuitem"}):null,j=h&&c.includes("semanticScholar")?d.jsx(Or,{icon:"bookmark",intent:"primary",text:"Semantic Scholar",href:"https://api.semanticscholar.org/"+h,role:"menuitem"}):null,P=c.includes("googleScholar")?d.jsx(Or,{icon:"learning",intent:"primary",text:"Google Scholar",href:"https://scholar.google.com/scholar?q="+(h||encodeURIComponent(e.data.title)),role:"menuitem"}):null;return d.jsxs(d.Fragment,{children:[D,j,P]})},[c,h,e.data.title]),X=Kn(()=>h&&c.includes("citingPapers")?d.jsx(eI,{doi:h,itemList:n,origin:e.meta.parsedDate?new Date(e.meta.parsedDate).getUTCFullYear().toString():"",title:"@"+e.key}):null,[c,h,e.key,e.meta.parsedDate,n]),ee=Kn(()=>Ef(e,v.pdfs,v.notes,m),[v,e,m]);return d.jsxs(Mn,{children:[b,d.jsxs(GA,{elevation:0,className:"zr-citekey-menu",children:[d.jsxs("div",{className:"zr-citekey-menu--header",children:[d.jsxs(Wb,{className:"zr-citekey-menu--actions",minimal:!0,role:"menubar",children:[c.includes("addMetadata")?d.jsx(Za,{icon:"add",onClick:x,role:"menuitem",children:"Add metadata"}):null,_,c.includes("viewItemInfo")?d.jsx(tI,{item:ee}):null,R,S,U]}),L]}),X]})]})}),oI=rI;const js=window.React.memo,aI=window.React.useEffect,nc=window.React.useMemo,sf=window.Blueprint.Core.Button,Ja=window.Blueprint.Core.Classes,Qg="zr-related-panel-label",iI=js(function({abstract:e,allAbstractsShown:n}){const[a,{set:i,toggle:l}]=Pt(n);return aI(()=>{i(n)},[n,i]),e?d.jsxs("div",{className:"zr-related-item--abstract",children:[d.jsx(sf,{className:W.TEXT_SMALL,"zr-role":"abstract-toggle",icon:a?"chevron-down":"chevron-right",onClick:l,minimal:!0,small:!0,children:"Abstract"}),a?d.jsx("span",{"zr-role":"abstract-text",className:[W.TEXT_SMALL,W.TEXT_AUXILIARY].join(" "),children:e}):null]}):null}),sI=js(function({timestamp:e,type:n}){return n=="added_on"?d.jsx("span",{className:[Ja.MENU_ITEM_LABEL,W.TEXT_SMALL,"zr-related-item--timestamp"].join(" "),children:e}):null}),lI=js(function(e){const{allAbstractsShown:n,closeDialog:a,item:i,type:l}=e,{children:{pdfs:c,notes:u},raw:f}=i;return d.jsx("li",{className:"zr-related-item","data-in-graph":(i.inGraph!=!1).toString(),children:d.jsxs("div",{className:Ja.MENU_ITEM,children:[d.jsx(sI,{timestamp:i.timestamp,type:l}),d.jsxs("div",{className:[Ja.FILL,"zr-related-item-contents"].join(" "),children:[d.jsxs("div",{className:Ja.FILL,style:{display:"flex"},children:[d.jsxs("div",{className:"zr-related-item-contents--metadata",children:[d.jsx("span",{className:"zr-related-item--title","data-item-type":i.itemType,children:i.title}),d.jsx("span",{className:W.TEXT_ACCENT_1,children:i.meta})]}),d.jsx("span",{className:"zr-related-item-contents--actions",children:d.jsx(Is,{closeDialog:a,inGraph:i.inGraph,item:f,notes:u,pdfs:c})})]}),d.jsx(iI,{abstract:i.abstract,allAbstractsShown:n})]})]})})}),cI=js(function(e){const{allAbstractsShown:n,closeDialog:a,items:i,type:l}=e,c=nc(()=>{const u=l==lr.ADDED_ON?"added":"meta";return Fd(i,u)},[i,l]);return d.jsx("ul",{className:Ja.LIST_UNSTYLED,children:c.map(u=>d.jsx(lI,{allAbstractsShown:n,closeDialog:a,item:u,type:l},[u.location,u.key].join("-")))})}),uI=js(function(e){const{isOpen:n,items:a,onClose:i,show:l}=e,[c,{toggle:u}]=Pt(!1),f=nc(()=>{const{title:y,type:v}=l;switch(v){case lr.ADDED_ON:return{string:"item",suffix:" added on "+y};case lr.WITH_ABSTRACT:return{string:"abstract",suffix:" containing "+y};case lr.WITH_TAG:default:return{string:"item",suffix:" tagged with "+y}}},[l]),m=nc(()=>d.jsx("h5",{id:Qg,className:"panel-tt",children:fn(a.length,f.string,f.suffix)}),[a.length,f]),h=nc(()=>d.jsx("div",{className:["header-right",W.TEXT_AUXILIARY].join(" "),children:d.jsx(sf,{icon:"cross",minimal:!0,onClick:i,title:"Close dialog"})}),[i]);return d.jsx(la,{ariaLabelledBy:Qg,className:"related",isOpen:n,onClose:i,children:d.jsx("div",{className:Ja.DIALOG_BODY,children:d.jsxs(Mn,{children:[d.jsxs("div",{className:"header-content",children:[d.jsxs("div",{className:"header-left",children:[m,d.jsxs(sf,{className:W.TEXT_SMALL,minimal:!0,onClick:u,"zr-role":"toggle-abstracts",children:[c?"Hide":"Show"," abstracts"]})]}),h]}),d.jsx("div",{className:"rendered-div",children:d.jsx(cI,{allAbstractsShown:c,closeDialog:i,items:a,type:l.type})})]})})})}),Qb=uI,dI=window.React.useMemo,fI=window.Blueprint.Core.Button;function pI({added:t,title:e}){const[n,{on:a,off:i}]=Pt(!1),l=t.length>0,c=dI(()=>fn(t.length,"item"," added"),[t.length]);return d.jsx(d.Fragment,{children:l?d.jsxs(d.Fragment,{children:[d.jsx(fI,{minimal:!0,icon:"calendar",onClick:a,children:c}),d.jsx(Qb,{isOpen:n,items:t,onClose:i,show:{title:e,type:lr.ADDED_ON}})]}):null})}const Kg=window.React.useCallback,bd=window.React.useMemo,hI=window.React.useState,Gg=window.Blueprint.Core.Button;function mI(t){const{inAbstract:e=[],tag:n,tagged:a=[]}=t,[i,{on:l,off:c}]=Pt(!1),[u,f]=hI(),m=a.length>0,h=e.length>0,y=bd(()=>({title:n,type:a.length>0?lr.WITH_TAG:lr.WITH_ABSTRACT}),[n,a.length]),v=Kg(()=>{l(),f({title:n,type:lr.WITH_ABSTRACT})},[n,l]),b=Kg(()=>{l(),f({title:n,type:lr.WITH_TAG})},[n,l]),x=bd(()=>fn(e.length,"abstract"),[e.length]),S=bd(()=>fn(a.length,"tagged item"),[a.length]);return d.jsxs(d.Fragment,{children:[m&&d.jsx(Gg,{minimal:!0,icon:"manual",onClick:b,children:S}),h&&d.jsx(Gg,{minimal:!0,icon:"manually-entered-data",onClick:v,children:x}),(m||h)&&d.jsx(Qb,{isOpen:i,items:(u||y).type==lr.WITH_TAG?a:e,onClose:c,show:u||y})]})}const gI=new RegExp(/(.+) ([0-9]+).{2}, ([0-9]{4})/),yI=()=>{const t=Array.from(document.querySelectorAll("h1.rm-title-display")).filter(e=>!e.parentElement?.querySelector(`[class*=${Gf}]`));for(const e of t){const n=e.querySelector("span")?.innerText||e.innerText,a=Af(n),i=document.createElement("div");switch(i.setAttribute("data-title",n),a&&i.setAttribute("data-uid",a),!0){case n.startsWith("@"):i.classList.add(Ya.citekey),i.setAttribute("data-citekey",n.slice(1));break;case gI.test(n):i.classList.add(Ya.dnp),i.setAttribute("data-dnp-date",JSON.stringify(jC(n,{as_date:!1})));break;default:i.classList.add(Ya.tag)}e.insertAdjacentElement("afterend",i)}};function lf(t,{pdfs:e=[],notes:n=[]},a){const i=t.meta.creatorSummary||"",l=t.meta.parsedDate?`(${new Date(t.meta.parsedDate).getUTCFullYear()})`:"",c=t.data.key,u=t.library.type+"s/"+t.library.id,f=ua(c,u,{pdfs:e,notes:n});return{abstract:t.data.abstractNote||"",added:t.data.dateAdded,children:f,inGraph:a.get("@"+t.key)||!1,itemType:t.data.itemType,key:t.key,location:u,meta:[i,l].filter(Bt).join(" "),raw:t,timestamp:ps(t.data.dateAdded),title:t.data.title||""}}const vI=()=>({citekeyMenus:Array.from(document.querySelectorAll(`[class=${Ya.citekey}]`)),dnpMenus:Array.from(document.querySelectorAll(`[class=${Ya.dnp}]`)),tagMenus:Array.from(document.querySelectorAll(`[class=${Ya.tag}]`))});const Yf=window.ReactDOM.createPortal,Yr=window.React.useMemo;function bI({menus:t}){const[{trigger:e}]=Oc(),[{dataRequests:n}]=cr(),a=ro(n,{select:f=>f.data,notifyOnChangeProps:["data"]}),i=Yr(()=>a.map(f=>f.data||[]).flat(1),[a]),l=Yr(()=>ca(i),[i]),c=Yr(()=>l.items.filter(f=>f.has_citekey),[l]),u=Yr(()=>c?t.filter(f=>e.constructor===Boolean?e:!0).map(f=>{const m=c.find(h=>h.key==f.getAttribute("data-citekey"));return{div:f,item:m}}).map((f,m)=>{if(f.item){const{item:h,div:y}=f;return Yf(d.jsx(oI,{item:h,itemList:l},m),y)}}):null,[c,l,t,e]);return d.jsx(d.Fragment,{children:u})}function wI({menus:t}){const[{trigger:e}]=Oc(),[{dataRequests:n}]=cr(),[a]=Do(),l=ro(n,{notifyOnChangeProps:["data"],select:f=>f.data}).map(f=>f.data||[]).flat(1),c=Yr(()=>ca(l),[l]),u=Yr(()=>{const{items:f,pdfs:m,notes:h}=c;return f?t.filter(y=>typeof e=="boolean"?e:!0).map(y=>{const v=y.getAttribute("data-title"),b=JSON.parse(y.getAttribute("data-dnp-date")),x=new Date(...b).toDateString(),S=f.filter(_=>new Date(_.data.dateAdded).toDateString()==x).map(_=>lf(_,{pdfs:m,notes:h},a));return{div:y,added:S,title:v}}).filter(y=>y.added).map((y,v)=>{const{added:b,div:x,title:S}=y;return Yf(d.jsx(pI,{added:b,title:S},v),x)}):null},[c,t,a,e]);return d.jsx(d.Fragment,{children:u})}function xI({menus:t}){const[{trigger:e}]=Oc(),[{dataRequests:n}]=cr(),[a]=Do(),l=ro(n,{notifyOnChangeProps:["data"],select:m=>m.data}).map(m=>m.data||[]).flat(1),c=Yr(()=>ca(l),[l]),u=Yr(()=>c.items.filter(m=>m.data.abstractNote||m.data.tags.length>0).map(m=>({itemData:m,abstract:m.data.abstractNote||"",tagList:m.data.tags.map(h=>h.tag)})),[c.items]),f=Yr(()=>{const{items:m,pdfs:h,notes:y}=c;return m?t.filter(v=>typeof e=="boolean"?e:v.getAttribute("data-title").length>5).map(v=>{const b=v.getAttribute("data-title"),x=u.reduce((S,_)=>(_.abstract.includes(b)&&S.with_abstract.push(lf(_.itemData,{pdfs:h,notes:y},a)),_.tagList.includes(b)&&S.with_tags.push(lf(_.itemData,{pdfs:h,notes:y},a)),S),{with_tags:[],with_abstract:[]});return{div:v,tag:b,...x}}).filter(v=>v.with_tags.length>0||v.with_abstract.length>0).map((v,b)=>{const{with_tags:x,with_abstract:S,div:_,tag:R}=v;return Yf(d.jsx(mI,{tag:R,inAbstract:S,tagged:x},b),_)}):null},[c,t,a,e,u]);return d.jsx(d.Fragment,{children:f})}const Kb=window.React.memo,Gb=window.React.useCallback,CI=window.Blueprint.Core.Button,EI=window.Blueprint.Core.Checkbox,cf=window.Blueprint.Core.Classes,SI=window.Blueprint.Core.Tag;function TI(t,e={}){return fb(t,{...e,select:n=>{const{item:a,query:i}=n;return{abstract:a.abstractNote||"",creators:a.creators?.map(l=>"name"in l?l.name:[l.firstName,l.lastName].filter(Bt).join(" ")).join(", "),itemType:a.itemType,publication:a.publicationTitle||a.bookTitle||a.websiteTitle||"",title:a.title,url:i}},notifyOnChangeProps:["data","isLoading"]})}const _I=Kb(function(e){const{isSelected:n,item:a,onSelect:i}=e,[l]=li(),c=Gb(()=>{i(a.url)},[a.url,i]);return d.jsx("li",{className:"zr-webimport-item","aria-label":a.url,onClick:c,children:d.jsxs("div",{className:cf.MENU_ITEM,children:[d.jsxs("div",{className:"zr-webimport-item--header",children:[d.jsx(EI,{checked:n,className:"zr-webimport-item--title",inline:!1,labelElement:d.jsxs(d.Fragment,{children:[d.jsx("a",{target:"_blank",rel:"noreferrer",href:a.url,children:a.title}),a.creators?d.jsxs("span",{className:W.TEXT_SECONDARY,"zr-role":"item-creators",children:[" (",a.creators,")"]}):null]}),onChange:c}),a.itemType?d.jsx(SI,{htmlTitle:a.publication,minimal:!0,"zr-role":"item-type",children:d.jsx("span",{"data-item-type":a.itemType,children:l[a.itemType]||a.itemType})}):null]}),d.jsx("div",{className:"zr-webimport-item--contents",children:d.jsx("span",{className:[W.TEXT_SMALL,W.TEXT_AUXILIARY].join(" "),"zr-role":"item-abstract",children:a.abstract})})]})})}),kI=Kb(function(e){const{isOpen:n,onClose:a,urls:i}=e,[l,{set:c,toggle:u}]=hs({start:[]}),f=l.length>0,m=TI(i,{enabled:n}),h=m.every(b=>b.isLoading),y=m.filter(b=>b.isSuccess).map(b=>b.data).filter(Bt),v=Gb(()=>{c([]),a()},[a,c]);return d.jsx(la,{ariaLabelledBy:"zr-webimport-dialog--title",className:"webimport",extraClasses:f?["has-selected-items"]:[],isOpen:n,onClose:v,children:d.jsx("div",{className:cf.DIALOG_BODY,children:d.jsxs(Mn,{children:[d.jsxs("div",{className:"zr-webimport-panel--main",children:[d.jsxs("div",{className:"header-content",children:[d.jsxs("div",{className:"header-left",children:[d.jsx("h5",{id:"zr-webimport-dialog--title",className:"panel-tt",children:h?"Parsing links...":fn(y.length,"link"," found")}),!h&&d.jsx(eA,{})]}),d.jsx("div",{className:["header-right",W.TEXT_AUXILIARY].join(" "),children:d.jsx(CI,{icon:"cross",large:!0,minimal:!0,onClick:v,title:"Close dialog"})})]}),d.jsx("div",{className:"rendered-div",children:d.jsx("ul",{className:cf.LIST_UNSTYLED,children:y.map(b=>d.jsx(_I,{item:b,isSelected:l.includes(b.url),onSelect:u},b.url))})})]}),d.jsx("div",{className:"zr-webimport-panel--side",tabIndex:0,children:d.jsx($b,{identifiers:l,isActive:f,resetImport:()=>c([])})})]})})})}),OI=kI;const RI=window.React.memo,AI=window.React.useCallback,II=window.React.useEffect,jI=window.React.useRef,PI=window.React.useState,NI=window.ReactDOM.createPortal,LI=window.Blueprint.Core.Button,DI=RI(function({urls:e}){const[n,{on:a,off:i}]=Pt(!1);return d.jsxs(d.Fragment,{children:[d.jsx(LI,{className:"zr-webimport-button",icon:"geosearch",minimal:!0,onClick:a}),d.jsx(OI,{isOpen:n,onClose:i,urls:e})]})});function MI({divs:t}){const e=jI(!1),[n,a]=PI([]),i=AI(()=>{a(l=>{const c=Array.from(t).filter(u=>(u?.parentElement?.querySelectorAll(".rm-block a:not(.rm-alias--page):not(.rm-alias--block)")||[]).length>0);return $d(l,c)?c:l})},[t]);return II(()=>{e.current=!0;const l=setInterval(()=>{e.current&&i()},1e3);return()=>{e.current=!1,clearInterval(l)}},[i]),d.jsx(d.Fragment,{children:Array.from(n).map(l=>({div:l,links:l.parentElement?.querySelectorAll(".rm-block a:not(.rm-alias--page):not(.rm-alias--block)")||[]})).filter(l=>l.links.length>0).map((l,c)=>{const{div:u,links:f}=l,m=Array.from(f).map(h=>h.href);return NI(d.jsx(DI,{urls:m},c),u)})})}const Yb=()=>Array.from(document.querySelectorAll(`[class="${hc}"]`)),BI=t=>{Yb().filter(a=>!bm(t,JSON.parse(a.parentElement?.getAttribute("data-page-links")||"[]"))).forEach(a=>a.remove());const e=Array.from(document.querySelectorAll(".rm-block:not(.rm-block--ghost)")).filter(a=>!a.querySelector(`[class=${hc}]`)&&bm(t,JSON.parse(a.getAttribute("data-page-links")||"[]"))),n=document.createElement("span");n.classList.add(hc),e.forEach(a=>a.insertAdjacentElement("afterbegin",n.cloneNode(!0)))},zI=window.React.memo,$I=window.React.useCallback,FI=window.React.useEffect,UI=window.React.useRef,Yg=window.React.useState;zI(function(){const e=UI(!1),[{citekeyMenus:n,dnpMenus:a,tagMenus:i},l]=Yg({citekeyMenus:[],dnpMenus:[],tagMenus:[]}),[c,u]=Yg([]),[{trigger:f}]=bv(),[{tags:m}]=lS(),h=$I(()=>{l(y=>{const v={},b=vI();for(const x of Object.keys(b))$d(y[x],b[x])&&(v[x]=b[x]);return JSON.stringify(v)==="{}"?y:{...y,...v}}),u(y=>{const v=Yb();return $d(y,v)?v:y})},[]);return FI(()=>{e.current=!0;const y=setInterval(()=>{yI(),BI(m),e.current&&h()},1e3);return()=>{e.current=!1,clearInterval(y),Array.from(document.querySelectorAll(`[class*=${Gf}]`)).forEach(v=>v.remove()),Array.from(document.querySelectorAll(`[class=${hc}]`)).forEach(v=>v.remove())}},[h,m]),d.jsxs(d.Fragment,{children:[n?d.jsx(bI,{menus:n}):null,a?d.jsx(wI,{menus:a}):null,i?d.jsx(xI,{menus:i}):null,f?d.jsx(oR,{}):null,d.jsx(MI,{divs:c}),d.jsx(pR,{})]})});const qI=window.React.memo,HI=window.React.useMemo,VI=window.Blueprint.Core.Button,Hl=window.Blueprint.Core.Classes,XI=window.Blueprint.Core.Collapse,Zg=window.Blueprint.Core.Tag,WI=qI(function({log:e}){const[n,{toggle:a}]=Pt(!1),i=HI(()=>JSON.stringify(e.context||{})!="{}",[e.context]);return d.jsxs(No,{className:"zr-logger--entry","data-log-level":e.level,children:[d.jsxs("div",{className:"zr-log--header",children:[d.jsxs("div",{className:["zr-log--metadata",Hl.MONOSPACE_TEXT].join(" "),children:[d.jsx("span",{className:"zr-log--timestamp",children:ps(e.timestamp)}),d.jsx(Zg,{className:"zr-log--level",intent:e.intent,minimal:!0,children:e.level}),d.jsx(Zg,{minimal:!0,children:e.origin})]}),d.jsxs("div",{className:["zr-log--summary",W.TEXT_SMALL].join(" "),children:[d.jsxs("div",{children:[d.jsx("span",{className:Hl.MONOSPACE_TEXT,children:e.message}),e.detail&&d.jsx("span",{className:[Hl.MONOSPACE_TEXT,W.TEXT_SECONDARY,W.TEXT_SMALL].join(" "),children:e.detail})]}),i&&d.jsx(VI,{className:W.TEXT_SECONDARY,rightIcon:n?"chevron-up":"chevron-down",minimal:!0,onClick:a,small:!0,text:n?"Hide":"View",title:"Show details"})]})]}),d.jsx("div",{className:"zr-log--details",children:i&&d.jsx(XI,{isOpen:n,children:d.jsx("pre",{className:[Hl.CODE_BLOCK,W.TEXT_AUXILIARY].join(" "),children:JSON.stringify(e.context,null,"  ")})})})]})}),QI=WI;const KI=window.React.memo,Zb=window.React.useEffect,GI=window.React.useMemo,YI=window.React.useState,ZI=window.Blueprint.Core.Classes,JI=window.Blueprint.Core.NonIdealState,ej=window.Blueprint.Core.Spinner,tj=window.Blueprint.Core.Switch,Jg=20;function nj({items:t}){const[e,{toggle:n}]=Pt(!1),{currentPage:a,pageLimits:i,setCurrentPage:l}=_s({itemsPerPage:Jg}),c=GI(()=>e?t:t.filter(u=>u.level=="error"),[t,e]);return Zb(()=>{l(1)},[t,c,l]),d.jsxs("div",{className:"zr-logger--datalist",children:[c.length==0?d.jsx(JI,{className:W.TEXT_AUXILIARY,description:"No items to display"}):d.jsx(Lo,{children:c.sort((u,f)=>u.timestamp>f.timestamp?-1:1).slice(...i).map((u,f)=>d.jsx(QI,{log:u},f))}),d.jsxs(eo,{children:[d.jsx(Os,{arrows:"first",currentPage:a,itemsPerPage:Jg,nbItems:c.length,setCurrentPage:l}),d.jsx(tj,{"aria-checked":e,checked:e,label:"Show all entries",role:"switch",onChange:n})]})]})}KI(function({isOpen:e,onClose:n}){const[a,i]=YI(null);return Zb(()=>{try{const l=window.zoteroRoam.logs;i(l)}catch(l){console.error(l),i([])}},[]),d.jsx(la,{className:"logger",isOpen:e,label:"zoteroRoam Logs",onClose:n,children:d.jsx("div",{className:ZI.DIALOG_BODY,children:a==null?d.jsx(ej,{size:15}):d.jsx(nj,{items:a})})})});const ey=window.React.useMemo,rj=window.ReactDOM.createPortal,oj=window.Blueprint.Core.Classes,aj=window.Blueprint.Core.Dialog,ij=t=>{const{ariaLabelledBy:e,children:n,className:a,isOpen:i,lazy:l=!0,onClose:c,onOpening:u,...f}=t,{portalId:m}=Lc(),h=ey(()=>W.PREFIX_DIALOG_OVERLAY+a,[a]),y=ey(()=>({flex:"1 1 100%"}),[]);return rj(d.jsx(aj,{"aria-labelledby":e,canEscapeKeyClose:!0,canOutsideClickClose:!0,className:h,enforceFocus:!1,isOpen:i,lazy:l,onClose:c,onOpening:u,usePortal:!1,...f,children:d.jsx("div",{className:oj.DIALOG_BODY,children:d.jsx("div",{className:"main-panel",style:y,children:n})})}),document.getElementById(m))},Jb=window.Blueprint.Core.Classes,sj="search-library",ew="zr-library-search-dialogtitle",lj=[Jb.TEXT_OVERFLOW_ELLIPSIS,"zr-library-item--contents"].join(" "),cj=[Jb.MENU_ITEM_LABEL,"zr-library-item--key"].join(" "),uj=window.React.memo,Vl=window.React.useMemo,dj=window.Blueprint.Core.Button,wd=window.Blueprint.Core.Classes,fj=window.Blueprint.Core.Icon,pj=window.Blueprint.Core.InputGroup,hj=window.Blueprint.Core.Switch,mj=window.Blueprint.Core.useHotkeys,gj=uj(function(e){const{handleClose:n,handleKeyDown:a,handleKeyUp:i,handleQueryChange:l,quickCopyProps:{isActive:c,toggle:u},searchbar:f}=e,[m]=Ac(),h=Vl(()=>Rc(m),[m]),y=Vl(()=>d.jsx(fj,{id:ew,title:"Search in Zotero items",htmlTitle:"Search in Zotero items",intent:"primary",icon:"learning"}),[]),v=Vl(()=>d.jsxs(d.Fragment,{children:[d.jsx(hj,{className:["zr-quick-copy",W.TEXT_AUXILIARY].join(" "),label:"Quick Copy",checked:c,onChange:u,role:"switch","aria-checked":c}),d.jsx(dj,{className:wd.MINIMAL,large:!0,icon:"cross",onClick:n,title:"Close searchbar"})]}),[n,c,u]),b=Vl(()=>{const x={allowInInput:!0,global:!0,preventDefault:!0,stopPropagation:!0},S={focusSearchBar:{label:"Focus the searchbar",onKeyDown:()=>f?.current?.focus()},toggleQuickCopy:{label:"Toggle QuickCopy",onKeyDown:()=>u()}};return Object.keys(S).map(_=>{const R=h[_]||"";return R!==""?{...x,...S[_],combo:R}:!1}).filter(Bt)},[f,h,u]);return mj(b,{showDialogKeyCombo:"shift+Z+R"}),d.jsx(pj,{className:[wd.INPUT,wd.FILL,"zr-library-search-input-group"].join(" "),id:"zotero-roam-search-autocomplete",placeholder:"Search in abstract, title, authors (last names), year, tags, or citekey",spellCheck:"false",autoComplete:"off",type:"text",large:!0,onChange:l,onKeyDown:a,onKeyUp:i,inputRef:f,leftElement:y,rightElement:v})}),yj=gj,Zf=window.React.memo,xd=window.React.useCallback,vj=window.React.useEffect,bj=window.React.useMemo,wj=window.React.useRef,ty=window.React.useState,xj=window.Blueprint.Core.Menu,Cj=window.Blueprint.Core.MenuItem,Ej=window.Blueprint.Select.QueryList,Sj=window.Blueprint.Select.renderFilteredItems,Tj=300,_j=0,Cd=50,kj={itemListPredicate:(t,e)=>t.length<_j?[]:e.filter(n=>Ln(t,[n.key,n._multiField],{any_case:!0,match:"partial",search_compounds:!0,word_order:"loose"})),itemListRenderer:t=>{const{filteredItems:e,itemsParentRef:n,...a}=t,i=null,l=null,c=e.length,u=Sj({filteredItems:e.slice(0,Cd),itemsParentRef:n,...a},i,l);return u==null?null:d.jsxs(d.Fragment,{children:[d.jsx(xj,{ulRef:n,children:u}),c>Cd&&d.jsxs("div",{className:"zr-querylist--more-results",children:["Showing ",Cd," out of ",fn(c,"result")]})]})},itemRenderer:(t,e)=>{const{handleClick:n,modifiers:a}=e,i=[t.location,t.key].join("-");return d.jsx(Oj,{handleClick:n,item:t,modifiers:a},i)},itemsEqual:(t,e)=>t.itemKey==e.itemKey&&t.location==e.location},Oj=Zf(function(e){const{item:n,handleClick:a,modifiers:i}=e,{inGraph:l,itemType:c,key:u,meta:f,publication:m,title:h}=n;return d.jsx(Cj,{onClick:a,className:"zotero-roam-search_result",role:"menuitem","data-item-type":c,"data-in-graph":(l!=!1).toString(),htmlTitle:h,labelElement:"@"+u,labelClassName:cj,"aria-selected":i.active,tagName:"div",text:d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"zr-library-item--title",children:h}),d.jsxs("span",{className:"zr-details",children:[d.jsx("span",{className:W.TEXT_ACCENT_1,children:f}),d.jsx("span",{className:W.TEXT_SECONDARY,children:m})]})]}),textClassName:lj})}),Rj=Zf(function(e){const{handleClose:n,itemList:a,selectedItem:i}=e;return i?d.jsx(Nb,{item:i,closeDialog:n}):d.jsx("div",{id:"zotero-roam-library-rendered",children:a})}),Aj=Zf(function(e){const{handleClose:n,isOpen:a,items:i,quickCopyProps:l}=e,[c]=Rf(),u=wj(null),[f,m]=ty(null),[h,y]=ty(),[v]=tE(R=>{},Tj),b=xd((R,L)=>{if(!R)m(null);else{const{key:U,location:X}=R;if(JSON.stringify(f)===JSON.stringify({key:U,location:X}))return;l.isActive?(Ro(tf(R,c)),c.overrideKey&&L?.[c.overrideKey]==!0?(u?.current?.blur(),m({key:U,location:X})):n()):(c.always==!0&&Ro(tf(R,c)),u?.current?.blur(),m({key:U,location:X}))}},[c,n,l.isActive,u,f]),x=bj(()=>{if(f==null)return null;{const{key:R,location:L}=f;return i.find(U=>U.key==R&&U.location==L)}},[i,f]),S=xd((R,L)=>{m(null),y(R),v(R)},[v]),_=xd(R=>{const{handleKeyUp:L,handleKeyDown:U,handleQueryChange:X,itemList:ee}=R;return d.jsxs("div",{className:"zr-querylist",children:[d.jsx(yj,{handleClose:n,handleKeyDown:U,handleKeyUp:L,handleQueryChange:X,quickCopyProps:l,searchbar:u}),d.jsx(Rj,{handleClose:n,itemList:ee,selectedItem:x})]})},[n,l,u,x]);return vj(()=>{a?u?.current?.focus():(y(""),m(null))},[a,u]),d.jsx(Ej,{items:i,onItemSelect:b,onQueryChange:S,query:h,renderer:_,...kj})}),Ij=Aj;const jj=window.React.memo,Pj=window.React.useCallback,Nj=window.React.useMemo;function Lj(t,e,n={}){const a=Pj(c=>c.data?wC(c.data,e):[],[e]),i=ro(t,{...n,notifyOnChangeProps:["data"],select:a});return Nj(()=>i.map(c=>c.data||[]).flat(1),[i])}jj(function({isOpen:e,onClose:n,status:a}){const[{useQuickCopy:i}]=Rf(),[{dataRequests:l}]=cr(),[c]=Do(),[u,{toggle:f}]=Pt(i),m=Lj(l,c,{enabled:a==Oo.ON});return d.jsx(ij,{ariaLabelledBy:ew,className:sj,isOpen:e,lazy:!1,onClose:n,children:d.jsx(Mn,{children:d.jsx(Ij,{handleClose:n,isOpen:e,items:m,quickCopyProps:{isActive:u,toggle:f}})})})});window.React.Component;const Dj=window.React.createContext,Mj=window.React.useContext;window.React.useMemo;window.Blueprint.Core.HotkeysTarget2;const Bj=Dj(null),Lc=()=>{const t=Mj(Bj);if(!t)throw new Error("No context provided");return t};new d0({defaultOptions:{queries:{cacheTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchIntervalInBackground:!0,retryOnMount:!1,staleTime:1e3*60}}});window.React.useCallback;window.React.useEffect;window.React.useMemo;window.React.useState;window.Blueprint.Core.Button;window.Blueprint.Core.Intent;window.ReactDOM.render;window.Blueprint.Core.HotkeysProvider;
//# sourceMappingURL=extension.js.map

var zw=Object.defineProperty;var $w=(t,e,n)=>e in t?zw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Gi=(t,e,n)=>($w(t,typeof e!="symbol"?e+"":e,n),n);function mc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ny={exports:{}},vs={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Uh=Object.getOwnPropertySymbols,Fw=Object.prototype.hasOwnProperty,Uw=Object.prototype.propertyIsEnumerable;function qw(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Hw(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var o=Object.getOwnPropertyNames(e).map(function(l){return e[l]});if(o.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(l){i[l]=l}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Hw();/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vw=window.React,ry=60103;vs.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var qh=Symbol.for;ry=qh("react.element"),vs.Fragment=qh("react.fragment")}var Xw=Vw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ww=Object.prototype.hasOwnProperty,Qw={key:!0,ref:!0,__self:!0,__source:!0};function oy(t,e,n){var o,i={},l=null,c=null;n!==void 0&&(l=""+n),e.key!==void 0&&(l=""+e.key),e.ref!==void 0&&(c=e.ref);for(o in e)Ww.call(e,o)&&!Qw.hasOwnProperty(o)&&(i[o]=e[o]);if(t&&t.defaultProps)for(o in e=t.defaultProps,e)i[o]===void 0&&(i[o]=e[o]);return{$$typeof:ry,type:t,key:l,ref:c,props:i,_owner:Xw.current}}vs.jsx=oy;vs.jsxs=oy;ny.exports=vs;var d=ny.exports;class sa{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const ds=typeof window>"u"||"Deno"in window;function Gn(){}function Kw(t,e){return typeof t=="function"?t(e):t}function Ed(t){return typeof t=="number"&&t>=0&&t!==1/0}function Hh(t,e){return t.filter(n=>!e.includes(n))}function Gw(t,e,n){const o=t.slice(0);return o[e]=n,o}function ay(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ns(t,e,n){return bs(t)?typeof e=="function"?{...n,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function Yw(t,e,n){return bs(t)?typeof e=="function"?{...n,mutationKey:t,mutationFn:e}:{...e,mutationKey:t}:typeof t=="function"?{...e,mutationFn:t}:{...t}}function _o(t,e,n){return bs(t)?[{...e,queryKey:t},n]:[t||{},e]}function Vh(t,e){const{type:n="all",exact:o,fetchStatus:i,predicate:l,queryKey:c,stale:u}=t;if(bs(c)){if(o){if(e.queryHash!==uf(c,e.options))return!1}else if(!rc(e.queryKey,c))return!1}if(n!=="all"){const f=e.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||typeof i<"u"&&i!==e.state.fetchStatus||l&&!l(e))}function Xh(t,e){const{exact:n,fetching:o,predicate:i,mutationKey:l}=t;if(bs(l)){if(!e.options.mutationKey)return!1;if(n){if(na(e.options.mutationKey)!==na(l))return!1}else if(!rc(e.options.mutationKey,l))return!1}return!(typeof o=="boolean"&&e.state.status==="loading"!==o||i&&!i(e))}function uf(t,e){return(e?.queryKeyHashFn||na)(t)}function na(t){return JSON.stringify(t,(e,n)=>Sd(n)?Object.keys(n).sort().reduce((o,i)=>(o[i]=n[i],o),{}):n)}function rc(t,e){return iy(t,e)}function iy(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!iy(t[n],e[n])):!1}function sy(t,e){if(t===e)return t;const n=Wh(t)&&Wh(e);if(n||Sd(t)&&Sd(e)){const o=n?t.length:Object.keys(t).length,i=n?e:Object.keys(e),l=i.length,c=n?[]:{};let u=0;for(let f=0;f<l;f++){const m=n?f:i[f];c[m]=sy(t[m],e[m]),c[m]===t[m]&&u++}return o===l&&u===o?t:c}return e}function oc(t,e){if(t&&!e||e&&!t)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Wh(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Sd(t){if(!Qh(t))return!1;const e=t.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!Qh(n)||!n.hasOwnProperty("isPrototypeOf"))}function Qh(t){return Object.prototype.toString.call(t)==="[object Object]"}function bs(t){return Array.isArray(t)}function ly(t){return new Promise(e=>{setTimeout(e,t)})}function Kh(t){ly(0).then(t)}function Zw(){if(typeof AbortController=="function")return new AbortController}function Td(t,e,n){return n.isDataEqual!=null&&n.isDataEqual(t,e)?t:typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?sy(t,e):e}class Jw extends sa{constructor(){super(),this.setup=e=>{if(!ds&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const ac=new Jw,Gh=["online","offline"];class e0 extends sa{constructor(){super(),this.setup=e=>{if(!ds&&window.addEventListener){const n=()=>e();return Gh.forEach(o=>{window.addEventListener(o,n,!1)}),()=>{Gh.forEach(o=>{window.removeEventListener(o,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(o=>{typeof o=="boolean"?this.setOnline(o):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const ic=new e0;function t0(t){return Math.min(1e3*2**t,3e4)}function gc(t){return(t??"online")==="online"?ic.isOnline():!0}class cy{constructor(e){this.revert=e?.revert,this.silent=e?.silent}}function Xl(t){return t instanceof cy}function uy(t){let e=!1,n=0,o=!1,i,l,c;const u=new Promise((k,A)=>{l=k,c=A}),f=k=>{o||(b(new cy(k)),t.abort==null||t.abort())},m=()=>{e=!0},h=()=>{e=!1},v=()=>!ac.isFocused()||t.networkMode!=="always"&&!ic.isOnline(),y=k=>{o||(o=!0,t.onSuccess==null||t.onSuccess(k),i?.(),l(k))},b=k=>{o||(o=!0,t.onError==null||t.onError(k),i?.(),c(k))},x=()=>new Promise(k=>{i=A=>{const L=o||!v();return L&&k(A),L},t.onPause==null||t.onPause()}).then(()=>{i=void 0,o||t.onContinue==null||t.onContinue()}),S=()=>{if(o)return;let k;try{k=t.fn()}catch(A){k=Promise.reject(A)}Promise.resolve(k).then(y).catch(A=>{var L,U;if(o)return;const X=(L=t.retry)!=null?L:3,ee=(U=t.retryDelay)!=null?U:t0,D=typeof ee=="function"?ee(n,A):ee,j=X===!0||typeof X=="number"&&n<X||typeof X=="function"&&X(n,A);if(e||!j){b(A);return}n++,t.onFail==null||t.onFail(n,A),ly(D).then(()=>{if(v())return x()}).then(()=>{e?b(A):S()})})};return gc(t.networkMode)?S():x().then(S),{promise:u,cancel:f,continue:()=>i?.()?u:Promise.resolve(),cancelRetry:m,continueRetry:h}}const df=console;function n0(){let t=[],e=0,n=h=>{h()},o=h=>{h()};const i=h=>{let v;e++;try{v=h()}finally{e--,e||u()}return v},l=h=>{e?t.push(h):Kh(()=>{n(h)})},c=h=>(...v)=>{l(()=>{h(...v)})},u=()=>{const h=t;t=[],h.length&&Kh(()=>{o(()=>{h.forEach(v=>{n(v)})})})};return{batch:i,batchCalls:c,schedule:l,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{o=h}}}const Mt=n0();class dy{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ed(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(ds?1/0:5*60*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class r0 extends dy{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||df,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||o0(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const o=Td(this.state.data,e,this.options);return this.dispatch({data:o,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),o}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const o=this.promise;return(n=this.retryer)==null||n.cancel(e),o?o.then(Gn).catch(Gn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!ay(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(o=>o.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(o=>o.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var o,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var l;return(l=this.retryer)==null||l.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(x=>x.options.queryFn);b&&this.setOptions(b.options)}const c=Zw(),u={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},f=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>{if(c)return this.abortSignalConsumed=!0,c.signal}})};f(u);const m=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(u)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),h={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:m};if(f(h),(o=this.options.behavior)==null||o.onFetch(h),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=h.fetchOptions)==null?void 0:i.meta)){var v;this.dispatch({type:"fetch",meta:(v=h.fetchOptions)==null?void 0:v.meta})}const y=b=>{if(Xl(b)&&b.silent||this.dispatch({type:"error",error:b}),!Xl(b)){var x,S,k,A;(x=(S=this.cache.config).onError)==null||x.call(S,b,this),(k=(A=this.cache.config).onSettled)==null||k.call(A,this.state.data,b,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=uy({fn:h.fetchFn,abort:c?.abort.bind(c),onSuccess:b=>{var x,S,k,A;if(typeof b>"u"){y(new Error(this.queryHash+" data is undefined"));return}this.setData(b),(x=(S=this.cache.config).onSuccess)==null||x.call(S,b,this),(k=(A=this.cache.config).onSettled)==null||k.call(A,b,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:y,onFail:(b,x)=>{this.dispatch({type:"failed",failureCount:b,error:x})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=o=>{var i,l;switch(e.type){case"failed":return{...o,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:gc(this.options.networkMode)?"fetching":"paused",...!o.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...o,data:e.data,dataUpdateCount:o.dataUpdateCount+1,dataUpdatedAt:(l=e.dataUpdatedAt)!=null?l:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const c=e.error;return Xl(c)&&c.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...o,error:c,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:c,fetchStatus:"idle",status:"error"};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...e.state}}};this.state=n(this.state),Mt.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function o0(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=typeof e<"u",o=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class a0 extends sa{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,o){var i;const l=n.queryKey,c=(i=n.queryHash)!=null?i:uf(l,n);let u=this.get(c);return u||(u=new r0({cache:this,logger:e.getLogger(),queryKey:l,queryHash:c,options:e.defaultQueryOptions(n),state:o,defaultOptions:e.getQueryDefaults(l)}),this.add(u)),u}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(o=>o!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){Mt.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[o]=_o(e,n);return typeof o.exact>"u"&&(o.exact=!0),this.queries.find(i=>Vh(o,i))}findAll(e,n){const[o]=_o(e,n);return Object.keys(o).length>0?this.queries.filter(i=>Vh(o,i)):this.queries}notify(e){Mt.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){Mt.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){Mt.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class i0 extends dy{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||df,this.observers=[],this.state=e.state||fy(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var j;return this.retryer=uy({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(P,q)=>{this.dispatch({type:"failed",failureCount:P,error:q})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(j=this.options.retry)!=null?j:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var o,i,l,c,u,f,m,h;if(!n){var v,y,b,x;this.dispatch({type:"loading",variables:this.options.variables}),await((v=(y=this.mutationCache.config).onMutate)==null?void 0:v.call(y,this.state.variables,this));const P=await((b=(x=this.options).onMutate)==null?void 0:b.call(x,this.state.variables));P!==this.state.context&&this.dispatch({type:"loading",context:P,variables:this.state.variables})}const j=await e();return await((o=(i=this.mutationCache.config).onSuccess)==null?void 0:o.call(i,j,this.state.variables,this.state.context,this)),await((l=(c=this.options).onSuccess)==null?void 0:l.call(c,j,this.state.variables,this.state.context)),await((u=(f=this.mutationCache.config).onSettled)==null?void 0:u.call(f,j,null,this.state.variables,this.state.context,this)),await((m=(h=this.options).onSettled)==null?void 0:m.call(h,j,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:j}),j}catch(j){try{var S,k,A,L,U,X,ee,D;throw await((S=(k=this.mutationCache.config).onError)==null?void 0:S.call(k,j,this.state.variables,this.state.context,this)),await((A=(L=this.options).onError)==null?void 0:A.call(L,j,this.state.variables,this.state.context)),await((U=(X=this.mutationCache.config).onSettled)==null?void 0:U.call(X,void 0,j,this.state.variables,this.state.context,this)),await((ee=(D=this.options).onSettled)==null?void 0:ee.call(D,void 0,j,this.state.variables,this.state.context)),j}finally{this.dispatch({type:"error",error:j})}}}dispatch(e){const n=o=>{switch(e.type){case"failed":return{...o,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"loading":return{...o,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!gc(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...o,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:e.error,failureCount:o.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...o,...e.state}}};this.state=n(this.state),Mt.batch(()=>{this.observers.forEach(o=>{o.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function fy(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class s0 extends sa{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,o){const i=new i0({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:o,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){Mt.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>Xh(e,n))}findAll(e){return this.mutations.filter(n=>Xh(e,n))}notify(e){Mt.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(o=>o.state.isPaused);return Mt.batch(()=>n.reduce((o,i)=>o.then(()=>i.continue().catch(Gn)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function l0(){return{onFetch:t=>{t.fetchFn=()=>{var e,n,o,i,l,c;const u=(e=t.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,f=(o=t.fetchOptions)==null||(i=o.meta)==null?void 0:i.fetchMore,m=f?.pageParam,h=f?.direction==="forward",v=f?.direction==="backward",y=((l=t.state.data)==null?void 0:l.pages)||[],b=((c=t.state.data)==null?void 0:c.pageParams)||[];let x=b,S=!1;const k=D=>{Object.defineProperty(D,"signal",{enumerable:!0,get:()=>{var j;if((j=t.signal)!=null&&j.aborted)S=!0;else{var P;(P=t.signal)==null||P.addEventListener("abort",()=>{S=!0})}return t.signal}})},A=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),L=(D,j,P,q)=>(x=q?[j,...x]:[...x,j],q?[P,...D]:[...D,P]),U=(D,j,P,q)=>{if(S)return Promise.reject("Cancelled");if(typeof P>"u"&&!j&&D.length)return Promise.resolve(D);const fe={queryKey:t.queryKey,pageParam:P,meta:t.options.meta};k(fe);const me=A(fe);return Promise.resolve(me).then(ye=>L(D,P,ye,q))};let X;if(!y.length)X=U([]);else if(h){const D=typeof m<"u",j=D?m:Yh(t.options,y);X=U(y,D,j)}else if(v){const D=typeof m<"u",j=D?m:c0(t.options,y);X=U(y,D,j,!0)}else{x=[];const D=typeof t.options.getNextPageParam>"u";X=(u&&y[0]?u(y[0],0,y):!0)?U([],D,b[0]):Promise.resolve(L([],b[0],y[0]));for(let P=1;P<y.length;P++)X=X.then(q=>{if(u&&y[P]?u(y[P],P,y):!0){const me=D?b[P]:Yh(t.options,q);return U(q,D,me)}return Promise.resolve(L(q,b[P],y[P]))})}return X.then(D=>({pages:D,pageParams:x}))}}}}function Yh(t,e){return t.getNextPageParam==null?void 0:t.getNextPageParam(e[e.length-1],e)}function c0(t,e){return t.getPreviousPageParam==null?void 0:t.getPreviousPageParam(e[0],e)}class u0{constructor(e={}){this.queryCache=e.queryCache||new a0,this.mutationCache=e.mutationCache||new s0,this.logger=e.logger||df,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=ac.subscribe(()=>{ac.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=ic.subscribe(()=>{ic.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[o]=_o(e,n);return o.fetchStatus="fetching",this.queryCache.findAll(o).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var o;return(o=this.queryCache.find(e,n))==null?void 0:o.state.data}ensureQueryData(e,n,o){const i=ns(e,n,o),l=this.getQueryData(i.queryKey);return l?Promise.resolve(l):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:o})=>{const i=o.data;return[n,i]})}setQueryData(e,n,o){const i=this.queryCache.find(e),l=i?.state.data,c=Kw(n,l);if(typeof c>"u")return;const u=ns(e),f=this.defaultQueryOptions(u);return this.queryCache.build(this,f).setData(c,{...o,manual:!0})}setQueriesData(e,n,o){return Mt.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,o)]))}getQueryState(e,n){var o;return(o=this.queryCache.find(e,n))==null?void 0:o.state}removeQueries(e,n){const[o]=_o(e,n),i=this.queryCache;Mt.batch(()=>{i.findAll(o).forEach(l=>{i.remove(l)})})}resetQueries(e,n,o){const[i,l]=_o(e,n,o),c=this.queryCache,u={type:"active",...i};return Mt.batch(()=>(c.findAll(i).forEach(f=>{f.reset()}),this.refetchQueries(u,l)))}cancelQueries(e,n,o){const[i,l={}]=_o(e,n,o);typeof l.revert>"u"&&(l.revert=!0);const c=Mt.batch(()=>this.queryCache.findAll(i).map(u=>u.cancel(l)));return Promise.all(c).then(Gn).catch(Gn)}invalidateQueries(e,n,o){const[i,l]=_o(e,n,o);return Mt.batch(()=>{var c,u;if(this.queryCache.findAll(i).forEach(m=>{m.invalidate()}),i.refetchType==="none")return Promise.resolve();const f={...i,type:(c=(u=i.refetchType)!=null?u:i.type)!=null?c:"active"};return this.refetchQueries(f,l)})}refetchQueries(e,n,o){const[i,l]=_o(e,n,o),c=Mt.batch(()=>this.queryCache.findAll(i).filter(f=>!f.isDisabled()).map(f=>{var m;return f.fetch(void 0,{...l,cancelRefetch:(m=l?.cancelRefetch)!=null?m:!0,meta:{refetchPage:i.refetchPage}})}));let u=Promise.all(c).then(Gn);return l!=null&&l.throwOnError||(u=u.catch(Gn)),u}fetchQuery(e,n,o){const i=ns(e,n,o),l=this.defaultQueryOptions(i);typeof l.retry>"u"&&(l.retry=!1);const c=this.queryCache.build(this,l);return c.isStaleByTime(l.staleTime)?c.fetch(l):Promise.resolve(c.state.data)}prefetchQuery(e,n,o){return this.fetchQuery(e,n,o).then(Gn).catch(Gn)}fetchInfiniteQuery(e,n,o){const i=ns(e,n,o);return i.behavior=l0(),this.fetchQuery(i)}prefetchInfiniteQuery(e,n,o){return this.fetchInfiniteQuery(e,n,o).then(Gn).catch(Gn)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const o=this.queryDefaults.find(i=>na(e)===na(i.queryKey));o?o.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(o=>rc(e,o.queryKey));return n?.defaultOptions}setMutationDefaults(e,n){const o=this.mutationDefaults.find(i=>na(e)===na(i.mutationKey));o?o.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(o=>rc(e,o.mutationKey));return n?.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e?.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=uf(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e?.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class py extends sa{constructor(e,n){super(),this.client=e,this.options=n,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(n)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.currentQuery.addObserver(this),Zh(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _d(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _d(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(e,n){const o=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),oc(o,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=o.queryKey),this.updateQuery();const l=this.hasListeners();l&&Jh(this.currentQuery,i,this.options,o)&&this.executeFetch(),this.updateResult(n),l&&(this.currentQuery!==i||this.options.enabled!==o.enabled||this.options.staleTime!==o.staleTime)&&this.updateStaleTimeout();const c=this.computeRefetchInterval();l&&(this.currentQuery!==i||this.options.enabled!==o.enabled||c!==this.currentRefetchInterval)&&this.updateRefetchInterval(c)}getOptimisticResult(e){const n=this.client.getQueryCache().build(this.client,e),o=this.createResult(n,e);return f0(this,o,e)&&(this.currentResult=o,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),o}getCurrentResult(){return this.currentResult}trackResult(e){const n={};return Object.keys(e).forEach(o=>{Object.defineProperty(n,o,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(o),e[o])})}),n}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:e,...n}={}){return this.fetch({...n,meta:{refetchPage:e}})}fetchOptimistic(e){const n=this.client.defaultQueryOptions(e),o=this.client.getQueryCache().build(this.client,n);return o.isFetchingOptimistic=!0,o.fetch().then(()=>this.createResult(o,n))}fetch(e){var n;return this.executeFetch({...e,cancelRefetch:(n=e.cancelRefetch)!=null?n:!0}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(e){this.updateQuery();let n=this.currentQuery.fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Gn)),n}updateStaleTimeout(){if(this.clearStaleTimeout(),ds||this.currentResult.isStale||!Ed(this.options.staleTime))return;const n=ay(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},n)}computeRefetchInterval(){var e;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(e=this.options.refetchInterval)!=null?e:!1}updateRefetchInterval(e){this.clearRefetchInterval(),this.currentRefetchInterval=e,!(ds||this.options.enabled===!1||!Ed(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||ac.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(e,n){const o=this.currentQuery,i=this.options,l=this.currentResult,c=this.currentResultState,u=this.currentResultOptions,f=e!==o,m=f?e.state:this.currentQueryInitialState,h=f?this.currentResult:this.previousQueryResult,{state:v}=e;let{dataUpdatedAt:y,error:b,errorUpdatedAt:x,fetchStatus:S,status:k}=v,A=!1,L=!1,U;if(n._optimisticResults){const P=this.hasListeners(),q=!P&&Zh(e,n),fe=P&&Jh(e,o,n,i);(q||fe)&&(S=gc(e.options.networkMode)?"fetching":"paused",y||(k="loading")),n._optimisticResults==="isRestoring"&&(S="idle")}if(n.keepPreviousData&&!v.dataUpdatedAt&&h!=null&&h.isSuccess&&k!=="error")U=h.data,y=h.dataUpdatedAt,k=h.status,A=!0;else if(n.select&&typeof v.data<"u")if(l&&v.data===c?.data&&n.select===this.selectFn)U=this.selectResult;else try{this.selectFn=n.select,U=n.select(v.data),U=Td(l?.data,U,n),this.selectResult=U,this.selectError=null}catch(P){this.selectError=P}else U=v.data;if(typeof n.placeholderData<"u"&&typeof U>"u"&&k==="loading"){let P;if(l!=null&&l.isPlaceholderData&&n.placeholderData===u?.placeholderData)P=l.data;else if(P=typeof n.placeholderData=="function"?n.placeholderData():n.placeholderData,n.select&&typeof P<"u")try{P=n.select(P),this.selectError=null}catch(q){this.selectError=q}typeof P<"u"&&(k="success",U=Td(l?.data,P,n),L=!0)}this.selectError&&(b=this.selectError,U=this.selectResult,x=Date.now(),k="error");const X=S==="fetching",ee=k==="loading",D=k==="error";return{status:k,fetchStatus:S,isLoading:ee,isSuccess:k==="success",isError:D,isInitialLoading:ee&&X,data:U,dataUpdatedAt:y,error:b,errorUpdatedAt:x,failureCount:v.fetchFailureCount,failureReason:v.fetchFailureReason,errorUpdateCount:v.errorUpdateCount,isFetched:v.dataUpdateCount>0||v.errorUpdateCount>0,isFetchedAfterMount:v.dataUpdateCount>m.dataUpdateCount||v.errorUpdateCount>m.errorUpdateCount,isFetching:X,isRefetching:X&&!ee,isLoadingError:D&&v.dataUpdatedAt===0,isPaused:S==="paused",isPlaceholderData:L,isPreviousData:A,isRefetchError:D&&v.dataUpdatedAt!==0,isStale:ff(e,n),refetch:this.refetch,remove:this.remove}}updateResult(e){const n=this.currentResult,o=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,oc(o,n))return;this.currentResult=o;const i={cache:!0},l=()=>{if(!n)return!0;const{notifyOnChangeProps:c}=this.options,u=typeof c=="function"?c():c;if(u==="all"||!u&&!this.trackedProps.size)return!0;const f=new Set(u??this.trackedProps);return this.options.useErrorBoundary&&f.add("error"),Object.keys(this.currentResult).some(m=>{const h=m;return this.currentResult[h]!==n[h]&&f.has(h)})};e?.listeners!==!1&&l()&&(i.listeners=!0),this.notify({...i,...e})}updateQuery(){const e=this.client.getQueryCache().build(this.client,this.options);if(e===this.currentQuery)return;const n=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(n?.removeObserver(this),e.addObserver(this))}onQueryUpdate(e){const n={};e.type==="success"?n.onSuccess=!e.manual:e.type==="error"&&!Xl(e.error)&&(n.onError=!0),this.updateResult(n),this.hasListeners()&&this.updateTimers()}notify(e){Mt.batch(()=>{if(e.onSuccess){var n,o,i,l;(n=(o=this.options).onSuccess)==null||n.call(o,this.currentResult.data),(i=(l=this.options).onSettled)==null||i.call(l,this.currentResult.data,null)}else if(e.onError){var c,u,f,m;(c=(u=this.options).onError)==null||c.call(u,this.currentResult.error),(f=(m=this.options).onSettled)==null||f.call(m,void 0,this.currentResult.error)}e.listeners&&this.listeners.forEach(({listener:h})=>{h(this.currentResult)}),e.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function d0(t,e){return e.enabled!==!1&&!t.state.dataUpdatedAt&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Zh(t,e){return d0(t,e)||t.state.dataUpdatedAt>0&&_d(t,e,e.refetchOnMount)}function _d(t,e,n){if(e.enabled!==!1){const o=typeof n=="function"?n(t):n;return o==="always"||o!==!1&&ff(t,e)}return!1}function Jh(t,e,n,o){return n.enabled!==!1&&(t!==e||o.enabled===!1)&&(!n.suspense||t.state.status!=="error")&&ff(t,n)}function ff(t,e){return t.isStaleByTime(e.staleTime)}function f0(t,e,n){return n.keepPreviousData?!1:n.placeholderData!==void 0?e.isPlaceholderData:!oc(t.getCurrentResult(),e)}class p0 extends sa{constructor(e,n){super(),this.client=e,this.queries=[],this.result=[],this.observers=[],this.observersMap={},n&&this.setQueries(n)}onSubscribe(){this.listeners.size===1&&this.observers.forEach(e=>{e.subscribe(n=>{this.onUpdate(e,n)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,this.observers.forEach(e=>{e.destroy()})}setQueries(e,n){this.queries=e,Mt.batch(()=>{const o=this.observers,i=this.findMatchingObservers(this.queries);i.forEach(m=>m.observer.setOptions(m.defaultedQueryOptions,n));const l=i.map(m=>m.observer),c=Object.fromEntries(l.map(m=>[m.options.queryHash,m])),u=l.map(m=>m.getCurrentResult()),f=l.some((m,h)=>m!==o[h]);o.length===l.length&&!f||(this.observers=l,this.observersMap=c,this.result=u,this.hasListeners()&&(Hh(o,l).forEach(m=>{m.destroy()}),Hh(l,o).forEach(m=>{m.subscribe(h=>{this.onUpdate(m,h)})}),this.notify()))})}getCurrentResult(){return this.result}getQueries(){return this.observers.map(e=>e.getCurrentQuery())}getObservers(){return this.observers}getOptimisticResult(e){return this.findMatchingObservers(e).map(n=>n.observer.getOptimisticResult(n.defaultedQueryOptions))}findMatchingObservers(e){const n=this.observers,o=new Map(n.map(b=>[b.options.queryHash,b])),i=e.map(b=>this.client.defaultQueryOptions(b)),l=i.flatMap(b=>{const x=o.get(b.queryHash);return x!=null?[{defaultedQueryOptions:b,observer:x}]:[]}),c=new Set(l.map(b=>b.defaultedQueryOptions.queryHash)),u=i.filter(b=>!c.has(b.queryHash)),f=new Set(l.map(b=>b.observer)),m=n.filter(b=>!f.has(b)),h=b=>{const x=this.client.defaultQueryOptions(b),S=this.observersMap[x.queryHash];return S??new py(this.client,x)},v=u.map((b,x)=>{if(b.keepPreviousData){const S=m[x];if(S!==void 0)return{defaultedQueryOptions:b,observer:S}}return{defaultedQueryOptions:b,observer:h(b)}}),y=(b,x)=>i.indexOf(b.defaultedQueryOptions)-i.indexOf(x.defaultedQueryOptions);return l.concat(v).sort(y)}onUpdate(e,n){const o=this.observers.indexOf(e);o!==-1&&(this.result=Gw(this.result,o,n),this.notify())}notify(){Mt.batch(()=>{this.listeners.forEach(({listener:e})=>{e(this.result)})})}}let h0=class extends sa{constructor(e,n){super(),this.client=e,this.setOptions(n),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const o=this.options;this.options=this.client.defaultMutationOptions(e),oc(o,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),(n=this.currentMutation)==null||n.setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.currentMutation)==null||e.removeObserver(this)}}onMutationUpdate(e){this.updateResult();const n={listeners:!0};e.type==="success"?n.onSuccess=!0:e.type==="error"&&(n.onError=!0),this.notify(n)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:typeof e<"u"?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:fy(),n={...e,isLoading:e.status==="loading",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset};this.currentResult=n}notify(e){Mt.batch(()=>{if(this.mutateOptions&&this.hasListeners()){if(e.onSuccess){var n,o,i,l;(n=(o=this.mutateOptions).onSuccess)==null||n.call(o,this.currentResult.data,this.currentResult.variables,this.currentResult.context),(i=(l=this.mutateOptions).onSettled)==null||i.call(l,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context)}else if(e.onError){var c,u,f,m;(c=(u=this.mutateOptions).onError)==null||c.call(u,this.currentResult.error,this.currentResult.variables,this.currentResult.context),(f=(m=this.mutateOptions).onSettled)==null||f.call(m,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}}e.listeners&&this.listeners.forEach(({listener:h})=>{h(this.currentResult)})})}};var hy={exports:{}},my={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ei=window.React;function m0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var g0=typeof Object.is=="function"?Object.is:m0,y0=ei.useState,v0=ei.useEffect,b0=ei.useLayoutEffect,w0=ei.useDebugValue;function x0(t,e){var n=e(),o=y0({inst:{value:n,getSnapshot:e}}),i=o[0].inst,l=o[1];return b0(function(){i.value=n,i.getSnapshot=e,Wu(i)&&l({inst:i})},[t,n,e]),v0(function(){return Wu(i)&&l({inst:i}),t(function(){Wu(i)&&l({inst:i})})},[t]),w0(n),n}function Wu(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!g0(t,n)}catch{return!0}}function C0(t,e){return e()}var E0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?C0:x0;my.useSyncExternalStore=ei.useSyncExternalStore!==void 0?ei.useSyncExternalStore:E0;hy.exports=my;var S0=hy.exports;const pf=S0.useSyncExternalStore,sc=window.React,em=sc.createContext(void 0),T0=sc.createContext(!1);function _0(t,e){return t||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=em),window.ReactQueryClientContext):em)}const Io=({context:t}={})=>{const e=sc.useContext(_0(t,sc.useContext(T0)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},gy=window.React,yy=gy.createContext(!1),vy=()=>gy.useContext(yy);yy.Provider;const by=window.React;function k0(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}const O0=by.createContext(k0()),wy=()=>by.useContext(O0);function xy(t,e){return typeof t=="function"?t(...e):!!t}const R0=window.React,Cy=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},Ey=t=>{R0.useEffect(()=>{t.clearReset()},[t])},Sy=({result:t,errorResetBoundary:e,useErrorBoundary:n,query:o})=>t.isError&&!e.isReset()&&!t.isFetching&&xy(n,[t.error,o]),Ty=t=>{t.suspense&&typeof t.staleTime!="number"&&(t.staleTime=1e3)},_y=(t,e)=>t.isLoading&&t.isFetching&&!e,kd=(t,e,n)=>t?.suspense&&_y(e,n),Od=(t,e,n)=>e.fetchOptimistic(t).then(({data:o})=>{t.onSuccess==null||t.onSuccess(o),t.onSettled==null||t.onSettled(o,null)}).catch(o=>{n.clearReset(),t.onError==null||t.onError(o),t.onSettled==null||t.onSettled(void 0,o)}),Tl=window.React;function ws({queries:t,context:e}){const n=Io({context:e}),o=vy(),i=wy(),l=Tl.useMemo(()=>t.map(y=>{const b=n.defaultQueryOptions(y);return b._optimisticResults=o?"isRestoring":"optimistic",b}),[t,n,o]);l.forEach(y=>{Ty(y),Cy(y,i)}),Ey(i);const[c]=Tl.useState(()=>new p0(n,l)),u=c.getOptimisticResult(l);pf(Tl.useCallback(y=>o?()=>{}:c.subscribe(Mt.batchCalls(y)),[c,o]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),Tl.useEffect(()=>{c.setQueries(l,{listeners:!1})},[l,c]);const m=u.some((y,b)=>kd(l[b],y,o))?u.flatMap((y,b)=>{const x=l[b],S=c.getObservers()[b];if(x&&S){if(kd(x,y,o))return Od(x,S,i);_y(y,o)&&Od(x,S,i)}return[]}):[];if(m.length>0)throw Promise.all(m);const h=c.getQueries(),v=u.find((y,b)=>{var x,S;return Sy({result:y,errorResetBoundary:i,useErrorBoundary:(x=(S=l[b])==null?void 0:S.useErrorBoundary)!=null?x:!1,query:h[b]})});if(v!=null&&v.error)throw v.error;return u}const Qu=window.React;function A0(t,e){const n=Io({context:t.context}),o=vy(),i=wy(),l=n.defaultQueryOptions(t);l._optimisticResults=o?"isRestoring":"optimistic",l.onError&&(l.onError=Mt.batchCalls(l.onError)),l.onSuccess&&(l.onSuccess=Mt.batchCalls(l.onSuccess)),l.onSettled&&(l.onSettled=Mt.batchCalls(l.onSettled)),Ty(l),Cy(l,i),Ey(i);const[c]=Qu.useState(()=>new e(n,l)),u=c.getOptimisticResult(l);if(pf(Qu.useCallback(f=>{const m=o?()=>{}:c.subscribe(Mt.batchCalls(f));return c.updateResult(),m},[c,o]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),Qu.useEffect(()=>{c.setOptions(l,{listeners:!1})},[l,c]),kd(l,u,o))throw Od(l,c,i);if(Sy({result:u,errorResetBoundary:i,useErrorBoundary:l.useErrorBoundary,query:c.getCurrentQuery()}))throw u.error;return l.notifyOnChangeProps?u:c.trackResult(u)}function I0(t,e,n){const o=ns(t,e,n);return A0(o,py)}const _l=window.React;function hf(t,e,n){const o=Yw(t,e,n),i=Io({context:o.context}),[l]=_l.useState(()=>new h0(i,o));_l.useEffect(()=>{l.setOptions(o)},[l,o]);const c=pf(_l.useCallback(f=>l.subscribe(Mt.batchCalls(f)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),u=_l.useCallback((f,m)=>{l.mutate(f,m).catch(j0)},[l]);if(c.error&&xy(l.options.useErrorBoundary,[c.error]))throw c.error;return{...c,mutate:u,mutateAsync:c.mutate}}function j0(){}const W={DATALIST_ITEM:"zr-datalist--item",DATALIST_PAGINATION:"zr-datalist--pagination",DATALIST_TOOLBAR:"zr-datalist--toolbar",DATALIST_WRAPPER:"zr-datalist--listwrapper",DATE_PICKER:"zr-date-picker",DIVIDER_MINIMAL:"zr-divider-minimal",INPUT_BOX:"zr-input-box",INPUT_DATE_RANGE:"zr-date-range-input",INPUT_TEXT:"zr-text-input",POPOVER:"zr-popover",PREFIX_DIALOG_AUXILIARY:"zr-auxiliary-dialog--",PREFIX_DIALOG_OVERLAY:"zr-dialog-overlay--",PREFIX_DRAWER:"zr-drawer--",TABS:"zr-tabs",TABS_MINIMAL:"zr-tabs-minimal",TEXT_ACCENT_1:"zr-accent-1",TEXT_ACCENT_2:"zr-accent-2",TEXT_AUXILIARY:"zr-auxiliary",TEXT_SECONDARY:"zr-secondary",TEXT_SMALL:"zr-text-small",TRIBUTE:"zr-tribute",TRIBUTE_SELECTED:"zr-tribute--selected",TRIBUTE_DETAILS:"zr-tribute--item-details"};const tm=window.React.useMemo,P0=window.ReactDOM.createPortal,N0=window.Blueprint.Core.Dialog,L0=window.Blueprint.Core.H5,la=t=>{const{ariaLabelledBy:e=null,className:n,extraClasses:o=[],isOpen:i,label:l=null,onClose:c,title:u=null}=t,{portalId:f}=Lc(),m=tm(()=>[W.PREFIX_DIALOG_AUXILIARY+n,...o].join(" "),[n,o]),h=tm(()=>!e&&l?{element:d.jsx(L0,{id:n+"-label",style:{display:"none"},children:l}),id:n+"-label"}:{element:null,id:null},[e,n,l]);return P0(d.jsxs(N0,{"aria-labelledby":e||h.id||void 0,canEscapeKeyClose:!0,canOutsideClickClose:!0,className:m,enforceFocus:!1,isOpen:i,lazy:!0,title:u,usePortal:!1,onClose:c,children:[h.element,t.children]}),document.getElementById(f))},D0=window.Blueprint.Core.Button,M0=window.Blueprint.Core.Callout;function ky({buttonText:t="Go back",error:e,resetErrorBoundary:n=void 0}){return d.jsxs(M0,{intent:"danger",title:e.name,children:[d.jsx("p",{children:e.message}),n!==void 0&&d.jsx(D0,{intent:"danger",onClick:n,outlined:!0,text:t})]})}function Oy(t,e){return function(){return t.apply(e,arguments)}}const{toString:B0}=Object.prototype,{getPrototypeOf:mf}=Object,yc=(t=>e=>{const n=B0.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Nr=t=>(t=t.toLowerCase(),e=>yc(e)===t),vc=t=>e=>typeof e===t,{isArray:ii}=Array,fs=vc("undefined");function z0(t){return t!==null&&!fs(t)&&t.constructor!==null&&!fs(t.constructor)&&Yn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ry=Nr("ArrayBuffer");function $0(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Ry(t.buffer),e}const F0=vc("string"),Yn=vc("function"),Ay=vc("number"),bc=t=>t!==null&&typeof t=="object",U0=t=>t===!0||t===!1,Wl=t=>{if(yc(t)!=="object")return!1;const e=mf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},q0=Nr("Date"),H0=Nr("File"),V0=Nr("Blob"),X0=Nr("FileList"),W0=t=>bc(t)&&Yn(t.pipe),Q0=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Yn(t.append)&&((e=yc(t))==="formdata"||e==="object"&&Yn(t.toString)&&t.toString()==="[object FormData]"))},K0=Nr("URLSearchParams"),G0=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xs(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let o,i;if(typeof t!="object"&&(t=[t]),ii(t))for(o=0,i=t.length;o<i;o++)e.call(null,t[o],o,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let u;for(o=0;o<c;o++)u=l[o],e.call(null,t[u],u,t)}}function Iy(t,e){e=e.toLowerCase();const n=Object.keys(t);let o=n.length,i;for(;o-- >0;)if(i=n[o],e===i.toLowerCase())return i;return null}const jy=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Py=t=>!fs(t)&&t!==jy;function Rd(){const{caseless:t}=Py(this)&&this||{},e={},n=(o,i)=>{const l=t&&Iy(e,i)||i;Wl(e[l])&&Wl(o)?e[l]=Rd(e[l],o):Wl(o)?e[l]=Rd({},o):ii(o)?e[l]=o.slice():e[l]=o};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&xs(arguments[o],n);return e}const Y0=(t,e,n,{allOwnKeys:o}={})=>(xs(e,(i,l)=>{n&&Yn(i)?t[l]=Oy(i,n):t[l]=i},{allOwnKeys:o}),t),Z0=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),J0=(t,e,n,o)=>{t.prototype=Object.create(e.prototype,o),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},ex=(t,e,n,o)=>{let i,l,c;const u={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),l=i.length;l-- >0;)c=i[l],(!o||o(c,t,e))&&!u[c]&&(e[c]=t[c],u[c]=!0);t=n!==!1&&mf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},tx=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const o=t.indexOf(e,n);return o!==-1&&o===n},nx=t=>{if(!t)return null;if(ii(t))return t;let e=t.length;if(!Ay(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},rx=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&mf(Uint8Array)),ox=(t,e)=>{const o=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=o.next())&&!i.done;){const l=i.value;e.call(t,l[0],l[1])}},ax=(t,e)=>{let n;const o=[];for(;(n=t.exec(e))!==null;)o.push(n);return o},ix=Nr("HTMLFormElement"),sx=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,o,i){return o.toUpperCase()+i}),nm=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),lx=Nr("RegExp"),Ny=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),o={};xs(n,(i,l)=>{let c;(c=e(i,l,t))!==!1&&(o[l]=c||i)}),Object.defineProperties(t,o)},cx=t=>{Ny(t,(e,n)=>{if(Yn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const o=t[n];if(Yn(o)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ux=(t,e)=>{const n={},o=i=>{i.forEach(l=>{n[l]=!0})};return ii(t)?o(t):o(String(t).split(e)),n},dx=()=>{},fx=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Ku="abcdefghijklmnopqrstuvwxyz",rm="0123456789",Ly={DIGIT:rm,ALPHA:Ku,ALPHA_DIGIT:Ku+Ku.toUpperCase()+rm},px=(t=16,e=Ly.ALPHA_DIGIT)=>{let n="";const{length:o}=e;for(;t--;)n+=e[Math.random()*o|0];return n};function hx(t){return!!(t&&Yn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const mx=t=>{const e=new Array(10),n=(o,i)=>{if(bc(o)){if(e.indexOf(o)>=0)return;if(!("toJSON"in o)){e[i]=o;const l=ii(o)?[]:{};return xs(o,(c,u)=>{const f=n(c,i+1);!fs(f)&&(l[u]=f)}),e[i]=void 0,l}}return o};return n(t,0)},gx=Nr("AsyncFunction"),yx=t=>t&&(bc(t)||Yn(t))&&Yn(t.then)&&Yn(t.catch),ie={isArray:ii,isArrayBuffer:Ry,isBuffer:z0,isFormData:Q0,isArrayBufferView:$0,isString:F0,isNumber:Ay,isBoolean:U0,isObject:bc,isPlainObject:Wl,isUndefined:fs,isDate:q0,isFile:H0,isBlob:V0,isRegExp:lx,isFunction:Yn,isStream:W0,isURLSearchParams:K0,isTypedArray:rx,isFileList:X0,forEach:xs,merge:Rd,extend:Y0,trim:G0,stripBOM:Z0,inherits:J0,toFlatObject:ex,kindOf:yc,kindOfTest:Nr,endsWith:tx,toArray:nx,forEachEntry:ox,matchAll:ax,isHTMLForm:ix,hasOwnProperty:nm,hasOwnProp:nm,reduceDescriptors:Ny,freezeMethods:cx,toObjectSet:ux,toCamelCase:sx,noop:dx,toFiniteNumber:fx,findKey:Iy,global:jy,isContextDefined:Py,ALPHABET:Ly,generateString:px,isSpecCompliantForm:hx,toJSONObject:mx,isAsyncFn:gx,isThenable:yx};function vt(t,e,n,o,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),o&&(this.request=o),i&&(this.response=i)}ie.inherits(vt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ie.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Dy=vt.prototype,My={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{My[t]={value:t}});Object.defineProperties(vt,My);Object.defineProperty(Dy,"isAxiosError",{value:!0});vt.from=(t,e,n,o,i,l)=>{const c=Object.create(Dy);return ie.toFlatObject(t,c,function(f){return f!==Error.prototype},u=>u!=="isAxiosError"),vt.call(c,t.message,e,n,o,i),c.cause=t,c.name=t.name,l&&Object.assign(c,l),c};const vx=null;function Ad(t){return ie.isPlainObject(t)||ie.isArray(t)}function By(t){return ie.endsWith(t,"[]")?t.slice(0,-2):t}function om(t,e,n){return t?t.concat(e).map(function(i,l){return i=By(i),!n&&l?"["+i+"]":i}).join(n?".":""):e}function bx(t){return ie.isArray(t)&&!t.some(Ad)}const wx=ie.toFlatObject(ie,{},null,function(e){return/^is[A-Z]/.test(e)});function wc(t,e,n){if(!ie.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ie.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(S,k){return!ie.isUndefined(k[S])});const o=n.metaTokens,i=n.visitor||h,l=n.dots,c=n.indexes,f=(n.Blob||typeof Blob<"u"&&Blob)&&ie.isSpecCompliantForm(e);if(!ie.isFunction(i))throw new TypeError("visitor must be a function");function m(x){if(x===null)return"";if(ie.isDate(x))return x.toISOString();if(!f&&ie.isBlob(x))throw new vt("Blob is not supported. Use a Buffer instead.");return ie.isArrayBuffer(x)||ie.isTypedArray(x)?f&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function h(x,S,k){let A=x;if(x&&!k&&typeof x=="object"){if(ie.endsWith(S,"{}"))S=o?S:S.slice(0,-2),x=JSON.stringify(x);else if(ie.isArray(x)&&bx(x)||(ie.isFileList(x)||ie.endsWith(S,"[]"))&&(A=ie.toArray(x)))return S=By(S),A.forEach(function(U,X){!(ie.isUndefined(U)||U===null)&&e.append(c===!0?om([S],X,l):c===null?S:S+"[]",m(U))}),!1}return Ad(x)?!0:(e.append(om(k,S,l),m(x)),!1)}const v=[],y=Object.assign(wx,{defaultVisitor:h,convertValue:m,isVisitable:Ad});function b(x,S){if(!ie.isUndefined(x)){if(v.indexOf(x)!==-1)throw Error("Circular reference detected in "+S.join("."));v.push(x),ie.forEach(x,function(A,L){(!(ie.isUndefined(A)||A===null)&&i.call(e,A,ie.isString(L)?L.trim():L,S,y))===!0&&b(A,S?S.concat(L):[L])}),v.pop()}}if(!ie.isObject(t))throw new TypeError("data must be an object");return b(t),e}function am(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(o){return e[o]})}function gf(t,e){this._pairs=[],t&&wc(t,this,e)}const zy=gf.prototype;zy.append=function(e,n){this._pairs.push([e,n])};zy.toString=function(e){const n=e?function(o){return e.call(this,o,am)}:am;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function xx(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $y(t,e,n){if(!e)return t;const o=n&&n.encode||xx,i=n&&n.serialize;let l;if(i?l=i(e,n):l=ie.isURLSearchParams(e)?e.toString():new gf(e,n).toString(o),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class Cx{constructor(){this.handlers=[]}use(e,n,o){return this.handlers.push({fulfilled:e,rejected:n,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ie.forEach(this.handlers,function(o){o!==null&&e(o)})}}const im=Cx,Fy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ex=typeof URLSearchParams<"u"?URLSearchParams:gf,Sx=typeof FormData<"u"?FormData:null,Tx=typeof Blob<"u"?Blob:null,_x=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),kx=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Rr={isBrowser:!0,classes:{URLSearchParams:Ex,FormData:Sx,Blob:Tx},isStandardBrowserEnv:_x,isStandardBrowserWebWorkerEnv:kx,protocols:["http","https","file","blob","url","data"]};function Ox(t,e){return wc(t,new Rr.classes.URLSearchParams,Object.assign({visitor:function(n,o,i,l){return Rr.isNode&&ie.isBuffer(n)?(this.append(o,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function Rx(t){return ie.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ax(t){const e={},n=Object.keys(t);let o;const i=n.length;let l;for(o=0;o<i;o++)l=n[o],e[l]=t[l];return e}function Uy(t){function e(n,o,i,l){let c=n[l++];const u=Number.isFinite(+c),f=l>=n.length;return c=!c&&ie.isArray(i)?i.length:c,f?(ie.hasOwnProp(i,c)?i[c]=[i[c],o]:i[c]=o,!u):((!i[c]||!ie.isObject(i[c]))&&(i[c]=[]),e(n,o,i[c],l)&&ie.isArray(i[c])&&(i[c]=Ax(i[c])),!u)}if(ie.isFormData(t)&&ie.isFunction(t.entries)){const n={};return ie.forEachEntry(t,(o,i)=>{e(Rx(o),i,n,0)}),n}return null}function Ix(t,e,n){if(ie.isString(t))try{return(e||JSON.parse)(t),ie.trim(t)}catch(o){if(o.name!=="SyntaxError")throw o}return(n||JSON.stringify)(t)}const yf={transitional:Fy,adapter:["xhr","http"],transformRequest:[function(e,n){const o=n.getContentType()||"",i=o.indexOf("application/json")>-1,l=ie.isObject(e);if(l&&ie.isHTMLForm(e)&&(e=new FormData(e)),ie.isFormData(e))return i&&i?JSON.stringify(Uy(e)):e;if(ie.isArrayBuffer(e)||ie.isBuffer(e)||ie.isStream(e)||ie.isFile(e)||ie.isBlob(e))return e;if(ie.isArrayBufferView(e))return e.buffer;if(ie.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let u;if(l){if(o.indexOf("application/x-www-form-urlencoded")>-1)return Ox(e,this.formSerializer).toString();if((u=ie.isFileList(e))||o.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return wc(u?{"files[]":e}:e,f&&new f,this.formSerializer)}}return l||i?(n.setContentType("application/json",!1),Ix(e)):e}],transformResponse:[function(e){const n=this.transitional||yf.transitional,o=n&&n.forcedJSONParsing,i=this.responseType==="json";if(e&&ie.isString(e)&&(o&&!this.responseType||i)){const c=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(u){if(c)throw u.name==="SyntaxError"?vt.from(u,vt.ERR_BAD_RESPONSE,this,null,this.response):u}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rr.classes.FormData,Blob:Rr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ie.forEach(["delete","get","head","post","put","patch"],t=>{yf.headers[t]={}});const vf=yf,jx=ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Px=t=>{const e={};let n,o,i;return t&&t.split(`
`).forEach(function(c){i=c.indexOf(":"),n=c.substring(0,i).trim().toLowerCase(),o=c.substring(i+1).trim(),!(!n||e[n]&&jx[n])&&(n==="set-cookie"?e[n]?e[n].push(o):e[n]=[o]:e[n]=e[n]?e[n]+", "+o:o)}),e},sm=Symbol("internals");function Yi(t){return t&&String(t).trim().toLowerCase()}function Ql(t){return t===!1||t==null?t:ie.isArray(t)?t.map(Ql):String(t)}function Nx(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(t);)e[o[1]]=o[2];return e}const Lx=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Gu(t,e,n,o,i){if(ie.isFunction(o))return o.call(this,e,n);if(i&&(e=n),!!ie.isString(e)){if(ie.isString(o))return e.indexOf(o)!==-1;if(ie.isRegExp(o))return o.test(e)}}function Dx(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,o)=>n.toUpperCase()+o)}function Mx(t,e){const n=ie.toCamelCase(" "+e);["get","set","has"].forEach(o=>{Object.defineProperty(t,o+n,{value:function(i,l,c){return this[o].call(this,e,i,l,c)},configurable:!0})})}let xc=class{constructor(e){e&&this.set(e)}set(e,n,o){const i=this;function l(u,f,m){const h=Yi(f);if(!h)throw new Error("header name must be a non-empty string");const v=ie.findKey(i,h);(!v||i[v]===void 0||m===!0||m===void 0&&i[v]!==!1)&&(i[v||f]=Ql(u))}const c=(u,f)=>ie.forEach(u,(m,h)=>l(m,h,f));return ie.isPlainObject(e)||e instanceof this.constructor?c(e,n):ie.isString(e)&&(e=e.trim())&&!Lx(e)?c(Px(e),n):e!=null&&l(n,e,o),this}get(e,n){if(e=Yi(e),e){const o=ie.findKey(this,e);if(o){const i=this[o];if(!n)return i;if(n===!0)return Nx(i);if(ie.isFunction(n))return n.call(this,i,o);if(ie.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Yi(e),e){const o=ie.findKey(this,e);return!!(o&&this[o]!==void 0&&(!n||Gu(this,this[o],o,n)))}return!1}delete(e,n){const o=this;let i=!1;function l(c){if(c=Yi(c),c){const u=ie.findKey(o,c);u&&(!n||Gu(o,o[u],u,n))&&(delete o[u],i=!0)}}return ie.isArray(e)?e.forEach(l):l(e),i}clear(e){const n=Object.keys(this);let o=n.length,i=!1;for(;o--;){const l=n[o];(!e||Gu(this,this[l],l,e,!0))&&(delete this[l],i=!0)}return i}normalize(e){const n=this,o={};return ie.forEach(this,(i,l)=>{const c=ie.findKey(o,l);if(c){n[c]=Ql(i),delete n[l];return}const u=e?Dx(l):String(l).trim();u!==l&&delete n[l],n[u]=Ql(i),o[u]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ie.forEach(this,(o,i)=>{o!=null&&o!==!1&&(n[i]=e&&ie.isArray(o)?o.join(", "):o)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const o=new this(e);return n.forEach(i=>o.set(i)),o}static accessor(e){const o=(this[sm]=this[sm]={accessors:{}}).accessors,i=this.prototype;function l(c){const u=Yi(c);o[u]||(Mx(i,c),o[u]=!0)}return ie.isArray(e)?e.forEach(l):l(e),this}};xc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ie.reduceDescriptors(xc.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(o){this[n]=o}}});ie.freezeMethods(xc);const Zr=xc;function Yu(t,e){const n=this||vf,o=e||n,i=Zr.from(o.headers);let l=o.data;return ie.forEach(t,function(u){l=u.call(n,l,i.normalize(),e?e.status:void 0)}),i.normalize(),l}function qy(t){return!!(t&&t.__CANCEL__)}function Cs(t,e,n){vt.call(this,t??"canceled",vt.ERR_CANCELED,e,n),this.name="CanceledError"}ie.inherits(Cs,vt,{__CANCEL__:!0});function Bx(t,e,n){const o=n.config.validateStatus;!n.status||!o||o(n.status)?t(n):e(new vt("Request failed with status code "+n.status,[vt.ERR_BAD_REQUEST,vt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const zx=Rr.isStandardBrowserEnv?function(){return{write:function(n,o,i,l,c,u){const f=[];f.push(n+"="+encodeURIComponent(o)),ie.isNumber(i)&&f.push("expires="+new Date(i).toGMTString()),ie.isString(l)&&f.push("path="+l),ie.isString(c)&&f.push("domain="+c),u===!0&&f.push("secure"),document.cookie=f.join("; ")},read:function(n){const o=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return o?decodeURIComponent(o[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function $x(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Fx(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Hy(t,e){return t&&!$x(e)?Fx(t,e):e}const Ux=Rr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let o;function i(l){let c=l;return e&&(n.setAttribute("href",c),c=n.href),n.setAttribute("href",c),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return o=i(window.location.href),function(c){const u=ie.isString(c)?i(c):c;return u.protocol===o.protocol&&u.host===o.host}}():function(){return function(){return!0}}();function qx(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Hx(t,e){t=t||10;const n=new Array(t),o=new Array(t);let i=0,l=0,c;return e=e!==void 0?e:1e3,function(f){const m=Date.now(),h=o[l];c||(c=m),n[i]=f,o[i]=m;let v=l,y=0;for(;v!==i;)y+=n[v++],v=v%t;if(i=(i+1)%t,i===l&&(l=(l+1)%t),m-c<e)return;const b=h&&m-h;return b?Math.round(y*1e3/b):void 0}}function lm(t,e){let n=0;const o=Hx(50,250);return i=>{const l=i.loaded,c=i.lengthComputable?i.total:void 0,u=l-n,f=o(u),m=l<=c;n=l;const h={loaded:l,total:c,progress:c?l/c:void 0,bytes:u,rate:f||void 0,estimated:f&&c&&m?(c-l)/f:void 0,event:i};h[e?"download":"upload"]=!0,t(h)}}const Vx=typeof XMLHttpRequest<"u",Xx=Vx&&function(t){return new Promise(function(n,o){let i=t.data;const l=Zr.from(t.headers).normalize(),c=t.responseType;let u;function f(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}let m;ie.isFormData(i)&&(Rr.isStandardBrowserEnv||Rr.isStandardBrowserWebWorkerEnv?l.setContentType(!1):l.getContentType(/^\s*multipart\/form-data/)?ie.isString(m=l.getContentType())&&l.setContentType(m.replace(/^\s*(multipart\/form-data);+/,"$1")):l.setContentType("multipart/form-data"));let h=new XMLHttpRequest;if(t.auth){const x=t.auth.username||"",S=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";l.set("Authorization","Basic "+btoa(x+":"+S))}const v=Hy(t.baseURL,t.url);h.open(t.method.toUpperCase(),$y(v,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function y(){if(!h)return;const x=Zr.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),k={data:!c||c==="text"||c==="json"?h.responseText:h.response,status:h.status,statusText:h.statusText,headers:x,config:t,request:h};Bx(function(L){n(L),f()},function(L){o(L),f()},k),h=null}if("onloadend"in h?h.onloadend=y:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(y)},h.onabort=function(){h&&(o(new vt("Request aborted",vt.ECONNABORTED,t,h)),h=null)},h.onerror=function(){o(new vt("Network Error",vt.ERR_NETWORK,t,h)),h=null},h.ontimeout=function(){let S=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const k=t.transitional||Fy;t.timeoutErrorMessage&&(S=t.timeoutErrorMessage),o(new vt(S,k.clarifyTimeoutError?vt.ETIMEDOUT:vt.ECONNABORTED,t,h)),h=null},Rr.isStandardBrowserEnv){const x=Ux(v)&&t.xsrfCookieName&&zx.read(t.xsrfCookieName);x&&l.set(t.xsrfHeaderName,x)}i===void 0&&l.setContentType(null),"setRequestHeader"in h&&ie.forEach(l.toJSON(),function(S,k){h.setRequestHeader(k,S)}),ie.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),c&&c!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",lm(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",lm(t.onUploadProgress)),(t.cancelToken||t.signal)&&(u=x=>{h&&(o(!x||x.type?new Cs(null,t,h):x),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u)));const b=qx(v);if(b&&Rr.protocols.indexOf(b)===-1){o(new vt("Unsupported protocol "+b+":",vt.ERR_BAD_REQUEST,t));return}h.send(i||null)})},Id={http:vx,xhr:Xx};ie.forEach(Id,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const cm=t=>`- ${t}`,Wx=t=>ie.isFunction(t)||t===null||t===!1,Vy={getAdapter:t=>{t=ie.isArray(t)?t:[t];const{length:e}=t;let n,o;const i={};for(let l=0;l<e;l++){n=t[l];let c;if(o=n,!Wx(n)&&(o=Id[(c=String(n)).toLowerCase()],o===void 0))throw new vt(`Unknown adapter '${c}'`);if(o)break;i[c||"#"+l]=o}if(!o){const l=Object.entries(i).map(([u,f])=>`adapter ${u} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(cm).join(`
`):" "+cm(l[0]):"as no adapter specified";throw new vt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return o},adapters:Id};function Zu(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Cs(null,t)}function um(t){return Zu(t),t.headers=Zr.from(t.headers),t.data=Yu.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Vy.getAdapter(t.adapter||vf.adapter)(t).then(function(o){return Zu(t),o.data=Yu.call(t,t.transformResponse,o),o.headers=Zr.from(o.headers),o},function(o){return qy(o)||(Zu(t),o&&o.response&&(o.response.data=Yu.call(t,t.transformResponse,o.response),o.response.headers=Zr.from(o.response.headers))),Promise.reject(o)})}const dm=t=>t instanceof Zr?t.toJSON():t;function ti(t,e){e=e||{};const n={};function o(m,h,v){return ie.isPlainObject(m)&&ie.isPlainObject(h)?ie.merge.call({caseless:v},m,h):ie.isPlainObject(h)?ie.merge({},h):ie.isArray(h)?h.slice():h}function i(m,h,v){if(ie.isUndefined(h)){if(!ie.isUndefined(m))return o(void 0,m,v)}else return o(m,h,v)}function l(m,h){if(!ie.isUndefined(h))return o(void 0,h)}function c(m,h){if(ie.isUndefined(h)){if(!ie.isUndefined(m))return o(void 0,m)}else return o(void 0,h)}function u(m,h,v){if(v in e)return o(m,h);if(v in t)return o(void 0,m)}const f={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:u,headers:(m,h)=>i(dm(m),dm(h),!0)};return ie.forEach(Object.keys(Object.assign({},t,e)),function(h){const v=f[h]||i,y=v(t[h],e[h],h);ie.isUndefined(y)&&v!==u||(n[h]=y)}),n}const Xy="1.6.0",bf={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{bf[t]=function(o){return typeof o===t||"a"+(e<1?"n ":" ")+t}});const fm={};bf.transitional=function(e,n,o){function i(l,c){return"[Axios v"+Xy+"] Transitional option '"+l+"'"+c+(o?". "+o:"")}return(l,c,u)=>{if(e===!1)throw new vt(i(c," has been removed"+(n?" in "+n:"")),vt.ERR_DEPRECATED);return n&&!fm[c]&&(fm[c]=!0,console.warn(i(c," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,c,u):!0}};function Qx(t,e,n){if(typeof t!="object")throw new vt("options must be an object",vt.ERR_BAD_OPTION_VALUE);const o=Object.keys(t);let i=o.length;for(;i-- >0;){const l=o[i],c=e[l];if(c){const u=t[l],f=u===void 0||c(u,l,t);if(f!==!0)throw new vt("option "+l+" must be "+f,vt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new vt("Unknown option "+l,vt.ERR_BAD_OPTION)}}const jd={assertOptions:Qx,validators:bf},To=jd.validators;let lc=class{constructor(e){this.defaults=e,this.interceptors={request:new im,response:new im}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ti(this.defaults,n);const{transitional:o,paramsSerializer:i,headers:l}=n;o!==void 0&&jd.assertOptions(o,{silentJSONParsing:To.transitional(To.boolean),forcedJSONParsing:To.transitional(To.boolean),clarifyTimeoutError:To.transitional(To.boolean)},!1),i!=null&&(ie.isFunction(i)?n.paramsSerializer={serialize:i}:jd.assertOptions(i,{encode:To.function,serialize:To.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let c=l&&ie.merge(l.common,l[n.method]);l&&ie.forEach(["delete","get","head","post","put","patch","common"],x=>{delete l[x]}),n.headers=Zr.concat(c,l);const u=[];let f=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(n)===!1||(f=f&&S.synchronous,u.unshift(S.fulfilled,S.rejected))});const m=[];this.interceptors.response.forEach(function(S){m.push(S.fulfilled,S.rejected)});let h,v=0,y;if(!f){const x=[um.bind(this),void 0];for(x.unshift.apply(x,u),x.push.apply(x,m),y=x.length,h=Promise.resolve(n);v<y;)h=h.then(x[v++],x[v++]);return h}y=u.length;let b=n;for(v=0;v<y;){const x=u[v++],S=u[v++];try{b=x(b)}catch(k){S.call(this,k);break}}try{h=um.call(this,b)}catch(x){return Promise.reject(x)}for(v=0,y=m.length;v<y;)h=h.then(m[v++],m[v++]);return h}getUri(e){e=ti(this.defaults,e);const n=Hy(e.baseURL,e.url);return $y(n,e.params,e.paramsSerializer)}};ie.forEach(["delete","get","head","options"],function(e){lc.prototype[e]=function(n,o){return this.request(ti(o||{},{method:e,url:n,data:(o||{}).data}))}});ie.forEach(["post","put","patch"],function(e){function n(o){return function(l,c,u){return this.request(ti(u||{},{method:e,headers:o?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}lc.prototype[e]=n(),lc.prototype[e+"Form"]=n(!0)});const Kl=lc;let Kx=class Wy{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const o=this;this.promise.then(i=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](i);o._listeners=null}),this.promise.then=i=>{let l;const c=new Promise(u=>{o.subscribe(u),l=u}).then(i);return c.cancel=function(){o.unsubscribe(l)},c},e(function(l,c,u){o.reason||(o.reason=new Cs(l,c,u),n(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new Wy(function(i){e=i}),cancel:e}}};const Gx=Kx;function Yx(t){return function(n){return t.apply(null,n)}}function Zx(t){return ie.isObject(t)&&t.isAxiosError===!0}const Pd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Pd).forEach(([t,e])=>{Pd[e]=t});const Jx=Pd;function Qy(t){const e=new Kl(t),n=Oy(Kl.prototype.request,e);return ie.extend(n,Kl.prototype,e,{allOwnKeys:!0}),ie.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return Qy(ti(t,i))},n}const Wt=Qy(vf);Wt.Axios=Kl;Wt.CanceledError=Cs;Wt.CancelToken=Gx;Wt.isCancel=qy;Wt.VERSION=Xy;Wt.toFormData=wc;Wt.AxiosError=vt;Wt.Cancel=Wt.CanceledError;Wt.all=function(e){return Promise.all(e)};Wt.spread=Yx;Wt.isAxiosError=Zx;Wt.mergeConfig=ti;Wt.AxiosHeaders=Zr;Wt.formToJSON=t=>Uy(ie.isHTMLForm(t)?new FormData(t):t);Wt.getAdapter=Vy.getAdapter;Wt.HttpStatusCode=Jx;Wt.default=Wt;const Cc=Wt,{Axios:$j,AxiosError:Fj,CanceledError:Uj,isCancel:qj,CancelToken:Hj,VERSION:Vj,all:Xj,Cancel:Wj,isAxiosError:eC,spread:Qj,toFormData:Kj,AxiosHeaders:Gj,HttpStatusCode:Yj,formToJSON:Zj,getAdapter:Jj,mergeConfig:eP}=Cc,tC=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]);var nC=t=>!tC.has(t&&t.code);const rC=mc(nC);function pm(t,e,n,o,i,l,c){try{var u=t[l](c),f=u.value}catch(m){n(m);return}u.done?e(f):Promise.resolve(f).then(o,i)}function Ky(t){return function(){var e=this,n=arguments;return new Promise(function(o,i){var l=t.apply(e,n);function c(f){pm(l,o,i,c,u,"next",f)}function u(f){pm(l,o,i,c,u,"throw",f)}c(void 0)})}}function hm(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,o)}return n}function Ju(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hm(Object(n),!0).forEach(function(o){oC(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hm(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function oC(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Gy="axios-retry";function Yy(t){var e=["ERR_CANCELED","ECONNABORTED"];return!t.response&&!!t.code&&!e.includes(t.code)&&rC(t)}var Zy=["get","head","options"],aC=Zy.concat(["put","delete"]);function wf(t){return t.code!=="ECONNABORTED"&&(!t.response||t.response.status>=500&&t.response.status<=599)}function iC(t){return t.config?wf(t)&&Zy.indexOf(t.config.method)!==-1:!1}function Jy(t){return t.config?wf(t)&&aC.indexOf(t.config.method)!==-1:!1}function ev(t){return Yy(t)||Jy(t)}function sC(){return 0}function lC(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:100,n=Math.pow(2,t)*e,o=n*.2*Math.random();return n+o}var cC={retries:3,retryCondition:ev,retryDelay:sC,shouldResetTimeout:!1,onRetry:()=>{}};function uC(t,e){return Ju(Ju(Ju({},cC),e),t[Gy])}function mm(t,e){var n=uC(t,e);return n.retryCount=n.retryCount||0,t[Gy]=n,n}function dC(t,e){t.defaults.agent===e.agent&&delete e.agent,t.defaults.httpAgent===e.httpAgent&&delete e.httpAgent,t.defaults.httpsAgent===e.httpsAgent&&delete e.httpsAgent}function fC(t,e){return Nd.apply(this,arguments)}function Nd(){return Nd=Ky(function*(t,e){var{retries:n,retryCondition:o}=t,i=t.retryCount<n&&o(e);if(typeof i=="object")try{var l=yield i;return l!==!1}catch{return!1}return i}),Nd.apply(this,arguments)}function jo(t,e){var n=t.interceptors.request.use(i=>{var l=mm(i,e);return l.lastRequestTime=Date.now(),i}),o=t.interceptors.response.use(null,function(){var i=Ky(function*(l){var{config:c}=l;if(!c)return Promise.reject(l);var u=mm(c,e);if(yield fC(u,l)){u.retryCount+=1;var{retryDelay:f,shouldResetTimeout:m,onRetry:h}=u,v=f(u.retryCount,l);if(dC(t,c),!m&&c.timeout&&u.lastRequestTime){var y=Date.now()-u.lastRequestTime,b=c.timeout-y-v;if(b<=0)return Promise.reject(l);c.timeout=b}return c.transformRequest=[x=>x],yield h(u.retryCount,l,c),new Promise(x=>setTimeout(()=>x(t(c)),v))}return Promise.reject(l)});return function(l){return i.apply(this,arguments)}}());return{requestInterceptorId:n,responseInterceptorId:o}}jo.isNetworkError=Yy;jo.isSafeRequestError=iC;jo.isIdempotentRequestError=Jy;jo.isNetworkOrIdempotentRequestError=ev;jo.exponentialDelay=lC;jo.isRetryableError=wf;const no=Cc.create({baseURL:"https://api.zotero.org/",headers:{"Zotero-API-Version":3}});jo(no,{retries:2,retryCondition:t=>{if(t.response){const{status:e}=t.response;return e==429||e>=500}else return!0},retryDelay:(t,e)=>{if(e.response){const{headers:n}=e.response;return(Number(n.backoff)||Number(n["retry-after"])||t)*1e3}else return t*3e3}});const tv=Cc.create({baseURL:"https://api.semanticscholar.org/v1/paper/",params:{include_unknown_references:"true"}});jo(tv,{retries:3});const pC=Cc.create({baseURL:"https://en.wikipedia.org/api/rest_v1/data/citation/zotero"}),hC=window.Blueprint.Core.Toaster,gm=hC.create({className:"zr-toaster"}),nv=t=>t.status==="fulfilled",Bt=t=>!!t;var Ld=(t=>(t.CITED="cited",t.CITING="citing",t))(Ld||{});const rv=t=>t.inLibrary!=!1,Ec=t=>t.data.itemType==="annotation",Sc=t=>t.data.itemType==="note",ov=t=>Ec(t)||Sc(t),av=t=>t.data.itemType==="attachment",iv=t=>!(av(t)||ov(t));function sv(t,e){return[...t,e]}function xf(t,e){return[...t.slice(0,e),...t.slice(e+1,t.length)]}function Cf(t,e,n){return[...t.slice(0,e),n,...t.slice(e+1,t.length)]}function ca(t){return t.reduce((e,n)=>(ov(n)?e.notes.push(n):av(n)?n.data.contentType=="application/pdf"&&e.pdfs.push(n):e.items.push(n),e),{items:[],pdfs:[],notes:[]})}function mC(t){const e=t.replaceAll("."," ").split(" ").filter(Bt);return e.length==1?e[0]:e.slice(1).filter(n=>n.length>1).join(" ")}function gC(t){switch(t.length){case 0:return"";case 1:return t[0];case 2:return t[0]+" & "+t[1];case 3:return t[0]+", "+t[1]+" & "+t[2];default:return t[0]+" et al."}}function yC(t,e){const n=ca(t);return n.items.map(o=>{const i=o.data.key,l=o.library.type+"s/"+o.library.id,{pdfs:c,notes:u}=ua(i,l,{pdfs:n.pdfs,notes:n.notes});return Ef(o,c,u,e)})}function Ef(t,e=[],n=[],o){const i=t.data.url,l=Ts(t.data.DOI),c=i?{href:i,title:i}:l?{href:"https://doi/org/"+l,title:l}:!1,u=t.data.creators.map(b=>({full:"name"in b?b.name:[b.firstName,b.lastName].filter(Bt).join(" ")||"",last:("lastName"in b?b.lastName:b.name)||"",role:b.creatorType||""})),f=Array.from(new Set(t.data.tags.map(b=>b.tag))),m=t.meta.creatorSummary||"",h=t.meta.parsedDate?isNaN(Number(new Date(t.meta.parsedDate)))?"":new Date(t.meta.parsedDate).getUTCFullYear().toString():"",v=h?`(${h})`:"",y={abstract:t.data.abstractNote||"",authors:m,authorsFull:u.map(b=>b.full),authorsLastNames:u.map(b=>b.last),authorsRoles:u.map(b=>b.role),children:{pdfs:e,notes:n},createdByUser:t.meta.createdByUser?.username||null,inGraph:o.get("@"+t.key)||!1,itemKey:t.data.key,itemType:t.data.itemType,key:t.key,location:t.library.type+"s/"+t.library.id,meta:[m,v].filter(Bt).join(" "),publication:t.data.publicationTitle||t.data.bookTitle||t.data.university||"",tags:f,title:t.data.title,weblink:c,year:h,zotero:{local:Es(t,{format:"target"}),web:Ss(t,{format:"target"})},raw:t,_multiField:""};return y._multiField=[y.abstract,y.authorsFull.join(" "),y.year,y.title,y.tags.map(b=>`#${b}`).join(", "),y.key].filter(Bt).join(" "),y}function vC(t,e={},n=[]){return{annotations:n,key:t.data.key,link:_f(t,"href"),parent:e,title:t.data.filename||t.data.title,raw:t,tags:t.data.tags.map(o=>o.tag)}}function Dd(t){let e=t;return e.startsWith(`
`)?(e=e.slice(1),e=Dd(e)):e.endsWith(`
`)&&(e=e.slice(0,-1),e=Dd(e)),e=e.replaceAll(/\n{2}/g,`
`),e}function bC(t){const e={authors:"",authorsLastNames:[],authorsString:"",doi:t.doi,intent:t.intent,isInfluential:t.isInfluential,links:{},meta:t.venue.split(/ ?:/)[0],title:t.title,url:t.url||"",year:t.year?t.year.toString():"",_multiField:""};return e.authorsLastNames=t.authors.map(n=>mC(n.name)),e.authorsString=e.authorsLastNames.join(" "),e.authors=gC(e.authorsLastNames),t.paperId&&(e.links["semantic-scholar"]=`https://www.semanticscholar.org/paper/${t.paperId}`),t.arxivId&&(e.links.arxiv=`https://arxiv.org/abs/${t.arxivId}`),(t.doi||t.title)&&(e.links["connected-papers"]="https://www.connectedpapers.com/"+(t.doi?"api/redirect/doi/"+t.doi:"search?q="+encodeURIComponent(t.title)),e.links["google-scholar"]="https://scholar.google.com/scholar?q="+(t.doi||encodeURIComponent(t.title))),e._multiField=[e.authorsString,e.year,e.title].filter(Bt).join(" "),e}function ym(t,e,n){const{items:o=[],pdfs:i=[],notes:l=[]}=e,c=bC(t);if(c.doi){const u=o.find(f=>Ts(f.data.DOI)==c.doi);if(u){const f=u.data.key,m=u.library.type+"s/"+u.library.id,h=ua(f,m,{pdfs:i,notes:l});return{...c,inGraph:n.get("@"+u.key)||!1,inLibrary:{children:h,raw:u}}}else return{...c,inGraph:!1,inLibrary:!1}}else return{...c,inGraph:!1,inLibrary:!1}}function wC(t,e,n){const{items:o=[],pdfs:i=[],notes:l=[]}=t,c=o.filter(v=>v.data.DOI),{citations:u=[],references:f=[]}=e,m=u.map(v=>({...ym(v,{items:c,pdfs:i,notes:l},n),_type:Ld.CITING})),h=f.map(v=>({...ym(v,{items:c,pdfs:i,notes:l},n),_type:Ld.CITED}));return{citations:m,references:h,backlinks:[...h,...m].filter(rv)}}function Sf(t,e){const[n=0,o=0,i=0]=t,[l=0,c=0,u=0]=e;return n<l||n==l&&(o<c||o==c&&i<=u)?-1:1}function xC(t,e){return Sf(Md(t),Md(e))}function CC(t,e){if(t.meta.parsedDate)if(e.meta.parsedDate){const n=new Date(t.meta.parsedDate).getUTCFullYear()-new Date(e.meta.parsedDate).getUTCFullYear();return n<0||n==0&&t.meta.creatorSummary<e.meta.creatorSummary?-1:1}else return-1;else return e.meta.parsedDate?1:t.meta.creatorSummary<e.meta.creatorSummary?-1:1}function Md(t){return t.split("|").map(e=>Number(e))}function Ro(t){navigator.clipboard?navigator.clipboard.writeText(t).then(e=>{gm.show({intent:"success",message:`Successfully copied to clipboard: ${t}`,timeout:800})}).catch(e=>{window.zoteroRoam?.error?.({origin:"Copy",message:`Failed to copy to clipboard: ${t}`,detail:e.message,showToaster:1e3})}):gm.show({message:`Clipboard API is not available. The following could not be copied: ${t}`,timeout:1e3})}function Bd(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Tf(t,e,...n){const o=Array.prototype.slice.call(arguments,2),i=t.split("."),l=i.pop();let c=e;for(let u=0;u<i.length;u++)c=c[i[u]];if(!c[l])throw new Error(`Function ${l} doesn't exist`);return c[l](...o)}function vm(t,{template_comment:e="{{comment}}",template_highlight:n="[[>]] {{highlight}} ([p. {{page_label}}]({{link_page}})) {{tags_string}}"}={}){if(t.type=="highlight"){const{comment:o,page_label:i,link_page:l,tags_string:c,text:u}=t;let f=e,m=n;const h={comment:o,highlight:u,page_label:i,link_page:l,tags_string:c};for(const v in h)f=f.replaceAll(`{{${v}}}`,`${h[v]}`),m=m.replaceAll(`{{${v}}}`,`${h[v]}`);return{string:m,text:m,children:o?[f]:[]}}else return t.type=="image",null}function EC(t,{group_by:e=!1,template_comment:n,template_highlight:o}={}){const i=Tc(t);if(e=="day_added"){const l=i.sort((c,u)=>c.date_added<u.date_added?-1:1).reduce((c,u)=>{const f=new Date(u.date_added).toLocaleDateString("en-CA");return c[f]?c[f].push(u):c[f]=[u],c},{});return Object.keys(l).sort((c,u)=>new Date(c)<new Date(u)?-1:1).map(c=>{const u=l[c].sort((f,m)=>Sf(f.sortIndex,m.sortIndex));return{string:Ar(`${c}T00:00`,{brackets:!0}),text:Ar(`${c}T00:00`,{brackets:!0}),children:u.map(f=>vm(f,{template_comment:n,template_highlight:o})).filter(Bt)}}).filter(c=>c.children.length>0)}else return i.map(l=>vm(l,{template_comment:n,template_highlight:o})).filter(Bt)}function lv(t,e=`
`){return fv(t,e).flat(1).map(n=>OC(n)).filter(n=>n.trim())}function zd(t,e,{accent_class:n="zr-accent-1"}={}){const o=t.key,i=t.data.title,l=t.meta.creatorSummary||"",c=t.meta.parsedDate?isNaN(Number(new Date(t.meta.parsedDate)))?"":new Date(t.meta.parsedDate).getUTCFullYear():"",u=[l,c?`(${c})`:""].filter(Bt).join(" "),f="@"+o,m=u||o,h={citation:"[{{summary_or_key}}]([[{{citekey}}]])",citekey:"{{citekey}}",inline:"{{summary}}",key:"{{key}}",pageref:"[[{{citekey}}]]",popover:"{{=: {{summary_or_key}} | {{embed: [[{{citekey}}]]}} }}",tag:"#[[{{citekey}}]]",zettlr:`<span class="${n}">{{summary_or_key}}</span> {{title}}`},v={authors:l,citekey:f,key:o,summary:u,summary_or_key:m,title:i,year:c};let y=h[e]||e||"{{citekey}}";for(const b in v)y=y.replaceAll(`{{${b}}}`,`${v[b]}`);return y}function SC(t,{func:e="",use:n="default",__with:o="raw",...i}={}){return n=="function"&&e?Tf(e,window,o=="raw"?t:Tc(t)):EC(t,{...i})}function cv(t,{func:e="",split_char:n="",split_preset:o=`
`,split_use:i="preset",use:l="default",__with:c="raw"}={}){const u=i=="custom"?n:o;return l=="function"&&e?Tf(e,window,c=="raw"?t:fv(t,u)):lv(t,u)}function Es(t,{format:e="markdown",text:n="Local library"}={}){const i=`zotero://select/${t.library.type=="group"?`groups/${t.library.id}`:"library"}/items/${t.data.key}`;switch(e){case"markdown":return`[${n}](${i})`;case"target":default:return i}}function _f(t,e="href"){const n=t.library.type=="group"?`groups/${t.library.id}`:"library";let o="",i="";switch(["linked_file","imported_file","imported_url"].includes(t.data.linkMode)?(o="zotero://open-pdf/"+n+"/items/"+t.data.key,i=t.data.filename||t.data.title):(o=t.data.url,i=t.data.title),e){case"markdown":return`[${i}](${o})`;case"href":default:return o}}function Ss(t,{format:e="markdown",text:n="Web library"}={}){const i=`https://www.zotero.org/${(t.library.type=="user"?"users":"groups")+`/${t.library.id}`}/items/${t.data.key}`;switch(e){case"markdown":return`[${n}](${i})`;case"target":default:return i}}function $d(t,e){const n=Array.from(t),o=Array.from(e);return n.length+o.length!=0&&(n.length!==o.length||n.some((i,l)=>i!==o[l]))}function ua(t,e,{pdfs:n=[],notes:o=[]}={}){const i=n.filter(u=>u.data.parentItem==t&&u.library.type+"s/"+u.library.id==e),l=i.map(u=>u.key),c=o.filter(u=>[t,...l].includes(u.data.parentItem)&&u.library.type+"s/"+u.library.id==e);return{pdfs:i,notes:c}}function TC(t,e,n,{items:o=[],notes:i=[]}){const l=o.find(u=>u.data.key==e&&u.library.type+"s/"+u.library.id==n),c=i.filter(Ec).filter(u=>u.data.parentItem==t&&u.library.type+"s/"+u.library.id==n);return{parent:l,annotations:c}}function _C(t){if(typeof t!="string")throw new Error(`Input is of type ${typeof t}, expected String`);const e=new RegExp(/^<\/?(.+?)>|<(.+?)>$/),n=e.test(t);return{result:n,htmlTag:n&&t.match(e)?.[1]||null}}function kC(t){return t.reduce((e,n)=>{try{const o=n.charAt(0).toLowerCase();e[o]?e[o].push(n):e[o]=[n]}catch{throw new Error(`Could not add ${JSON.stringify(n)} to dictionary`)}return e},{})}function kf(t){const e=t.constructor===Date?t:new Date(t),n=new Date;n.setHours(0,0,0);const o=new Date;if(o.setDate(n.getDate()-1),o.setHours(0,0,0),e>n)return`Today at ${ps(e)}`;if(e>o)return`Yesterday at ${ps(e)}`;{const l=`${["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][e.getMonth()]} ${uv(e.getDate())}`,c=e.getFullYear()!=n.getFullYear()?e.getFullYear():!1;return[l,c].filter(Bt).join(" ")}}function Ar(t,{brackets:e=!0}={}){const n=t.constructor===Date?t:new Date(t),i=`${["January","February","March","April","May","June","July","August","September","October","November","December"][n.getMonth()]} ${uv(n.getDate())}, ${n.getFullYear()}`;return e?`[[${i}]]`:i}function uv(t){const e=t%10;return e==1&&t!=11?t+"st":e==2&&t!=12?t+"nd":e==3&&t!=13?t+"rd":t+"th"}function ps(t){const e=t.constructor===Date?t:new Date(t);return`${e.getHours()}:${("0"+e.getMinutes()).slice(-2)}`}function bm(t,e){return t.some(n=>e.includes(n))}function Ts(t){if(t){const e=t.match(/10\.([0-9]+?)\/(.+)/g);return e?e[0].toLowerCase():!1}else return!1}function OC(t){let e=t;const n={"<blockquote>":"> ","</blockquote>":"","<strong>":"**","</strong>":"**","<em>":"__","</em>":"__","<b>":"**","</b>":"**","<br />":`
`,"<br/>":`
`,"<br>":`
`,"<u>":"","</u>":"","<ul>":"","</ul>":"","<ol>":"","</ol>":"","</li><li>":" ","<li>":"","</li>":""};for(const l in n)e=e.replaceAll(`${l}`,`${n[l]}`);["p","div","span","h1","h2","h3","h4","h5","h6"].forEach(l=>{const c=new RegExp(`</?${l}>|<${l} .+?>`,"g");e=e.replaceAll(c,l.startsWith("h")?"**":"")});const i=/<a.+?href="(.+?)">(.+?)<\/a>/g;return e=e.replaceAll(i,"[$2]($1)"),e=Dd(e),e}function fn(t,e,n=""){return`${t==0?"No":t} ${e}${t==1?"":"s"}${n}`}function RC(t,{as_date:e=!0}={}){const[n,o,i,l]=Array.from(t.matchAll(/(.+) ([0-9]+).{2}, ([0-9]{4})/g))[0],c=["January","February","March","April","May","June","July","August","September","October","November","December"],u=[parseInt(l),c.findIndex(f=>f==o),parseInt(i)];return e?new Date(...u):u}function Ln(t,e,{any_case:n=!0,match:o="partial",search_compounds:i=!0,word_order:l="strict"}={}){if(e.constructor===String)return wm(t,e,{any_case:n,match:o,search_compounds:i,word_order:l});if(e.constructor===Array)return e.some(c=>wm(t,c,{any_case:n,match:o,search_compounds:i,word_order:l}));throw new Error(`Unexpected input type ${e.constructor.name} : target should be a String or an Array`)}function wm(t,e,{any_case:n=!0,match:o="partial",search_compounds:i=!0,word_order:l="strict"}={}){let c=t,u=e;n==!0&&(c=t.toLowerCase(),u=e.toLowerCase());const f=c.split(" "),m=f.some(h=>h.includes("-"));if(f.length==1){let h=Bd(c);switch(m&&i==!0&&(h=h.replace("-","(?: |-)?")),o){case"partial":return new RegExp(h).test(u);case"exact":return new RegExp("^"+h+"$").test(u);case"word":return new RegExp("(?:\\W|^)"+h+"(?:\\W|$)").test(u);default:return!1}}else{let h=f.map(v=>Bd(v));return i==!0&&(m?h=h.map(v=>v.includes("-")?v.replace("-","(?: |-)?"):v):!m&&l=="strict"&&(h=[h.join("(?: |-)?")])),l=="loose"?o=="word"?h.map(y=>"(?:\\W|^)"+y+"(?:\\W|$)").every(y=>new RegExp(y).test(u)):h.every(v=>new RegExp(v).test(u)):o=="partial"?new RegExp(h.join(" ")).test(u):o=="exact"?new RegExp("^"+h.join(" ")+"$").test(u):new RegExp("(?:\\W|^)"+h.join(" ")+"(?:\\W|$)").test(u)}}function Tc(t){return t.map(e=>{const{annotationColor:n,annotationComment:o,annotationPageLabel:i,annotationPosition:l,annotationSortIndex:c,annotationText:u,annotationType:f,dateAdded:m,dateModified:h,parentItem:v,tags:y}=e.data,b=Ar(m,{brackets:!1}),x=Ar(h,{brackets:!1}),S=e.library.type+"s/"+e.library.id,k=S.startsWith("groups/")?S:"library",A=JSON.parse(l),L=`zotero://open-pdf/${k}/items/${v}`,U=L+`?page=${A.pageIndex+1}`;return{color:n,comment:o,date_added:m,date_modified:h,day_added:b,day_modified:x,key:e.key,library:S,link_pdf:L,link_page:U,page_label:i,parent_item:v,position:A,raw:e,sortIndex:Md(c),tags:y.map(X=>X.tag),tags_string:y.map(X=>`#[[${X.tag}]]`).join(", "),text:u,type:f}})}function AC(t){return t.map(e=>{const{dateAdded:n,dateModified:o,parentItem:i,note:l,tags:c}=e.data,u=e.library.type+"s/"+e.library.id,m=`zotero://select/${u.startsWith("groups/")?u:"library"}/items/${e.key}`;return{date_added:n,date_modified:o,key:e.key,location:u,link_note:m,note:l,parent_item:i,raw:e,tags:c.map(h=>h.tag)}})}function dv(t,e,n=0){const o={...t,depth:n},i=e.filter(l=>l.data.parentCollection==o.key);if(i.length>0){const l=[o];for(let c=0;c<i.length;c++)l.push(...dv(i[c],e,n+1));return l}else return[o]}function IC(t){if(t.length>0){const e=[...t].sort((l,c)=>l.data.name.toLowerCase()<c.data.name.toLowerCase()?-1:1),n=e.filter(l=>l.data.parentCollection),o=e.filter(l=>!l.data.parentCollection).map(l=>({...l,depth:0})),i=[];for(let l=0;l<o.length;l++)n.filter(u=>u.data.parentCollection==o[l].key).length>0?i.push(...dv(o[l],n)):i.push(o[l]);return i}else return[]}function Fd(t,e){return t.sort((n,o)=>`${n[e]}`.toLowerCase()<`${o[e]}`.toLowerCase()?-1:1)}function fv(t,e){const{result:n,htmlTag:o}=_C(e);if(n&&o){const i=new RegExp(`</?${o}>|<${o} .+?>`,"g");return t.map(l=>l.data.note.split(i).filter(Bt))}else return t.map(i=>i.data.note.split(e).filter(Bt))}function jr(t,e=document){const n=new CustomEvent(`zotero-roam:${t._type}`,{bubbles:!0,cancelable:!0,detail:t});e.dispatchEvent(n)}function xm(t,e){return[t,e].forEach(n=>{if(n.constructor!==Object||!n.tag||!n.meta)throw new Error(`Received bad input: ${JSON.stringify(n)}, expected a Zotero tag`);if(n.meta.type===void 0)throw new Error(`Received bad input: ${JSON.stringify(n)}, expected the tag to have a type`)}),t.meta.type==e.meta.type&&t.tag==e.tag}function jC(t,e){const n=[],o=Array.from(t).sort((i,l)=>i>l?-1:1);for(const i of o)try{const l=n.findIndex(u=>Ln(i,u.token,{any_case:!0,match:"exact",search_compounds:!0})),c=e.get(i);l==-1?n.push({token:i.toLowerCase(),roam:[],zotero:Array.isArray(c)?c:[c]}):Array.isArray(c)?n[l].zotero.push(...c):n[l].zotero.push(c)}catch(l){throw new Error(`Failed to categorize ${i}: `+l.message)}return n.sort((i,l)=>i.token<l.token?-1:1)}function Po(t){try{if(eC(t)){const{code:e,message:n,status:o,config:i}=t;return{code:e,message:n,status:o,config:{url:i?.url}}}return t.message}catch{return t}}async function PC(t,e,n){const{apikey:o,path:i}=e;t.length>50&&window.zoteroRoam?.warn?.({origin:"API",message:"API limits exceeded",detail:"Only 50 Zotero tags can be deleted at once. Any additional tags selected will be ignored."});const l=t.slice(0,50).map(c=>encodeURIComponent(c)).join(" || ");return await no.delete(`${i}/tags`,{headers:{"Zotero-API-Key":o,"If-Unmodified-Since-Version":n},params:{tag:l}})}function NC(t){return[...t].map(n=>{let{key:o}=n,i=!1;return typeof n.data.extra<"u"&&n.data.extra.includes("Citation Key: ")&&(o=n.data.extra.match("Citation Key: (.+)")?.[1]||o,i=!0),{...n,key:o,has_citekey:i}})}async function Of(t,e){const{dataURI:n,apikey:o,since:i=null}=t,l=Math.ceil(e/100-1),c=[];for(let f=1;f<=l;f++){const m=new URLSearchParams("");i&&m.set("since",`${i}`),m.set("start",`${100*f}`),m.set("limit","100"),c.push(no.get(`${n}?${m.toString()}`,{headers:{"Zotero-API-Key":o}}))}let u=[null];try{const f=await Promise.all(c);return u=f,f.map(m=>m.data).flat(1)}catch(f){return window.zoteroRoam?.error?.({origin:"API",message:"Failed to fetch additional data",context:{dataURI:n,error:Po(f),responses:u,totalResults:e}}),Promise.reject(f)}}async function LC(t){let e;try{const{data:n,...o}=await pC.get(encodeURIComponent(t));return e={data:n,...o},{item:n[0],query:t}}catch(n){return window.zoteroRoam?.error?.({origin:"API",message:"Failed to fetch metadata from Wikipedia",context:{error:Po(n),query:t,response:e}}),Promise.reject(n)}}async function DC(t,e=0,{match:n=[]}){const{apikey:o,path:i}=t,l={data:null,error:null,library:i,since:e,success:!1};let c,u,f;try{const{data:m,headers:h,...v}=await no.get(`${i}/collections`,{headers:{"Zotero-API-Key":o},params:{since:e}});c={data:m,headers:h,...v},u=m;const{"last-modified-version":y,"total-results":b}=h,x=Number(b);if(x>100){const S=await Of({dataURI:`${i}/collections`,apikey:o,since:e},x);u.push(...S)}if(e>0&&u.length>0){const{collections:S=[]}=await pv(t,e);f=S,jr({...l,data:u,success:!0,type:"collections",_type:"update"})}return{data:hv({modified:u,deleted:f},n),lastUpdated:Number(y)}}catch(m){return window.zoteroRoam?.error?.({origin:"API",message:"Failed to fetch collections",context:{data:u,deleted:f,error:Po(m),response:c}}),jr({...l,error:m,success:!1,type:"collections",_type:"update"}),Promise.reject(m)}}async function pv(t,e){const{apikey:n,path:o}=t;let i;try{const{data:l}=await no.get(`${o}/deleted`,{headers:{"Zotero-API-Key":n},params:{since:e}});return i=l,l}catch(l){return window.zoteroRoam?.error?.({origin:"API",message:"Failed to fetch deleted data",context:{error:Po(l),response:i}}),Promise.reject(l)}}async function MC(t,{match:e=[]},n){const{apikey:o,dataURI:i,library:{path:l},since:c=0}=t,u=new URLSearchParams("");u.set("since",`${c}`),u.set("start","0"),u.set("limit","100");const f={data:null,error:null,library:l,since:c,success:!1};let m,h,v;try{const{data:y,headers:b,...x}=await no.get(`${i}?${u.toString()}`,{headers:{"Zotero-API-Key":o}});m={data:y,headers:b,...x},h=y;const{"last-modified-version":S,"total-results":k}=b,A=Number(k);if(A>100){const L=await Of({dataURI:i,apikey:o,since:c},A);h.push(...L)}if(c>0){const{items:L=[]}=await pv({apikey:o,path:l},c);v=L;const U=["tags",{library:l}],{lastUpdated:X}=n.getQueryData(U)||{};(h.length>0||Number(X)<Number(S))&&(n.refetchQueries(U),jr({...f,data:h,success:!0,type:"items",_type:"update"}))}return{data:hv({modified:h,deleted:v},e,{with_citekey:!0}),lastUpdated:Number(S)}}catch(y){return window.zoteroRoam?.error?.({origin:"API",message:"Failed to fetch items",context:{data:h,deleted:v,error:Po(y),response:m}}),jr({...f,error:y,success:!1,type:"items",_type:"update"}),Promise.reject(y)}}async function BC(t){try{const{data:e}=await no.get(`keys/${t}`,{headers:{"Zotero-API-Key":t}});return e}catch(e){return window.zoteroRoam?.error?.({origin:"API",message:"Failed to fetch permissions"}),Promise.reject(e)}}async function zC(t){let e;try{const n=await tv.get(`${t}`),{data:{citations:o,references:i}}=n;return e=n,{doi:t,citations:Cm(o),references:Cm(i)}}catch(n){return window.zoteroRoam?.error?.({origin:"API",message:"Failed to fetch data from SemanticScholar",context:{error:Po(n),response:e}}),Promise.reject(n)}}async function $C(t){const{apikey:e,path:n}=t;let o=[];try{const{data:i,headers:l}=await no.get(`${n}/tags?limit=100`,{headers:{"Zotero-API-Key":e}});o=i;const{"last-modified-version":c,"total-results":u}=l,f=Number(u);if(f>100){const m=await Of({dataURI:`${n}/tags`,apikey:e},f);o.push(...m)}return{data:FC(o),lastUpdated:Number(c)}}catch(i){return window.zoteroRoam?.error?.({origin:"API",message:"Failed to fetch tags",context:{error:Po(i),path:n,tags:o}}),Promise.reject(i)}}function FC(t){try{const e=UC(t),n=kC(Array.from(e.keys())),o=Object.keys(n).sort((l,c)=>l<c?-1:1),i={};return o.forEach(l=>{i[l]=jC(n[l],e)}),i}catch(e){throw new Error("Could not create tag list : "+e.message)}}function UC(t){return t.reduce((e,n)=>qC(e,n),new Map)}function hv(t,e=[],{with_citekey:n=!1}={}){const{modified:o=[],deleted:i=[]}=t,l=n?NC([...o]):[...o],c=[...i],u=c.length==0?e:e.filter(f=>!c.includes(f.data.key));if(l.length==0)return u;if(u.length==0)return l;{const[...f]=u;return l.forEach(m=>{const h=f.findIndex(v=>v.data.key==m.data.key);h==-1?f.push(m):f[h]=m}),f}}function Cm(t){return t.map(e=>{const{doi:n,...o}=e;return{doi:Ts(n),...o}})}function qC(t,e){const{tag:n}=e;if(t.has(n)){const o=t.get(n);if(Array.isArray(o))o.every(i=>!xm(e,i))&&t.set(n,[...o,e]);else if(typeof o=="object")xm(e,o)||t.set(n,[o,e]);else throw new Error(`Map entry is of unexpected type ${typeof o}, expected Array or Object`)}else t.set(n,e);return t}function mv(t,e){const{apikey:n,path:o}=e,i=Math.ceil(t.length/50),l=[];for(let c=1;c<=i;c++){const u=t.slice(50*(c-1),50*c);l.push(no.post(`${o}/items`,JSON.stringify(u),{headers:{"Zotero-API-Key":n}}))}return Promise.allSettled(l)}const HC=window.React.Component;class Mn extends HC{constructor(e){super(e),this.state={error:null,errorInfo:null}}componentDidCatch(e,n){this.setState({error:e,errorInfo:n}),window.zoteroRoam?.error?.({origin:"Interface",message:"Failed to render",context:{error:Po(e),errorInfo:n}})}render(){return this.state.error?d.jsx(ky,{error:this.state.error}):this.props.children}}const VC=window.Blueprint.Core.Callout,gv=()=>d.jsxs(VC,{children:["No writeable libraries were found. Please check that your API key(s) have the permission to write to at least one of the Zotero libraries you use. ",d.jsx("a",{href:"https://alix-lahuec.gitbook.io/zotero-roam/getting-started/prereqs#zotero-api-credentials",target:"_blank",rel:"noreferrer",children:"Refer to the extension docs"})," for more details."]}),XC=window.React.useReducer;function WC(t,e){switch(e.type){case"add":return sv(t,e.value);case"remove":return xf(t,e.index);case"update":return Cf(t,e.index,e.value);default:return t}}const QC=(t,e)=>XC(WC,t,e),kl=window.React.useCallback,KC=window.React.useState,Pt=t=>{const[e,n]=KC(t),o=kl(()=>{n(u=>!u)},[]),i=kl(u=>{n(u)},[]),l=kl(()=>n(!0),[]),c=kl(()=>n(!1),[]);return[e,{set:i,toggle:o,on:l,off:c}]},GC=window.React.useCallback,YC=window.React.useRef;function ZC(t,e){const n=YC(void 0),o=function(){n.current&&(clearTimeout(n.current),n.current=null)};return[GC(l=>{o(),n.current=setTimeout(()=>{n.current=null,t(l)},e)},[t,e]),o]}const JC=window.React.useReducer,eE=(t,e)=>t.map(n=>n.value==e?{...n,active:!n.active}:n),tE=t=>JC(eE,t),Ol=window.React.useCallback,nE=window.React.useState,rE=(t,e)=>t===e,oE=t=>t,Em=(t,e,n,o)=>t.find(i=>n(i,e))?t:[...t,o(e)],Sm=(t,e,n)=>t.filter(o=>!n(o,e)),hs=({start:t=[],identify:e=rE,retrieve:n=oE})=>{const[o,i]=nE(t),l=Ol(m=>{i(h=>Em(h,m,e,n))},[e,n]),c=Ol(m=>{i(h=>Sm(h,m,e))},[e]),u=Ol(m=>{i(h=>h.find(v=>e(v,m))?Sm(h,m,e):Em(h,m,e,n))},[e,n]),f=Ol(m=>{i(m)},[]);return[o,{set:f,toggle:u,add:l,remove:c}]},aE=window.React.useCallback,iE=window.React.useMemo,sE=window.React.useState,_s=({itemsPerPage:t=20})=>{const[e,n]=sE(1),o=iE(()=>[t*(e-1),t*e],[e,t]),i=aE(l=>{n(l)},[]);return{currentPage:e,pageLimits:o,setCurrentPage:i}},lE=window.React.useCallback,cE=window.React.useState,uE=t=>t,dE=({start:t,transform:e=uE})=>{const[n,o]=cE(t),i=lE(l=>{o(e(l.currentTarget.value))},[e]);return[n,i]},fE=window.React.useCallback,pE=window.React.useState,yv=(t="")=>{const[e,n]=pE(t),o=fE(i=>{n(i.target.value)},[]);return[e,o]},hE=window.React.createContext,mE=window.React.useCallback,gE=window.React.useContext,yE=window.React.useMemo,vE=window.React.useState;class tr{constructor(e={}){Gi(this,"context");Gi(this,"hooks");Gi(this,"Provider",({children:e,init:n,updater:o})=>{const[i,l]=vE(n),c=mE(f=>{l(m=>{const h=f(m);return this.hooks.beforeUpdate?.(m,h),o(h),this.hooks.afterUpdate?.(m,h),h})},[o]),u=yE(()=>[i,c],[i,c]);return d.jsx(this.context.Provider,{value:u,children:e})});Gi(this,"useSettings",()=>{const e=gE(this.context);if(!e)throw new Error("No context provided");return e});this.context=hE(null),this.hooks=e}}window.React.useMemo;window.Blueprint.Core.Intent;const{Provider:tP,useSettings:ks}=new tr({afterUpdate:(t,e)=>{window?.zoteroRoam?.updateSetting?.("annotations",e)}});window.React.useMemo;const{Provider:nP,useSettings:vv}=new tr;window.React.useMemo;const{Provider:rP,useSettings:Rf}=new tr;window.React.useMemo;window.Blueprint.Core.Intent;const{Provider:oP,useSettings:_c}=new tr;window.React.useMemo;window.Blueprint.Core.Intent;const{Provider:aP,useSettings:si}=new tr({afterUpdate:(t,e)=>{window?.zoteroRoam?.updateSetting?.("notes",e)}});window.React.useMemo;const{Provider:iP,useSettings:bv}=new tr({beforeUpdate:(t,e)=>{t.cacheEnabled===!0&&e.cacheEnabled===!1&&setTimeout(()=>{window.zoteroRoam?.clearDataCache?.()},1e3)}}),bE=window.Blueprint.Core.Icon,wE=window.Blueprint.DateTime.DateInput,xE=window.Blueprint.DateTime.DateRangeInput,wv={canEscapeKeyClose:!1,fill:!0,minimal:!0,placement:"bottom",popoverClassName:[W.POPOVER,W.DATE_PICKER].join(" ")},xv={formatDate:t=>Ar(t,{brackets:!1}),parseDate:t=>new Date(t)};function CE({value:t,setValue:e}){return d.jsx(wE,{className:W.INPUT_BOX,closeOnSelection:!0,highlightCurrentDay:!0,onChange:e,placeholder:"Date",popoverProps:wv,rightElement:d.jsx(bE,{icon:"timeline-events"}),shortcuts:!1,value:t,...xv})}function EE({value:t,setValue:e}){return d.jsx(xE,{className:W.INPUT_DATE_RANGE,closeOnSelection:!0,highlightCurrentDay:!0,onChange:e,popoverProps:wv,shortcuts:!1,value:t,...xv})}const ed=window.React.useCallback,SE=window.React.useMemo,TE=window.Blueprint.Core.Icon,_E=window.Blueprint.Core.MenuItem,kE=window.Blueprint.Select.MultiSelect,OE={className:W.TEXT_SMALL,initialContent:null,itemPredicate:(t,e)=>Ln(t,e.label,{any_case:!0,match:"partial",search_compounds:!1,word_order:"loose"}),itemsEqual:"value",openOnKeyDown:!0,popoverProps:{canEscapeKeyClose:!1,fill:!0,minimal:!0,popoverClassName:W.POPOVER},resetOnSelect:!0,tagInputProps:{inputProps:{autoComplete:"off",placeholder:"Add...",spellCheck:"false"},placeholder:"Click to add an element"},tagRenderer:t=>t.label};function RE({options:t=[],value:e=[],setValue:n,...o}){const i=SE(()=>t.filter(f=>e.includes(f.value)),[t,e]),l=ed((f,m)=>n([...e,f.value]),[n,e]),c=ed((f,m)=>n(e.filter(h=>h!=f.value)),[n,e]),u=ed((f,m)=>{const{handleClick:h}=m,v=e.includes(f.value);return d.jsx(_E,{"aria-selected":v,labelElement:v?d.jsx(TE,{icon:"small-tick"}):null,onClick:h,text:f.label},f.value)},[e]);return d.jsx(kE,{itemRenderer:u,items:t,onItemSelect:l,onRemove:c,selectedItems:i,...OE,...o})}const AE=window.React.useCallback,IE=window.Blueprint.Core.InputGroup;function jE({value:t,setValue:e}){const n=AE(o=>e(o.target.value),[e]);return d.jsx(IE,{className:[W.INPUT_BOX,W.INPUT_TEXT].join(" "),onChange:n,placeholder:"Enter text",value:t})}function PE(t,e="string"){if(t){const n=t.map(o=>({title:o.data.filename||o.data.title,key:o.key,link:_f(o,"href")}));switch(e){case"identity":return n;case"links":return n.map(o=>`[${o.title}](${o.link})`);case"string":default:return n.map(o=>`[${o.title}](${o.link})`).join(", ")}}else switch(e){case"identity":case"links":return[];case"string":default:return""}}function NE(t,{return_as:e="string",brackets:n=!0,use_type:o=!0}={}){const i=t.data.creators.map(l=>{const c="name"in l?l.name:`${[l.firstName,l.lastName].filter(Bt).join(" ")}`;return{name:c,type:l.creatorType,inGraph:Af(c)}});switch(e){case"identity":return i;case"array":return i.map(l=>l.name);case"string":default:return i.map(l=>{const c=n==!0||n=="existing"&&l.inGraph?`[[${l.name}]]`:l.name;return o==!0?c+(l.type=="author"?"":` (${l.type})`):c}).join(", ")}}function LE(t,{return_as:e="string",brackets:n=!0}={}){const o=t.data.tags.map(l=>l.tag),i=n==!0?o.map(l=>`#[[${l}]]`):o;switch(e){case"array":return i;case"string":default:return i.join(" ")}}window.Blueprint.Core.H5;function Cv(t,e=null,{annotationsSettings:n,notesSettings:o}){if(!t||t.length==0)return[];{const i=t.filter(Ec).sort((y,b)=>xC(y.data.annotationSortIndex,b.data.annotationSortIndex)),l=t.filter(Sc).sort((y,b)=>y.data.dateAdded<b.data.dateAdded?-1:1),c=[...SC(i,n),...cv(l,o)],{nest_char:u,nest_position:f,nest_preset:m,nest_use:h}=o;if(h=="preset"&&!m)return c;if(e){const y=(h=="custom"?u:m)||"",b=FE(y,e);if(b){const{uid:x,children:S=[]}=b,k=f=="bottom"?S.length:0;return c.map(A=>A.constructor===String?{string:A,text:A,order:k,parentUID:x}:{...A,order:k,parentUID:x})}}const v=(h=="custom"?u:m)||"";return[{string:v,text:v,children:c}]}}function DE(t,{brackets:e=!0}={}){return Ar(t.data.dateAdded,{brackets:e})}function Tm(t,e="local",n={}){return e=="local"?Es(t,n):Ss(t,n)}function ME(t,e,n,{annotationsSettings:o,notesSettings:i,typemap:l}){const c=[];if(t.data.title&&c.push(`Title:: ${t.data.title}`),t.data.creators.length>0&&c.push(`Author(s):: ${NE(t,{return_as:"string",brackets:!0,use_type:!0})}`),t.data.abstractNote&&c.push(`Abstract:: ${t.data.abstractNote}`),t.data.itemType&&c.push(`Type:: ${zE(t,{brackets:!0},{typemap:l})}`),c.push(`Publication:: ${BE(t,{brackets:!0})}`),t.data.url&&c.push(`URL : ${t.data.url}`),t.data.dateAdded&&c.push(`Date Added:: ${DE(t)}`),c.push(`Zotero links:: ${Tm(t,"local",{format:"markdown",text:"Local library"})}, ${Tm(t,"web",{format:"markdown",text:"Web library"})}`),t.data.tags.length>0&&c.push(`Tags:: ${LE(t,{return_as:"string",brackets:!0})}`),e.length>0&&c.push(`PDF links : ${PE(e,"links").join(", ")}`),n.length>0){const u=Cv(n,null,{annotationsSettings:o,notesSettings:i});c.push(...u)}return c}function BE(t,{brackets:e=!0}={}){const n=t.data.publicationTitle||t.data.bookTitle||t.data.university;return n?e==!0?`[[${n}]]`:n:""}function zE(t,{brackets:e=!0}={},{typemap:n}){const o=n[t.data.itemType]||t.data.itemType;return e==!0?`[[${o}]]`:o}async function $E(t,e){const{param:n,paramValue:o}=t,{item:i,notes:l,page:c,pdfs:u}=e,f={args:{smartblock:t,uid:c.uid},error:null,page:c,raw:{item:i,notes:l,pdfs:u},success:null},m={targetUid:c.uid,variables:{},[n]:o};Object.keys(e).forEach(h=>{m.variables[h]=e[h]});try{return await window.roamjs?.extension?.smartblocks?.triggerSmartblock(m),Promise.resolve({...f,success:!0})}catch(h){return window.zoteroRoam?.error?.({origin:"SmartBlocks",message:"Failed to trigger SmartBlock",context:{...m,error:h.message}}),Promise.resolve({...f,error:h,success:!1})}}async function Ev(t,e,n=0){const{string:o,children:i=[],...l}=e;if(typeof o>"u")throw window.zoteroRoam?.error?.({origin:"Metadata",message:"Bad object received",context:{object:e}}),new Error("All blocks passed as an Object must have a string property.");{const c=await Ud(l.parentUID||t,o,l.order||n,l);if(i.constructor===Array)for(let u=i.length-1;u>=0;u--){const f=i[u];if(typeof f=="object")await Ev(c,f,n);else if(typeof i[u]=="string")await Ud(c,f,n,{});else throw window.zoteroRoam?.error?.({origin:"Metadata",message:"Bad element received",context:{element:i[u]}}),new Error(`All children array items should be of type String or Object, not ${typeof f}`)}else throw window.zoteroRoam?.error?.({origin:"Metadata",message:"Bad object received",context:{object:e}}),new Error(`If provided, the 'children' property of a block should be an Array, not ${typeof i}`)}}async function Sv(t,e,n=0){const o={args:{blocks:e,uid:t},error:null,success:null};if(e.length>0)try{for(let i=e.length-1;i>=0;i--){const l=e[i];if(typeof l=="object")await Ev(t,l,n);else if(typeof l=="string")await Ud(t,l,n,{});else throw window.zoteroRoam?.error?.({origin:"Metadata",message:"Bad element received",context:{element:e[i]}}),new Error(`All array items should be of type String or Object, not ${e[i].constructor.name}`)}return Promise.resolve({...o,success:!0})}catch(i){return Promise.resolve({...o,error:i,success:!1})}else return window.zoteroRoam?.warn?.({origin:"Metadata",message:"Empty metadata array received"}),Promise.resolve(o)}async function Ud(t,e,n=0,o={}){const i=window.roamAlphaAPI.util.generateUID(),l={string:e,uid:i};if(Object.keys(o).length>0)for(const c of Object.keys(o))["children-view-type","alignment","heading"].includes(c)&&(l[c]=o[c]);return await window.roamAlphaAPI.createBlock({location:{"parent-uid":t,order:n},block:l}),i}function FE(t,e){const n=window.roamAlphaAPI.q(`[
		:find (pull ?b [:block/uid :block/children])
		:in $ ?string ?parentUID
		:where
			[?par :block/uid ?parentUID]
			[?par :block/children ?b]
			[?b :block/uid ?uid]
			[?b :block/string ?string]
	]`,t,e);return n[0]?n[0][0]:!1}function Af(t){const e=window.roamAlphaAPI.q(`[
		:find ?uid 
		:in $ ?title 
		:where
			[?p :node/title ?title]
			[?p :block/uid ?uid]
		]`,t);return e[0]?e[0][0]:!1}function UE(){return window.roamAlphaAPI.q(`[
		:find ?title 
		:where
			[?e :node/title ?title]
		]`).flat(1).sort((t,e)=>t.toLowerCase()<e.toLowerCase()?-1:1)}function qE(){return new Map(window.roamAlphaAPI.q(`[
		:find [(pull ?e [:node/title :edit/time :block/uid {:block/_parents [:edit/time]}])...] 
		:where
			[?e :node/title ?t]
			[(clojure.string/starts-with? ?t "@")]
		]`).filter(t=>t.time).map(t=>{const{title:e,uid:n}=t,o=t._parents?Math.max(...t._parents.map(i=>i.time)):t.time;return[e,{edited:new Date(Math.max(o,t.time)),uid:n}]}))}function HE(t){return window.roamAlphaAPI.q(`[
		:find (pull ?e [:node/title :block/uid]) 
		:in $ [?k ...] 
		:where
			[?e :node/title ?title]
			[(clojure.string/starts-with? ?title ?k)]
		]`,t).flat(1)}async function kc({item:t,pdfs:e=[],notes:n=[]},o,i,l,c,u){const f="@"+t.key,m=o||window.roamAlphaAPI.util.generateUID(),h={new:!1,title:f,uid:m};m!=o&&(window.roamAlphaAPI.createPage({page:{title:f,uid:m}}),h.new=!0);const{use:v="default",func:y="",smartblock:{param:b,paramValue:x}}=i;if(v=="smartblock"){const S={item:t,notes:n,page:h,pdfs:e};try{const k=await $E({param:b,paramValue:x},S);return jr({...k,_type:"metadata-added"}),k}catch(k){return window.zoteroRoam?.error?.({origin:"Metadata",message:"Failed to import metadata via SmartBlock for: "+f,detail:k.message,context:{page:h,settings:{annotations:u,metadata:i,notes:c}},showToaster:1e3}),await Promise.reject(k)}}else try{const S=v=="function"&&y?await Tf(y,window,t,e,n):ME(t,e,n,{annotationsSettings:u,notesSettings:c,typemap:l}),k=await Sv(m,S),A={page:h,raw:{item:t,pdfs:e,notes:n},...k};return jr({...A,_type:"metadata-added"}),A}catch(S){return window.zoteroRoam?.error?.({origin:"Metadata",message:"Failed to import metadata for: "+f,detail:S.message,context:{page:h,settings:{annotations:u,metadata:i,notes:c}},showToaster:1e3}),await Promise.reject(S)}}async function Tv({item:t,notes:e=[]},n,o,i){const l="@"+t.key,c=n||window.roamAlphaAPI.util.generateUID(),u={new:!1,title:l,uid:c};c!=n&&(window.roamAlphaAPI.createPage({page:{title:l,uid:c}}),u.new=!0);try{const f=Cv(e,c,{annotationsSettings:i,notesSettings:o}),m=await Sv(c,f),h={page:u,raw:{item:t,notes:e},...m};return jr({...h,_type:"notes-added"}),h}catch(f){return window.zoteroRoam?.error?.({origin:"Notes",message:"Failed to import notes for: "+l,detail:f.message,context:{page:u,settings:{annotations:i,notes:o}},showToaster:1e3}),await Promise.reject(f)}}async function _m(t,e="outline"){await window.roamAlphaAPI.ui.rightSidebar.addWindow({window:{type:e,"block-uid":t}})}async function qd(t){await window.roamAlphaAPI.ui.mainWindow.openPage({page:{uid:t}})}const VE=window.React.memo,km=window.React.useCallback,XE=window.React.useState,Om=window.Blueprint.Core.MenuItem,WE=window.Blueprint.Select.MultiSelect,QE=30,KE={canEscapeKeyClose:!1,className:"zr-input-tags",fill:!0,minimal:!0,popoverClassName:W.POPOVER},GE={inputProps:{"aria-label":"Add tags from Roam",placeholder:"Add tag",title:"Add tags from Roam"},leftIcon:"tag",tagProps:{minimal:!0}},YE={createNewItemFromQuery:t=>t,createNewItemRenderer:(t,e,n)=>d.jsx(Om,{"aria-selected":e,htmlTitle:`Add tag, '${t}'`,icon:"small-plus",onClick:n,text:t}),itemRenderer:(t,e)=>{const{handleClick:n,modifiers:{active:o}}=e;return d.jsx(Om,{"aria-selected":o,onClick:n,text:t},t)},itemListPredicate:(t,e)=>e.filter(n=>Ln(t,n,{any_case:!0,match:"partial",search_compounds:!0,word_order:"loose"})).sort((n,o)=>n.length<o.length?-1:1).slice(0,QE),tagRenderer:t=>t},_v=VE(function(e){const{selectedTags:n,onRemove:o,onSelect:i,...l}=e,[c]=XE(()=>UE()),u=km((m,h)=>i(m),[i]),f=km((m,h)=>o(m),[o]);return d.jsx(WE,{className:W.TEXT_SMALL,createNewItemPosition:"first",fill:!0,initialContent:null,items:c,onItemSelect:u,onRemove:f,openOnKeyDown:!0,placeholder:"Add tags from Roam",popoverProps:KE,resetOnQuery:!0,resetOnSelect:!0,selectedItems:n,tagInputProps:GE,...YE,...l})});window.React.useMemo;const{Provider:sP,useSettings:Oc}=new tr;window.ReactDOM.unmountComponentAtNode;const ZE=window.Blueprint.Core.parseKeyCombo;function Rc(t){const e={};return Object.keys(t).forEach(n=>{const o=t[n];if(o=="")e[n]=o;else try{ZE(t[n]),e[n]=t[n]}catch{window.zoteroRoam?.warn?.({origin:"Shortcuts",message:"Invalid hotkey: "+t[n]})}}),e}window.React.useCallback;window.Blueprint.Core.Button;window.Blueprint.Core.Dialog;const{Provider:lP,useSettings:cr}=new tr({afterUpdate:(t,e)=>{window?.zoteroRoam?.updateLibraries?.(e.libraries)}});var kv={exports:{}};/*! For license information please see badge.bundle.js.LICENSE.txt */(function(t,e){(function(n,o){t.exports=o()})(self,()=>(()=>{var n={184:(c,u)=>{var f;(function(){var m={}.hasOwnProperty;function h(){for(var v=[],y=0;y<arguments.length;y++){var b=arguments[y];if(b){var x=typeof b;if(x==="string"||x==="number")v.push(b);else if(Array.isArray(b)){if(b.length){var S=h.apply(null,b);S&&v.push(S)}}else if(x==="object")if(b.toString===Object.prototype.toString)for(var k in b)m.call(b,k)&&b[k]&&v.push(k);else v.push(b.toString())}}return v.join(" ")}c.exports?(h.default=h,c.exports=h):(f=function(){return h}.apply(u,[]))===void 0||(c.exports=f)})()},180:(c,u,f)=>{f.d(u,{Z:()=>v});var m=f(645),h=f.n(m)()(function(y){return y[1]});h.push([c.id,"@import url(https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600&display=swap);"]),h.push([c.id,'@font-face{font-family:scite-icons;font-style:normal;font-weight:400;src:url(https://cdn.scite.ai/assets/fonts/scite-icons/scite-icons.eot?v=5);src:url(https://cdn.scite.ai/assets/fonts/scite-icons/scite-icons.eot?v=5#iefix) format("embedded-opentype"),url(https://cdn.scite.ai/assets/fonts/scite-icons/scite-icons.woff2?v=5) format("woff2"),url(https://cdn.scite.ai/assets/fonts/scite-icons/scite-icons.woff?v=5) format("woff"),url(https://cdn.scite.ai/assets/fonts/scite-icons/scite-icons.ttf?v=5) format("truetype"),url(https://cdn.scite.ai/assets/fonts/scite-icons/scite-icons.svg?v=5#fontello) format("svg")}.Icon__icon___rkFdu{speak:none;font-family:scite-icons!important;font-style:normal!important;font-variant:normal!important;font-weight:400!important;line-height:1.5!important;text-transform:none!important}.Icon__unclassified___KG7dh:before{color:#828179;content:"\\e80a"}.Icon__contrasting___XemUp:before{color:#0062ff;content:"\\e80a"}.Icon__mentioning___eZSXr:before{color:#393f43;content:"\\e902"}.Icon__supporting___6A01H:before{color:#26a65b;content:"\\e903"}.Icon__retractions___\\+fJ\\+N:before{color:#ff3b30;content:"\\e901"}.Icon__notices___DbL2K:before{color:#82807d;content:"\\e90a"}.Icon__publications___3dd2q:before{color:#82807d;content:"\\e90b"}.Icon__smallIcon___3rDRZ{line-height:1rem!important}.Icon__openingArrow___pSL8O:before{color:#82807d;content:"\\e922"}.Icon__closingCaret___EMT7i:before{color:#82807d;content:"\\e925"}.Count__count___VwSFw{display:flex;font-size:14.5px}.Count__label___UClje{display:inline-block;margin-right:12px;text-transform:capitalize;width:82px}.Count__smallLabel___E3KvK{margin-right:6px;text-transform:capitalize}.Count__iconCountWrapper___CTSi2{box-sizing:border-box;display:inline-block}.Count__sectionTallyIconCountWrapper___lTlUR{box-sizing:border-box;display:flex}.Count__expandedIconCount___c3tc2{align-items:center;display:inline-flex;justify-content:space-between;width:100%}.Count__number___4oBqJ{margin-left:8px}.Count__smallNumber___wi6E7{margin-left:6px}.Count__horizontal___wp4Sz{border-left:1px solid #cfcfcf;padding:4px 8px}.Count__horizontal___wp4Sz:first-child{border-left:none}.Count__horizontal___wp4Sz>.Count__label___UClje{width:auto}.Count__horizontal___wp4Sz>.Count__sectionTallyIconCountWrapper___lTlUR>.Count__label___UClje{vertical-align:middle;width:auto}.Count__small___kecST{font-size:10px;padding:2px 4px}.Tally__tally___wF-n7 *{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.Tally__tally___wF-n7{background-color:#fff;color:#0e1d1a;cursor:pointer;display:flex;flex-direction:column;font-family:IBM Plex Sans,sans-serif;font-size:16px;line-height:1.5;opacity:0;padding:8px 12px 0 8px;pointer-events:none;transition:all .2s ease-in-out;will-change:opacity,background-color}.Tally__badgeTally___AkCwi{border-radius:8px 0 0 0;padding-bottom:8px}.Tally__horizontal___TYyqc{flex-direction:row;height:100%;padding:0 8px}.Tally__show___EesAt{opacity:1;pointer-events:auto}.Tally__tally___wF-n7:hover{background-color:#f4f4f4}.Tally__logo___k79zv{display:block;margin-bottom:8px;max-width:4em;width:4em}.Tally__logoSmall___JZuyy{max-width:3em;padding-left:4px;width:3em}.Tally__small___lrym1{padding:0 4px}.Tally__forceCollapse___4k5aa{display:none}.HideableTally__tally___TXiqB *{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.HideableTally__tally___TXiqB{background-color:#fff;color:#0e1d1a;cursor:pointer;display:flex;flex-direction:column;font-family:IBM Plex Sans,sans-serif;font-size:16px;line-height:1.5;transition:all .2s ease-in-out;will-change:opacity,background-color}.HideableTally__tally___TXiqB:hover{background-color:#f4f4f4}.HideableTally__hideContainer___w5Wlj{align-items:center;color:#82807d;display:flex;font-size:12px;padding-left:8px;z-index:1}.HideableTally__logoSingleLetter___OwmJA{max-width:1em;width:1em}.HideableTally__logoContainer___kXnxF{align-items:center;display:flex;padding-right:8px}.HideableTally__openingArrow___yBpbp{color:#82807d;font-size:16px;font-weight:600;margin-right:4px}.HideableTally__closingArrow___pKIyO{color:#82807d;display:block;font-size:16px;font-weight:600;max-width:1em;width:1em}.SectionIcon__sectionIcon___nqPTw{speak:none;display:inline-block!important;font-style:normal!important;font-variant:normal!important;font-weight:400!important;line-height:1.5!important;margin-right:5px!important}.SectionIcon__sectionIcon___nqPTw:before{border-radius:4px;color:#fff;display:inline-block!important;padding:2px 4px;text-align:center;transform:scale(1);width:12px}.SectionIcon__introduction___uhUFG:before{background:#002ab2;content:"I"}.SectionIcon__methods___RVooU:before{background:#0036e5;content:"M"}.SectionIcon__results___1k9LI:before{background:#0062ff;content:"R"}.SectionIcon__discussion___Qeyb0:before{background:#66a3ff;content:"D"}.SectionIcon__other___uF\\+vV:before{background:#9ec4f0;content:"O"}.SectionIcon__smallSectionIcon___nCjHN{line-height:1!important}.SectionTally__sectionTallyWidget___aaCj5 *{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.SectionTally__sectionTallyWidget___aaCj5{padding:8px}.SectionTally__sectionTallyWidget___aaCj5:hover{background-color:#f4f4f4!important}.SectionTally__sectionTallyWrapper___nwj2j{align-items:center;display:flex}.SectionTally__tally___es9p7{color:#0e1d1a;cursor:pointer;display:flex;flex-direction:column;font-family:IBM Plex Sans,sans-serif;font-size:16px;line-height:1.5;opacity:0;padding-bottom:0;padding-right:12px;pointer-events:none;transition:all .2s ease-in-out;will-change:opacity,background-color}.SectionTally__badgeTally___ZYqar{border-radius:8px 0 0 0;padding-bottom:8px}.SectionTally__horizontal___-hgL\\+{flex-direction:row;height:100%;padding:0 8px}.SectionTally__show___wciqp{opacity:1;pointer-events:auto}.SectionTally__logo___pEojg{display:block;margin-bottom:8px;max-width:4em;width:4em}.SectionTally__logoSmall___yzxV\\+{max-width:3em;padding-left:4px;width:3em}.SectionTally__small___QBk26{padding:0 4px}.SectionTally__forceCollapse___MexwG{display:none}.SectionTally__chartSubheading___tm7gz{font-family:IBM Plex Sans,sans-serif;font-size:12px;margin-top:4px;text-align:center;width:140px}.SectionTally__chartLabel___Nm4F\\+{display:block;font-weight:600}',""]);const v=h},717:(c,u,f)=>{f.d(u,{Z:()=>v});var m=f(645),h=f.n(m)()(function(y){return y[1]});h.push([c.id,`.AT5rL7aTm8KKajD1LMmpXg\\=\\= {
    font-family: 'IBM Plex Sans', sans-serif;
    font-size: 16px;

    opacity: 0;
    pointer-events: none;
    will-change: opacity;
    transition: opacity 200ms ease-in-out;

    padding: 16px;

    border: 1px solid #ebebeb;
    border-radius: 8px;
    background-color: white;
    box-shadow: 0px 0px 37px 0px rgba(0,0,0,0.05);

    z-index: 9999;

    width: 250px;
    height: auto;

    cursor: pointer;
}

._2Xtymibu3VEV-gq1N5m\\+aA\\=\\= {
    opacity: 1;
    pointer-events: auto;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="top"]:after, .AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="top"]:before {
	top: 100%;
	left: 50%;
	border: solid transparent;
	content: " ";
	height: 0;
	width: 0;
	position: absolute;
	pointer-events: none;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="top"]:after {
	border-color: rgba(255, 255, 255, 0);
	border-top-color: #FFFFFF;
	border-width: 10px;
	margin-left: -10px;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="top"]:before {
	border-color: rgba(235, 235, 235, 0);
	border-top-color: #ebebeb;
	border-width: 11px;
	margin-left: -11px;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="left"]:after, .AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="left"]:before {
	left: 100%;
	top: 50%;
	border: solid transparent;
	content: " ";
	height: 0;
	width: 0;
	position: absolute;
	pointer-events: none;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="left"]:after {
	border-color: rgba(255, 255, 255, 0);
	border-left-color: #ffffff;
	border-width: 10px;
	margin-top: -10px;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="left"]:before {
	border-color: rgba(235, 235, 235, 0);
	border-left-color: #ebebeb;
	border-width: 11px;
	margin-top: -11px;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="right"]:after, .AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="right"]:before {
	right: 100%;
	top: 50%;
	border: solid transparent;
	content: " ";
	height: 0;
	width: 0;
	position: absolute;
	pointer-events: none;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="right"]:after {
	border-color: rgba(255, 255, 255, 0);
	border-right-color: #ffffff;
	border-width: 10px;
	margin-top: -10px;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="right"]:before {
	border-color: rgba(235, 235, 235, 0);
	border-right-color: #ebebeb;
	border-width: 11px;
	margin-top: -11px;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="bottom"]:after, .AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="bottom"]:before {
	bottom: 100%;
	left: 50%;
	border: solid transparent;
	content: " ";
	height: 0;
	width: 0;
	position: absolute;
	pointer-events: none;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="bottom"]:after {
	border-color: rgba(255, 255, 255, 0);
	border-bottom-color: #FFFFFF;
	border-width: 10px;
	margin-left: -10px;
}

.AT5rL7aTm8KKajD1LMmpXg\\=\\=[data-placement="bottom"]:before {
	border-color: rgba(235, 235, 235, 0);
	border-bottom-color: #ebebeb;
	border-width: 11px;
	margin-left: -11px;
}

.poEjDAx2EewNn\\+kdnuCNbw\\=\\= {
    /* So it doesn't get wider than the badge itself
     * based on the width of the container */
}

.MlC\\+r-CmnNCcLkgYD8Dr3A\\=\\= {
    font-size: 14px;
}


.JqOPSu81MQ6f4Zf9z\\+kqGA\\=\\= {
    line-height: 1.5;
}

.GPqI5vpEM4VpfAAz4n7HHw\\=\\= {
    display: inline-block;
    margin-top: 0.5rem;
}

.-hEUP2QMiuX6a9sr7dC-lw\\=\\= {
	margin: 0.5rem 0;
	font-weight: bold;
}

.LzVcQqdJWiY7N8-Sq-TVuQ\\=\\= {
    display: inline-block;
}

.VbAViV4Slh84iH9X2erp\\+w\\=\\= {
	display: inline;
}

.f3QM6zcZemgDMSOwqIK2TA\\=\\= {
    display: block;
	margin: 0.5rem 0;
	margin-left: 1rem;
}

.bcxXMmw49C9aDY85vGYeXQ\\=\\= {
    color: #828179;
}

.lrdLQN2-BBgxsMDjSuuRzA\\=\\= {
    font-weight: bold;
    color: black;
}

.sUhEpXXzA4dizL2jxbvHFA\\=\\= {
    text-decoration: none;
    color: inherit;
    font-weight: inherit;
    transition: 200ms opacity ease-in-out;
}

.sUhEpXXzA4dizL2jxbvHFA\\=\\=:hover, .sUhEpXXzA4dizL2jxbvHFA\\=\\=:active {
    opacity: 0.8;
}

._13xrsxGwhLy89Cqv\\+5JjQw\\=\\= {
    display: inline-block;
    background-color: #0062FF;

    border-radius: 6px;

    padding: 6px 12px;
	margin-top: 12px;

    color: white;
    text-decoration: none;

    transition: background-color 200ms ease-in-out;
}

._13xrsxGwhLy89Cqv\\+5JjQw\\=\\=:hover {
    background-color: #4da3ff;

    /* For (a) site(s) that specifies a:hover color to be inherit */
    color: white;

}

._80i\\+8Z8J94Dfk-D9w-MGTw\\=\\= {
  display: block;
  width: 5em;
}

.WtCeh9Ck5GR\\+4htw\\+R1oCg\\=\\= {
	display: block;
	margin: 0.5rem 0;
}


.V5f0vIfUVJ2Syht6KzU80Q\\=\\= {
	color: #D84215;
	font-weight: bold;
}

.AvwIr2RDj3wSP30wVV5UDw\\=\\= {
	color: black;
	font-weight: bold;
}
`,""]),h.locals={tooltip:"AT5rL7aTm8KKajD1LMmpXg==",tooltipShow:"_2Xtymibu3VEV-gq1N5m+aA==",reference:"poEjDAx2EewNn+kdnuCNbw==",tooltipContent:"MlC+r-CmnNCcLkgYD8Dr3A==",tally:"JqOPSu81MQ6f4Zf9z+kqGA==",tallyCounts:"GPqI5vpEM4VpfAAz4n7HHw==",tallyCount:"-hEUP2QMiuX6a9sr7dC-lw==",labels:"LzVcQqdJWiY7N8-Sq-TVuQ==",noticeLabel:"VbAViV4Slh84iH9X2erp+w==",label:"f3QM6zcZemgDMSOwqIK2TA==",message:"bcxXMmw49C9aDY85vGYeXQ==",bold:"lrdLQN2-BBgxsMDjSuuRzA==",link:"sUhEpXXzA4dizL2jxbvHFA==",button:"_13xrsxGwhLy89Cqv+5JjQw==",logo:"_80i+8Z8J94Dfk-D9w-MGTw==",slogan:"WtCeh9Ck5GR+4htw+R1oCg==",retractionsCopy:"V5f0vIfUVJ2Syht6KzU80Q==",noticeCopy:"AvwIr2RDj3wSP30wVV5UDw=="};const v=h},696:(c,u,f)=>{f.d(u,{Z:()=>v});var m=f(645),h=f.n(m)()(function(y){return y[1]});h.push([c.id,`.scite-badge {
    display: inline-block;
}

.scite-badge .scite-tally {
    border-radius: 8px;
    border: 1px solid #cfcfcf;
    min-height: 120px;

    box-sizing: border-box;
}

.scite-badge[data-show-labels='true'] .scite-tally {
}

.scite-badge[data-layout='horizontal'] .scite-tally {
    min-height: 0px;
    max-height: 32px;
}

.scite-badge:not([data-chart-type]) .scite-section-tally {
    border-radius: 8px;
    height: min-content;
    width: min-content;
    padding: 8px 0px 0px 8px;
    border: 1px solid #cfcfcf;
    box-sizing: border-box;
}

.scite-badge[data-section-tally-layout='horizontal'] .scite-section-tally {
    padding: 0px;
}
`,""]),h.locals={};const v=h},645:c=>{c.exports=function(u){var f=[];return f.toString=function(){return this.map(function(m){var h=u(m);return m[2]?"@media ".concat(m[2]," {").concat(h,"}"):h}).join("")},f.i=function(m,h,v){typeof m=="string"&&(m=[[null,m,""]]);var y={};if(v)for(var b=0;b<this.length;b++){var x=this[b][0];x!=null&&(y[x]=!0)}for(var S=0;S<m.length;S++){var k=[].concat(m[S]);v&&y[k[0]]||(h&&(k[2]?k[2]="".concat(h," and ").concat(k[2]):k[2]=h),f.push(k))}},f}},418:c=>{var u=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;function h(v){if(v==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(v)}c.exports=function(){try{if(!Object.assign)return!1;var v=new String("abc");if(v[5]="de",Object.getOwnPropertyNames(v)[0]==="5")return!1;for(var y={},b=0;b<10;b++)y["_"+String.fromCharCode(b)]=b;if(Object.getOwnPropertyNames(y).map(function(S){return y[S]}).join("")!=="0123456789")return!1;var x={};return"abcdefghijklmnopqrst".split("").forEach(function(S){x[S]=S}),Object.keys(Object.assign({},x)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(v,y){for(var b,x,S=h(v),k=1;k<arguments.length;k++){for(var A in b=Object(arguments[k]))f.call(b,A)&&(S[A]=b[A]);if(u){x=u(b);for(var L=0;L<x.length;L++)m.call(b,x[L])&&(S[x[L]]=b[x[L]])}}return S}},448:(c,u,f)=>{var m=f(294),h=f(418),v=f(840);function y(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,s=1;s<arguments.length;s++)a+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!m)throw Error(y(227));var b=new Set,x={};function S(r,a){k(r,a),k(r+"Capture",a)}function k(r,a){for(x[r]=a,r=0;r<a.length;r++)b.add(a[r])}var A=!(typeof window>"u"||window.document===void 0||window.document.createElement===void 0),L=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U=Object.prototype.hasOwnProperty,X={},ee={};function D(r,a,s,p,g,w,E){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=s,this.propertyName=r,this.type=a,this.sanitizeURL=w,this.removeEmptyString=E}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){j[r]=new D(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];j[a]=new D(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){j[r]=new D(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){j[r]=new D(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){j[r]=new D(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){j[r]=new D(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){j[r]=new D(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){j[r]=new D(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){j[r]=new D(r,5,!1,r.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function q(r){return r[1].toUpperCase()}function fe(r,a,s,p){var g=j.hasOwnProperty(a)?j[a]:null;(g!==null?g.type===0:!p&&2<a.length&&(a[0]==="o"||a[0]==="O")&&(a[1]==="n"||a[1]==="N"))||(function(w,E,O,R){if(E==null||function(F,oe,ke,he){if(ke!==null&&ke.type===0)return!1;switch(typeof oe){case"function":case"symbol":return!0;case"boolean":return!he&&(ke!==null?!ke.acceptsBooleans:(F=F.toLowerCase().slice(0,5))!=="data-"&&F!=="aria-");default:return!1}}(w,E,O,R))return!0;if(R)return!1;if(O!==null)switch(O.type){case 3:return!E;case 4:return E===!1;case 5:return isNaN(E);case 6:return isNaN(E)||1>E}return!1}(a,s,g,p)&&(s=null),p||g===null?function(w){return!!U.call(ee,w)||!U.call(X,w)&&(L.test(w)?ee[w]=!0:(X[w]=!0,!1))}(a)&&(s===null?r.removeAttribute(a):r.setAttribute(a,""+s)):g.mustUseProperty?r[g.propertyName]=s===null?g.type!==3&&"":s:(a=g.attributeName,p=g.attributeNamespace,s===null?r.removeAttribute(a):(s=(g=g.type)===3||g===4&&s===!0?"":""+s,p?r.setAttributeNS(p,a,s):r.setAttribute(a,s))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(P,q);j[a]=new D(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(P,q);j[a]=new D(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(P,q);j[a]=new D(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){j[r]=new D(r,1,!1,r.toLowerCase(),null,!1,!1)}),j.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){j[r]=new D(r,1,!1,r.toLowerCase(),null,!0,!0)});var me=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ge=60103,ye=60106,Y=60107,be=60108,se=60114,we=60109,ze=60110,Ke=60112,Le=60113,Je=60120,ft=60115,I=60116,M=60121,G=60128,ue=60129,ae=60130,K=60131;if(typeof Symbol=="function"&&Symbol.for){var te=Symbol.for;ge=te("react.element"),ye=te("react.portal"),Y=te("react.fragment"),be=te("react.strict_mode"),se=te("react.profiler"),we=te("react.provider"),ze=te("react.context"),Ke=te("react.forward_ref"),Le=te("react.suspense"),Je=te("react.suspense_list"),ft=te("react.memo"),I=te("react.lazy"),M=te("react.block"),te("react.scope"),G=te("react.opaque.id"),ue=te("react.debug_trace_mode"),ae=te("react.offscreen"),K=te("react.legacy_hidden")}var Ce,Re=typeof Symbol=="function"&&Symbol.iterator;function Ee(r){return r===null||typeof r!="object"?null:typeof(r=Re&&r[Re]||r["@@iterator"])=="function"?r:null}function ot(r){if(Ce===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Ce=a&&a[1]||""}return`
`+Ce+r}var St=!1;function Vt(r,a){if(!r||St)return"";St=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(R){var p=R}Reflect.construct(r,[],a)}else{try{a.call()}catch(R){p=R}r.call(a.prototype)}else{try{throw Error()}catch(R){p=R}r()}}catch(R){if(R&&p&&typeof R.stack=="string"){for(var g=R.stack.split(`
`),w=p.stack.split(`
`),E=g.length-1,O=w.length-1;1<=E&&0<=O&&g[E]!==w[O];)O--;for(;1<=E&&0<=O;E--,O--)if(g[E]!==w[O]){if(E!==1||O!==1)do if(E--,0>--O||g[E]!==w[O])return`
`+g[E].replace(" at new "," at ");while(1<=E&&0<=O);break}}}finally{St=!1,Error.prepareStackTrace=s}return(r=r?r.displayName||r.name:"")?ot(r):""}function Ot(r){switch(r.tag){case 5:return ot(r.type);case 16:return ot("Lazy");case 13:return ot("Suspense");case 19:return ot("SuspenseList");case 0:case 2:case 15:return Vt(r.type,!1);case 11:return Vt(r.type.render,!1);case 22:return Vt(r.type._render,!1);case 1:return Vt(r.type,!0);default:return""}}function xt(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Y:return"Fragment";case ye:return"Portal";case se:return"Profiler";case be:return"StrictMode";case Le:return"Suspense";case Je:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case ze:return(r.displayName||"Context")+".Consumer";case we:return(r._context.displayName||"Context")+".Provider";case Ke:var a=r.render;return a=a.displayName||a.name||"",r.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case ft:return xt(r.type);case M:return xt(r._render);case I:a=r._payload,r=r._init;try{return xt(r(a))}catch{}}return null}function lt(r){switch(typeof r){case"boolean":case"number":case"object":case"string":case"undefined":return r;default:return""}}function Qt(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function mt(r){r._valueTracker||(r._valueTracker=function(a){var s=Qt(a)?"checked":"value",p=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),g=""+a[s];if(!a.hasOwnProperty(s)&&p!==void 0&&typeof p.get=="function"&&typeof p.set=="function"){var w=p.get,E=p.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return w.call(this)},set:function(O){g=""+O,E.call(this,O)}}),Object.defineProperty(a,s,{enumerable:p.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}(r))}function wn(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var s=a.getValue(),p="";return r&&(p=Qt(r)?r.checked?"true":"false":r.value),(r=p)!==s&&(a.setValue(r),!0)}function rn(r){if((r=r||(typeof document<"u"?document:void 0))===void 0)return null;try{return r.activeElement||r.body}catch{return r.body}}function pn(r,a){var s=a.checked;return h({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??r._wrapperState.initialChecked})}function xn(r,a){var s=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;s=lt(a.value!=null?a.value:s),r._wrapperState={initialChecked:p,initialValue:s,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function ur(r,a){(a=a.checked)!=null&&fe(r,"checked",a,!1)}function on(r,a){ur(r,a);var s=lt(a.value),p=a.type;if(s!=null)p==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+s):r.value!==""+s&&(r.value=""+s);else if(p==="submit"||p==="reset")return void r.removeAttribute("value");a.hasOwnProperty("value")?nr(r,a.type,s):a.hasOwnProperty("defaultValue")&&nr(r,a.type,lt(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function dr(r,a,s){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,s||a===r.value||(r.value=a),r.defaultValue=a}(s=r.name)!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,s!==""&&(r.name=s)}function nr(r,a,s){a==="number"&&rn(r.ownerDocument)===r||(s==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+s&&(r.defaultValue=""+s))}function Bn(r,a){return r=h({children:void 0},a),(a=function(s){var p="";return m.Children.forEach(s,function(g){g!=null&&(p+=g)}),p}(a.children))&&(r.children=a),r}function fr(r,a,s,p){if(r=r.options,a){a={};for(var g=0;g<s.length;g++)a["$"+s[g]]=!0;for(s=0;s<r.length;s++)g=a.hasOwnProperty("$"+r[s].value),r[s].selected!==g&&(r[s].selected=g),g&&p&&(r[s].defaultSelected=!0)}else{for(s=""+lt(s),a=null,g=0;g<r.length;g++){if(r[g].value===s)return r[g].selected=!0,void(p&&(r[g].defaultSelected=!0));a!==null||r[g].disabled||(a=r[g])}a!==null&&(a.selected=!0)}}function Kt(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(y(91));return h({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function zo(r,a){var s=a.value;if(s==null){if(s=a.children,a=a.defaultValue,s!=null){if(a!=null)throw Error(y(92));if(Array.isArray(s)){if(!(1>=s.length))throw Error(y(93));s=s[0]}a=s}a==null&&(a=""),s=a}r._wrapperState={initialValue:lt(s)}}function da(r,a){var s=lt(a.value),p=lt(a.defaultValue);s!=null&&((s=""+s)!==r.value&&(r.value=s),a.defaultValue==null&&r.defaultValue!==s&&(r.defaultValue=s)),p!=null&&(r.defaultValue=""+p)}function Lr(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}var $o="http://www.w3.org/1999/xhtml";function hn(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rn(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?hn(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var rr,pr,Dr=(pr=function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for((rr=rr||document.createElement("div")).innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=rr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}},typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,a,s,p){MSApp.execUnsafeLocalFunction(function(){return pr(r,a)})}:pr);function Mr(r,a){if(a){var s=r.firstChild;if(s&&s===r.lastChild&&s.nodeType===3)return void(s.nodeValue=a)}r.textContent=a}var hr={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ui=["Webkit","ms","Moz","O"];function z(r,a,s){return a==null||typeof a=="boolean"||a===""?"":s||typeof a!="number"||a===0||hr.hasOwnProperty(r)&&hr[r]?(""+a).trim():a+"px"}function ne(r,a){for(var s in r=r.style,a)if(a.hasOwnProperty(s)){var p=s.indexOf("--")===0,g=z(s,a[s],p);s==="float"&&(s="cssFloat"),p?r.setProperty(s,g):r[s]=g}}Object.keys(hr).forEach(function(r){ui.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),hr[a]=hr[r]})});var Se=h({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function De(r,a){if(a){if(Se[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(y(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(y(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(y(61))}if(a.style!=null&&typeof a.style!="object")throw Error(y(62))}}function ve(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(r){return(r=r.target||r.srcElement||window).correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var He=null,je=null,$e=null;function at(r){if(r=Ks(r)){if(typeof He!="function")throw Error(y(280));var a=r.stateNode;a&&(a=Kc(a),He(r.stateNode,r.type,a))}}function At(r){je?$e?$e.push(r):$e=[r]:je=r}function pt(){if(je){var r=je,a=$e;if($e=je=null,at(r),a)for(r=0;r<a.length;r++)at(a[r])}}function Nt(r,a){return r(a)}function Tt(r,a,s,p,g){return r(a,s,p,g)}function Gt(){}var wt=Nt,Yt=!1,an=!1;function mr(){je===null&&$e===null||(Gt(),pt())}function An(r,a){var s=r.stateNode;if(s===null)return null;var p=Kc(s);if(p===null)return null;s=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(p=!((r=r.type)==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(s&&typeof s!="function")throw Error(y(231,a,typeof s));return s}var or=!1;if(A)try{var Cn={};Object.defineProperty(Cn,"passive",{get:function(){or=!0}}),window.addEventListener("test",Cn,Cn),window.removeEventListener("test",Cn,Cn)}catch{or=!1}function zn(r,a,s,p,g,w,E,O,R){var F=Array.prototype.slice.call(arguments,3);try{a.apply(s,F)}catch(oe){this.onError(oe)}}var sn=!1,En=null,oo=!1,di=null,Dc={onError:function(r){sn=!0,En=r}};function Mc(r,a,s,p,g,w,E,O,R){sn=!1,En=null,zn.apply(Dc,arguments)}function Br(r){var a=r,s=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do 1026&(a=r).flags&&(s=a.return),r=a.return;while(r)}return a.tag===3?s:null}function Ps(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate)!==null&&(a=r.memoizedState),a!==null)return a.dehydrated}return null}function fa(r){if(Br(r)!==r)throw Error(y(188))}function fi(r,a){for(var s=r.alternate;a!==null;){if(a===r||a===s)return!0;a=a.return}return!1}var dt,pa,Ns,Ls,pi=!1,In=[],gr=null,yr=null,vr=null,br=new Map,ao=new Map,io=[],ha="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ma(r,a,s,p,g){return{blockedOn:r,domEventName:a,eventSystemFlags:16|s,nativeEvent:g,targetContainers:[p]}}function hi(r,a){switch(r){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":vr=null;break;case"pointerover":case"pointerout":br.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(a.pointerId)}}function Fo(r,a,s,p,g,w){return r===null||r.nativeEvent!==w?(r=ma(a,s,p,g,w),a!==null&&(a=Ks(a))!==null&&pa(a),r):(r.eventSystemFlags|=p,a=r.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),r)}function mi(r){var a=Vo(r.target);if(a!==null){var s=Br(a);if(s!==null){if((a=s.tag)===13){if((a=Ps(s))!==null)return r.blockedOn=a,void Ls(r.lanePriority,function(){v.unstable_runWithPriority(r.priority,function(){Ns(s)})})}else if(a===3&&s.stateNode.hydrate)return void(r.blockedOn=s.tag===3?s.stateNode.containerInfo:null)}}r.blockedOn=null}function ga(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var s=Be(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(s!==null)return(a=Ks(s))!==null&&pa(a),r.blockedOn=s,!1;a.shift()}return!0}function gi(r,a,s){ga(r)&&s.delete(a)}function Ds(){for(pi=!1;0<In.length;){var r=In[0];if(r.blockedOn!==null){(r=Ks(r.blockedOn))!==null&&dt(r);break}for(var a=r.targetContainers;0<a.length;){var s=Be(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(s!==null){r.blockedOn=s;break}a.shift()}r.blockedOn===null&&In.shift()}gr!==null&&ga(gr)&&(gr=null),yr!==null&&ga(yr)&&(yr=null),vr!==null&&ga(vr)&&(vr=null),br.forEach(gi),ao.forEach(gi)}function $n(r,a){r.blockedOn===a&&(r.blockedOn=null,pi||(pi=!0,v.unstable_scheduleCallback(v.unstable_NormalPriority,Ds)))}function Uo(r){function a(g){return $n(g,r)}if(0<In.length){$n(In[0],r);for(var s=1;s<In.length;s++){var p=In[s];p.blockedOn===r&&(p.blockedOn=null)}}for(gr!==null&&$n(gr,r),yr!==null&&$n(yr,r),vr!==null&&$n(vr,r),br.forEach(a),ao.forEach(a),s=0;s<io.length;s++)(p=io[s]).blockedOn===r&&(p.blockedOn=null);for(;0<io.length&&(s=io[0]).blockedOn===null;)mi(s),s.blockedOn===null&&io.shift()}function so(r,a){var s={};return s[r.toLowerCase()]=a.toLowerCase(),s["Webkit"+r]="webkit"+a,s["Moz"+r]="moz"+a,s}var lo={animationend:so("Animation","AnimationEnd"),animationiteration:so("Animation","AnimationIteration"),animationstart:so("Animation","AnimationStart"),transitionend:so("Transition","TransitionEnd")},qo={},ya={};function Ho(r){if(qo[r])return qo[r];if(!lo[r])return r;var a,s=lo[r];for(a in s)if(s.hasOwnProperty(a)&&a in ya)return qo[r]=s[a];return r}A&&(ya=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);var va=Ho("animationend"),ba=Ho("animationiteration"),Ms=Ho("animationstart"),yi=Ho("transitionend"),T=new Map,C=new Map,_=["abort","abort",va,"animationEnd",ba,"animationIteration",Ms,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",yi,"transitionEnd","waiting","waiting"];function N(r,a){for(var s=0;s<r.length;s+=2){var p=r[s],g=r[s+1];g="on"+(g[0].toUpperCase()+g.slice(1)),C.set(p,a),T.set(p,g),S(g,[p])}}(0,v.unstable_now)();var B=8;function Q(r){if(1&r)return B=15,1;if(2&r)return B=14,2;if(4&r)return B=13,4;var a=24&r;return a!==0?(B=12,a):32&r?(B=11,32):(a=192&r)!=0?(B=10,a):256&r?(B=9,256):(a=3584&r)!=0?(B=8,a):4096&r?(B=7,4096):(a=4186112&r)!=0?(B=6,a):(a=62914560&r)!=0?(B=5,a):67108864&r?(B=4,67108864):134217728&r?(B=3,134217728):(a=805306368&r)!=0?(B=2,a):1073741824&r?(B=1,1073741824):(B=8,r)}function Z(r,a){var s=r.pendingLanes;if(s===0)return B=0;var p=0,g=0,w=r.expiredLanes,E=r.suspendedLanes,O=r.pingedLanes;if(w!==0)p=w,g=B=15;else if((w=134217727&s)!=0){var R=w&~E;R!==0?(p=Q(R),g=B):(O&=w)!=0&&(p=Q(O),g=B)}else(w=s&~E)!=0?(p=Q(w),g=B):O!==0&&(p=Q(O),g=B);if(p===0)return 0;if(p=s&((0>(p=31-Fe(p))?0:1<<p)<<1)-1,a!==0&&a!==p&&(a&E)==0){if(Q(a),g<=B)return a;B=g}if((a=r.entangledLanes)!==0)for(r=r.entanglements,a&=p;0<a;)g=1<<(s=31-Fe(a)),p|=r[s],a&=~g;return p}function le(r){return(r=-1073741825&r.pendingLanes)!=0?r:1073741824&r?1073741824:0}function J(r,a){switch(r){case 15:return 1;case 14:return 2;case 12:return(r=re(24&~a))===0?J(10,a):r;case 10:return(r=re(192&~a))===0?J(8,a):r;case 8:return(r=re(3584&~a))===0&&(r=re(4186112&~a))===0&&(r=512),r;case 2:return(a=re(805306368&~a))===0&&(a=268435456),a}throw Error(y(358,r))}function re(r){return r&-r}function xe(r){for(var a=[],s=0;31>s;s++)a.push(r);return a}function de(r,a,s){r.pendingLanes|=a;var p=a-1;r.suspendedLanes&=p,r.pingedLanes&=p,(r=r.eventTimes)[a=31-Fe(a)]=s}var Fe=Math.clz32?Math.clz32:function(r){return r===0?32:31-(Pe(r)/Ve|0)|0},Pe=Math.log,Ve=Math.LN2,Qe=v.unstable_UserBlockingPriority,Ue=v.unstable_runWithPriority,nt=!0;function et(r,a,s,p){Yt||Gt();var g=We,w=Yt;Yt=!0;try{Tt(g,r,a,s,p)}finally{(Yt=w)||mr()}}function Xe(r,a,s,p){Ue(Qe,We.bind(null,r,a,s,p))}function We(r,a,s,p){var g;if(nt)if((g=(4&a)==0)&&0<In.length&&-1<ha.indexOf(r))r=ma(null,r,a,s,p),In.push(r);else{var w=Be(r,a,s,p);if(w===null)g&&hi(r,p);else{if(g){if(-1<ha.indexOf(r))return r=ma(w,r,a,s,p),void In.push(r);if(function(E,O,R,F,oe){switch(O){case"focusin":return gr=Fo(gr,E,O,R,F,oe),!0;case"dragenter":return yr=Fo(yr,E,O,R,F,oe),!0;case"mouseover":return vr=Fo(vr,E,O,R,F,oe),!0;case"pointerover":var ke=oe.pointerId;return br.set(ke,Fo(br.get(ke)||null,E,O,R,F,oe)),!0;case"gotpointercapture":return ke=oe.pointerId,ao.set(ke,Fo(ao.get(ke)||null,E,O,R,F,oe)),!0}return!1}(w,r,a,s,p))return;hi(r,p)}vp(r,a,p,null,s)}}}function Be(r,a,s,p){var g=Te(p);if((g=Vo(g))!==null){var w=Br(g);if(w===null)g=null;else{var E=w.tag;if(E===13){if((g=Ps(w))!==null)return g;g=null}else if(E===3){if(w.stateNode.hydrate)return w.tag===3?w.stateNode.containerInfo:null;g=null}else w!==g&&(g=null)}}return vp(r,a,p,g,s),null}var _e=null,qe=null,Me=null;function it(){if(Me)return Me;var r,a,s=qe,p=s.length,g="value"in _e?_e.value:_e.textContent,w=g.length;for(r=0;r<p&&s[r]===g[r];r++);var E=p-r;for(a=1;a<=E&&s[p-a]===g[w-a];a++);return Me=g.slice(r,1<a?1-a:void 0)}function gt(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode)===0&&a===13&&(r=13):r=a,r===10&&(r=13),32<=r||r===13?r:0}function st(){return!0}function Rt(){return!1}function rt(r){function a(s,p,g,w,E){for(var O in this._reactName=s,this._targetInst=g,this.type=p,this.nativeEvent=w,this.target=E,this.currentTarget=null,r)r.hasOwnProperty(O)&&(s=r[O],this[O]=s?s(w):w[O]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?st:Rt,this.isPropagationStopped=Rt,this}return h(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=st)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=st)},persist:function(){},isPersistent:st}),a}var Ut,zt,_t,yt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ht=rt(yt),Ct=h({},yt,{view:0,detail:0}),kt=rt(Ct),Et=h({},Ct,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$r,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==_t&&(_t&&r.type==="mousemove"?(Ut=r.screenX-_t.screenX,zt=r.screenY-_t.screenY):zt=Ut=0,_t=r),Ut)},movementY:function(r){return"movementY"in r?r.movementY:zt}}),It=rt(Et),en=rt(h({},Et,{dataTransfer:0})),mn=rt(h({},Ct,{relatedTarget:0})),ln=rt(h({},yt,{animationName:0,elapsedTime:0,pseudoElement:0})),wr=h({},yt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Oe=rt(wr),zr=rt(h({},yt,{data:0})),vi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bi={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},co={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wi(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):!!(r=co[r])&&!!a[r]}function $r(){return wi}var wa=h({},Ct,{key:function(r){if(r.key){var a=vi[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=gt(r))===13?"Enter":String.fromCharCode(r):r.type==="keydown"||r.type==="keyup"?bi[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$r,charCode:function(r){return r.type==="keypress"?gt(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?gt(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),uo=rt(wa),Fr=rt(h({},Et,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Fn=rt(h({},Ct,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$r})),Ur=rt(h({},yt,{propertyName:0,elapsedTime:0,pseudoElement:0})),qr=h({},Et,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=rt(qr),Bs=[9,13,27,32],Ca=A&&"CompositionEvent"in window,Hr=null;A&&"documentMode"in document&&(Hr=document.documentMode);var zs=A&&"TextEvent"in window&&!Hr,xi=A&&(!Ca||Hr&&8<Hr&&11>=Hr),Ci=String.fromCharCode(32),Ei=!1;function $s(r,a){switch(r){case"keyup":return Bs.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fs(r){return typeof(r=r.detail)=="object"&&"data"in r?r.data:null}var xr=!1,Us={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jf(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!Us[r.type]:a==="textarea"}function ep(r,a,s,p){At(p),0<(a=Vs(a,"onChange")).length&&(s=new ht("onChange","change",null,s,p),r.push({event:s,listeners:a}))}var qs=null,Si=null;function ew(r){pp(r,0)}function Hs(r){if(wn(Ri(r)))return r}function tw(r,a){if(r==="change")return a}var tp=!1;if(A){var Bc;if(A){var zc="oninput"in document;if(!zc){var np=document.createElement("div");np.setAttribute("oninput","return;"),zc=typeof np.oninput=="function"}Bc=zc}else Bc=!1;tp=Bc&&(!document.documentMode||9<document.documentMode)}function rp(){qs&&(qs.detachEvent("onpropertychange",op),Si=qs=null)}function op(r){if(r.propertyName==="value"&&Hs(Si)){var a=[];if(ep(a,Si,r,Te(r)),r=ew,Yt)r(a);else{Yt=!0;try{Nt(r,a)}finally{Yt=!1,mr()}}}}function nw(r,a,s){r==="focusin"?(rp(),Si=s,(qs=a).attachEvent("onpropertychange",op)):r==="focusout"&&rp()}function rw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Hs(Si)}function ow(r,a){if(r==="click")return Hs(a)}function aw(r,a){if(r==="input"||r==="change")return Hs(a)}var Un=typeof Object.is=="function"?Object.is:function(r,a){return r===a&&(r!==0||1/r==1/a)||r!=r&&a!=a},iw=Object.prototype.hasOwnProperty;function Ti(r,a){if(Un(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var s=Object.keys(r),p=Object.keys(a);if(s.length!==p.length)return!1;for(p=0;p<s.length;p++)if(!iw.call(a,s[p])||!Un(r[s[p]],a[s[p]]))return!1;return!0}function ap(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function ip(r,a){var s,p=ap(r);for(r=0;p;){if(p.nodeType===3){if(s=r+p.textContent.length,r<=a&&s>=a)return{node:p,offset:a-r};r=s}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=ap(p)}}function sp(r,a){return!(!r||!a)&&(r===a||(!r||r.nodeType!==3)&&(a&&a.nodeType===3?sp(r,a.parentNode):"contains"in r?r.contains(a):!!r.compareDocumentPosition&&!!(16&r.compareDocumentPosition(a))))}function lp(){for(var r=window,a=rn();a instanceof r.HTMLIFrameElement;){try{var s=typeof a.contentWindow.location.href=="string"}catch{s=!1}if(!s)break;a=rn((r=a.contentWindow).document)}return a}function $c(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var sw=A&&"documentMode"in document&&11>=document.documentMode,Ea=null,Fc=null,_i=null,Uc=!1;function cp(r,a,s){var p=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Uc||Ea==null||Ea!==rn(p)||(p="selectionStart"in(p=Ea)&&$c(p)?{start:p.selectionStart,end:p.selectionEnd}:{anchorNode:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset},_i&&Ti(_i,p)||(_i=p,0<(p=Vs(Fc,"onSelect")).length&&(a=new ht("onSelect","select",null,a,s),r.push({event:a,listeners:p}),a.target=Ea)))}N("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),N("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),N(_,2);for(var up="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),qc=0;qc<up.length;qc++)C.set(up[qc],0);k("onMouseEnter",["mouseout","mouseover"]),k("onMouseLeave",["mouseout","mouseover"]),k("onPointerEnter",["pointerout","pointerover"]),k("onPointerLeave",["pointerout","pointerover"]),S("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),S("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),S("onBeforeInput",["compositionend","keypress","textInput","paste"]),S("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),S("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dp=new Set("cancel close invalid load scroll toggle".split(" ").concat(ki));function fp(r,a,s){var p=r.type||"unknown-event";r.currentTarget=s,function(g,w,E,O,R,F,oe,ke,he){if(Mc.apply(this,arguments),sn){if(!sn)throw Error(y(198));var Ie=En;sn=!1,En=null,oo||(oo=!0,di=Ie)}}(p,a,void 0,r),r.currentTarget=null}function pp(r,a){a=(4&a)!=0;for(var s=0;s<r.length;s++){var p=r[s],g=p.event;p=p.listeners;e:{var w=void 0;if(a)for(var E=p.length-1;0<=E;E--){var O=p[E],R=O.instance,F=O.currentTarget;if(O=O.listener,R!==w&&g.isPropagationStopped())break e;fp(g,O,F),w=R}else for(E=0;E<p.length;E++){if(R=(O=p[E]).instance,F=O.currentTarget,O=O.listener,R!==w&&g.isPropagationStopped())break e;fp(g,O,F),w=R}}}if(oo)throw r=di,oo=!1,di=null,r}function Lt(r,a){var s=Sp(a),p=r+"__bubble";s.has(p)||(yp(a,r,2,!1),s.add(p))}var hp="_reactListening"+Math.random().toString(36).slice(2);function mp(r){r[hp]||(r[hp]=!0,b.forEach(function(a){dp.has(a)||gp(a,!1,r,null),gp(a,!0,r,null)}))}function gp(r,a,s,p){var g=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,w=s;if(r==="selectionchange"&&s.nodeType!==9&&(w=s.ownerDocument),p!==null&&!a&&dp.has(r)){if(r!=="scroll")return;g|=2,w=p}var E=Sp(w),O=r+"__"+(a?"capture":"bubble");E.has(O)||(a&&(g|=4),yp(w,r,g,a),E.add(O))}function yp(r,a,s,p){var g=C.get(a);switch(g===void 0?2:g){case 0:g=et;break;case 1:g=Xe;break;default:g=We}s=g.bind(null,a,s,r),g=void 0,!or||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),p?g!==void 0?r.addEventListener(a,s,{capture:!0,passive:g}):r.addEventListener(a,s,!0):g!==void 0?r.addEventListener(a,s,{passive:g}):r.addEventListener(a,s,!1)}function vp(r,a,s,p,g){var w=p;if(!(1&a)&&!(2&a)&&p!==null)e:for(;;){if(p===null)return;var E=p.tag;if(E===3||E===4){var O=p.stateNode.containerInfo;if(O===g||O.nodeType===8&&O.parentNode===g)break;if(E===4)for(E=p.return;E!==null;){var R=E.tag;if((R===3||R===4)&&((R=E.stateNode.containerInfo)===g||R.nodeType===8&&R.parentNode===g))return;E=E.return}for(;O!==null;){if((E=Vo(O))===null)return;if((R=E.tag)===5||R===6){p=w=E;continue e}O=O.parentNode}}p=p.return}(function(F,oe,ke){if(an)return F();an=!0;try{wt(F,oe,ke)}finally{an=!1,mr()}})(function(){var F=w,oe=Te(s),ke=[];e:{var he=T.get(r);if(he!==void 0){var Ie=ht,Ye=r;switch(r){case"keypress":if(gt(s)===0)break e;case"keydown":case"keyup":Ie=uo;break;case"focusin":Ye="focus",Ie=mn;break;case"focusout":Ye="blur",Ie=mn;break;case"beforeblur":case"afterblur":Ie=mn;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ie=It;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ie=en;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ie=Fn;break;case va:case ba:case Ms:Ie=ln;break;case yi:Ie=Ur;break;case"scroll":Ie=kt;break;case"wheel":Ie=xa;break;case"copy":case"cut":case"paste":Ie=Oe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ie=Fr}var Ze=(4&a)!=0,V=!Ze&&r==="scroll",$=Ze?he!==null?he+"Capture":null:he;Ze=[];for(var H,ce=F;ce!==null;){var pe=(H=ce).stateNode;if(H.tag===5&&pe!==null&&(H=pe,$!==null&&(pe=An(ce,$))!=null&&Ze.push(Oi(ce,pe,H))),V)break;ce=ce.return}0<Ze.length&&(he=new Ie(he,Ye,null,s,oe),ke.push({event:he,listeners:Ze}))}}if(!(7&a)){if(Ie=r==="mouseout"||r==="pointerout",(!(he=r==="mouseover"||r==="pointerover")||(16&a)!=0||!(Ye=s.relatedTarget||s.fromElement)||!Vo(Ye)&&!Ye[_a])&&(Ie||he)&&(he=oe.window===oe?oe:(he=oe.ownerDocument)?he.defaultView||he.parentWindow:window,Ie?(Ie=F,(Ye=(Ye=s.relatedTarget||s.toElement)?Vo(Ye):null)!==null&&(Ye!==(V=Br(Ye))||Ye.tag!==5&&Ye.tag!==6)&&(Ye=null)):(Ie=null,Ye=F),Ie!==Ye)){if(Ze=It,pe="onMouseLeave",$="onMouseEnter",ce="mouse",r!=="pointerout"&&r!=="pointerover"||(Ze=Fr,pe="onPointerLeave",$="onPointerEnter",ce="pointer"),V=Ie==null?he:Ri(Ie),H=Ye==null?he:Ri(Ye),(he=new Ze(pe,ce+"leave",Ie,s,oe)).target=V,he.relatedTarget=H,pe=null,Vo(oe)===F&&((Ze=new Ze($,ce+"enter",Ye,s,oe)).target=H,Ze.relatedTarget=V,pe=Ze),V=pe,Ie&&Ye)e:{for($=Ye,ce=0,H=Ze=Ie;H;H=Sa(H))ce++;for(H=0,pe=$;pe;pe=Sa(pe))H++;for(;0<ce-H;)Ze=Sa(Ze),ce--;for(;0<H-ce;)$=Sa($),H--;for(;ce--;){if(Ze===$||$!==null&&Ze===$.alternate)break e;Ze=Sa(Ze),$=Sa($)}Ze=null}else Ze=null;Ie!==null&&bp(ke,he,Ie,Ze,!1),Ye!==null&&V!==null&&bp(ke,V,Ye,Ze,!0)}if((Ie=(he=F?Ri(F):window).nodeName&&he.nodeName.toLowerCase())==="select"||Ie==="input"&&he.type==="file")var tt=tw;else if(Jf(he))if(tp)tt=aw;else{tt=rw;var Ne=nw}else(Ie=he.nodeName)&&Ie.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(tt=ow);switch(tt&&(tt=tt(r,F))?ep(ke,tt,s,oe):(Ne&&Ne(r,he,F),r==="focusout"&&(Ne=he._wrapperState)&&Ne.controlled&&he.type==="number"&&nr(he,"number",he.value)),Ne=F?Ri(F):window,r){case"focusin":(Jf(Ne)||Ne.contentEditable==="true")&&(Ea=Ne,Fc=F,_i=null);break;case"focusout":_i=Fc=Ea=null;break;case"mousedown":Uc=!0;break;case"contextmenu":case"mouseup":case"dragend":Uc=!1,cp(ke,s,oe);break;case"selectionchange":if(sw)break;case"keydown":case"keyup":cp(ke,s,oe)}var ct;if(Ca)e:{switch(r){case"compositionstart":var bt="onCompositionStart";break e;case"compositionend":bt="onCompositionEnd";break e;case"compositionupdate":bt="onCompositionUpdate";break e}bt=void 0}else xr?$s(r,s)&&(bt="onCompositionEnd"):r==="keydown"&&s.keyCode===229&&(bt="onCompositionStart");bt&&(xi&&s.locale!=="ko"&&(xr||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&xr&&(ct=it()):(qe="value"in(_e=oe)?_e.value:_e.textContent,xr=!0)),0<(Ne=Vs(F,bt)).length&&(bt=new zr(bt,r,null,s,oe),ke.push({event:bt,listeners:Ne}),(ct||(ct=Fs(s))!==null)&&(bt.data=ct))),(ct=zs?function(Ge,jt){switch(Ge){case"compositionend":return Fs(jt);case"keypress":return jt.which!==32?null:(Ei=!0,Ci);case"textInput":return(Ge=jt.data)===Ci&&Ei?null:Ge;default:return null}}(r,s):function(Ge,jt){if(xr)return Ge==="compositionend"||!Ca&&$s(Ge,jt)?(Ge=it(),Me=qe=_e=null,xr=!1,Ge):null;switch(Ge){case"paste":default:return null;case"keypress":if(!(jt.ctrlKey||jt.altKey||jt.metaKey)||jt.ctrlKey&&jt.altKey){if(jt.char&&1<jt.char.length)return jt.char;if(jt.which)return String.fromCharCode(jt.which)}return null;case"compositionend":return xi&&jt.locale!=="ko"?null:jt.data}}(r,s))&&0<(F=Vs(F,"onBeforeInput")).length&&(oe=new zr("onBeforeInput","beforeinput",null,s,oe),ke.push({event:oe,listeners:F}),oe.data=ct)}pp(ke,a)})}function Oi(r,a,s){return{instance:r,listener:a,currentTarget:s}}function Vs(r,a){for(var s=a+"Capture",p=[];r!==null;){var g=r,w=g.stateNode;g.tag===5&&w!==null&&(g=w,(w=An(r,s))!=null&&p.unshift(Oi(r,w,g)),(w=An(r,a))!=null&&p.push(Oi(r,w,g))),r=r.return}return p}function Sa(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function bp(r,a,s,p,g){for(var w=a._reactName,E=[];s!==null&&s!==p;){var O=s,R=O.alternate,F=O.stateNode;if(R!==null&&R===p)break;O.tag===5&&F!==null&&(O=F,g?(R=An(s,w))!=null&&E.unshift(Oi(s,R,O)):g||(R=An(s,w))!=null&&E.push(Oi(s,R,O))),s=s.return}E.length!==0&&r.push({event:a,listeners:E})}function Xs(){}var Hc=null,Vc=null;function wp(r,a){switch(r){case"button":case"input":case"select":case"textarea":return!!a.autoFocus}return!1}function Xc(r,a){return r==="textarea"||r==="option"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var xp=typeof setTimeout=="function"?setTimeout:void 0,lw=typeof clearTimeout=="function"?clearTimeout:void 0;function Wc(r){(r.nodeType===1||r.nodeType===9&&(r=r.body)!=null)&&(r.textContent="")}function Ta(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break}return r}function Cp(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var s=r.data;if(s==="$"||s==="$!"||s==="$?"){if(a===0)return r;a--}else s==="/$"&&a++}r=r.previousSibling}return null}var Qc=0,Ws=Math.random().toString(36).slice(2),fo="__reactFiber$"+Ws,Qs="__reactProps$"+Ws,_a="__reactContainer$"+Ws,Ep="__reactEvents$"+Ws;function Vo(r){var a=r[fo];if(a)return a;for(var s=r.parentNode;s;){if(a=s[_a]||s[fo]){if(s=a.alternate,a.child!==null||s!==null&&s.child!==null)for(r=Cp(r);r!==null;){if(s=r[fo])return s;r=Cp(r)}return a}s=(r=s).parentNode}return null}function Ks(r){return!(r=r[fo]||r[_a])||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ri(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(y(33))}function Kc(r){return r[Qs]||null}function Sp(r){var a=r[Ep];return a===void 0&&(a=r[Ep]=new Set),a}var Gc=[],ka=-1;function po(r){return{current:r}}function $t(r){0>ka||(r.current=Gc[ka],Gc[ka]=null,ka--)}function Ft(r,a){ka++,Gc[ka]=r.current,r.current=a}var ho={},cn=po(ho),Sn=po(!1),Xo=ho;function Oa(r,a){var s=r.type.contextTypes;if(!s)return ho;var p=r.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var g,w={};for(g in s)w[g]=a[g];return p&&((r=r.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=w),w}function jn(r){return r.childContextTypes!=null}function Yc(){$t(Sn),$t(cn)}function Tp(r,a,s){if(cn.current!==ho)throw Error(y(168));Ft(cn,a),Ft(Sn,s)}function _p(r,a,s){var p=r.stateNode;if(r=a.childContextTypes,typeof p.getChildContext!="function")return s;for(var g in p=p.getChildContext())if(!(g in r))throw Error(y(108,xt(a)||"Unknown",g));return h({},s,p)}function Gs(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ho,Xo=cn.current,Ft(cn,r),Ft(Sn,Sn.current),!0}function kp(r,a,s){var p=r.stateNode;if(!p)throw Error(y(169));s?(r=_p(r,a,Xo),p.__reactInternalMemoizedMergedChildContext=r,$t(Sn),$t(cn),Ft(cn,r)):$t(Sn),Ft(Sn,s)}var Zc=null,Wo=null,cw=v.unstable_runWithPriority,Jc=v.unstable_scheduleCallback,eu=v.unstable_cancelCallback,uw=v.unstable_shouldYield,Op=v.unstable_requestPaint,tu=v.unstable_now,dw=v.unstable_getCurrentPriorityLevel,Ys=v.unstable_ImmediatePriority,Rp=v.unstable_UserBlockingPriority,Ap=v.unstable_NormalPriority,Ip=v.unstable_LowPriority,jp=v.unstable_IdlePriority,nu={},fw=Op!==void 0?Op:function(){},Vr=null,Zs=null,ru=!1,Pp=tu(),un=1e4>Pp?tu:function(){return tu()-Pp};function Ra(){switch(dw()){case Ys:return 99;case Rp:return 98;case Ap:return 97;case Ip:return 96;case jp:return 95;default:throw Error(y(332))}}function Np(r){switch(r){case 99:return Ys;case 98:return Rp;case 97:return Ap;case 96:return Ip;case 95:return jp;default:throw Error(y(332))}}function Aa(r,a){return r=Np(r),cw(r,a)}function Ai(r,a,s){return r=Np(r),Jc(r,a,s)}function Xr(){if(Zs!==null){var r=Zs;Zs=null,eu(r)}Lp()}function Lp(){if(!ru&&Vr!==null){ru=!0;var r=0;try{var a=Vr;Aa(99,function(){for(;r<a.length;r++){var s=a[r];do s=s(!0);while(s!==null)}}),Vr=null}catch(s){throw Vr!==null&&(Vr=Vr.slice(r+1)),Jc(Ys,Xr),s}finally{ru=!1}}}var pw=me.ReactCurrentBatchConfig;function ar(r,a){if(r&&r.defaultProps){for(var s in a=h({},a),r=r.defaultProps)a[s]===void 0&&(a[s]=r[s]);return a}return a}var Js=po(null),el=null,Ia=null,tl=null;function ou(){tl=Ia=el=null}function au(r){var a=Js.current;$t(Js),r.type._context._currentValue=a}function Dp(r,a){for(;r!==null;){var s=r.alternate;if((r.childLanes&a)===a){if(s===null||(s.childLanes&a)===a)break;s.childLanes|=a}else r.childLanes|=a,s!==null&&(s.childLanes|=a);r=r.return}}function ja(r,a){el=r,tl=Ia=null,(r=r.dependencies)!==null&&r.firstContext!==null&&(r.lanes&a&&(ir=!0),r.firstContext=null)}function qn(r,a){if(tl!==r&&a!==!1&&a!==0)if(typeof a=="number"&&a!==1073741823||(tl=r,a=1073741823),a={context:r,observedBits:a,next:null},Ia===null){if(el===null)throw Error(y(308));Ia=a,el.dependencies={lanes:0,firstContext:a,responders:null}}else Ia=Ia.next=a;return r._currentValue}var mo=!1;function iu(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function Mp(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function go(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function yo(r,a){if((r=r.updateQueue)!==null){var s=(r=r.shared).pending;s===null?a.next=a:(a.next=s.next,s.next=a),r.pending=a}}function Bp(r,a){var s=r.updateQueue,p=r.alternate;if(p!==null&&s===(p=p.updateQueue)){var g=null,w=null;if((s=s.firstBaseUpdate)!==null){do{var E={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};w===null?g=w=E:w=w.next=E,s=s.next}while(s!==null);w===null?g=w=a:w=w.next=a}else g=w=a;return s={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:p.shared,effects:p.effects},void(r.updateQueue=s)}(r=s.lastBaseUpdate)===null?s.firstBaseUpdate=a:r.next=a,s.lastBaseUpdate=a}function Ii(r,a,s,p){var g=r.updateQueue;mo=!1;var w=g.firstBaseUpdate,E=g.lastBaseUpdate,O=g.shared.pending;if(O!==null){g.shared.pending=null;var R=O,F=R.next;R.next=null,E===null?w=F:E.next=F,E=R;var oe=r.alternate;if(oe!==null){var ke=(oe=oe.updateQueue).lastBaseUpdate;ke!==E&&(ke===null?oe.firstBaseUpdate=F:ke.next=F,oe.lastBaseUpdate=R)}}if(w!==null){for(ke=g.baseState,E=0,oe=F=R=null;;){O=w.lane;var he=w.eventTime;if((p&O)===O){oe!==null&&(oe=oe.next={eventTime:he,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var Ie=r,Ye=w;switch(O=a,he=s,Ye.tag){case 1:if(typeof(Ie=Ye.payload)=="function"){ke=Ie.call(he,ke,O);break e}ke=Ie;break e;case 3:Ie.flags=-4097&Ie.flags|64;case 0:if((O=typeof(Ie=Ye.payload)=="function"?Ie.call(he,ke,O):Ie)==null)break e;ke=h({},ke,O);break e;case 2:mo=!0}}w.callback!==null&&(r.flags|=32,(O=g.effects)===null?g.effects=[w]:O.push(w))}else he={eventTime:he,lane:O,tag:w.tag,payload:w.payload,callback:w.callback,next:null},oe===null?(F=oe=he,R=ke):oe=oe.next=he,E|=O;if((w=w.next)===null){if((O=g.shared.pending)===null)break;w=O.next,O.next=null,g.lastBaseUpdate=O,g.shared.pending=null}}oe===null&&(R=ke),g.baseState=R,g.firstBaseUpdate=F,g.lastBaseUpdate=oe,qi|=E,r.lanes=E,r.memoizedState=ke}}function zp(r,a,s){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var p=r[a],g=p.callback;if(g!==null){if(p.callback=null,p=s,typeof g!="function")throw Error(y(191,g));g.call(p)}}}var $p=new m.Component().refs;function nl(r,a,s,p){s=(s=s(p,a=r.memoizedState))==null?a:h({},a,s),r.memoizedState=s,r.lanes===0&&(r.updateQueue.baseState=s)}var rl={isMounted:function(r){return!!(r=r._reactInternals)&&Br(r)===r},enqueueSetState:function(r,a,s){r=r._reactInternals;var p=Nn(),g=xo(r),w=go(p,g);w.payload=a,s!=null&&(w.callback=s),yo(r,w),Co(r,g,p)},enqueueReplaceState:function(r,a,s){r=r._reactInternals;var p=Nn(),g=xo(r),w=go(p,g);w.tag=1,w.payload=a,s!=null&&(w.callback=s),yo(r,w),Co(r,g,p)},enqueueForceUpdate:function(r,a){r=r._reactInternals;var s=Nn(),p=xo(r),g=go(s,p);g.tag=2,a!=null&&(g.callback=a),yo(r,g),Co(r,p,s)}};function Fp(r,a,s,p,g,w,E){return typeof(r=r.stateNode).shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,w,E):!(a.prototype&&a.prototype.isPureReactComponent&&Ti(s,p)&&Ti(g,w))}function Up(r,a,s){var p=!1,g=ho,w=a.contextType;return typeof w=="object"&&w!==null?w=qn(w):(g=jn(a)?Xo:cn.current,w=(p=(p=a.contextTypes)!=null)?Oa(r,g):ho),a=new a(s,w),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=rl,r.stateNode=a,a._reactInternals=r,p&&((r=r.stateNode).__reactInternalMemoizedUnmaskedChildContext=g,r.__reactInternalMemoizedMaskedChildContext=w),a}function qp(r,a,s,p){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(s,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(s,p),a.state!==r&&rl.enqueueReplaceState(a,a.state,null)}function su(r,a,s,p){var g=r.stateNode;g.props=s,g.state=r.memoizedState,g.refs=$p,iu(r);var w=a.contextType;typeof w=="object"&&w!==null?g.context=qn(w):(w=jn(a)?Xo:cn.current,g.context=Oa(r,w)),Ii(r,s,g,p),g.state=r.memoizedState,typeof(w=a.getDerivedStateFromProps)=="function"&&(nl(r,a,w,s),g.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&rl.enqueueReplaceState(g,g.state,null),Ii(r,s,g,p),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4)}var ol=Array.isArray;function ji(r,a,s){if((r=s.ref)!==null&&typeof r!="function"&&typeof r!="object"){if(s._owner){if(s=s._owner){if(s.tag!==1)throw Error(y(309));var p=s.stateNode}if(!p)throw Error(y(147,r));var g=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===g?a.ref:(a=function(w){var E=p.refs;E===$p&&(E=p.refs={}),w===null?delete E[g]:E[g]=w},a._stringRef=g,a)}if(typeof r!="string")throw Error(y(284));if(!s._owner)throw Error(y(290,r))}return r}function al(r,a){if(r.type!=="textarea")throw Error(y(31,Object.prototype.toString.call(a)==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":a))}function Hp(r){function a(V,$){if(r){var H=V.lastEffect;H!==null?(H.nextEffect=$,V.lastEffect=$):V.firstEffect=V.lastEffect=$,$.nextEffect=null,$.flags=8}}function s(V,$){if(!r)return null;for(;$!==null;)a(V,$),$=$.sibling;return null}function p(V,$){for(V=new Map;$!==null;)$.key!==null?V.set($.key,$):V.set($.index,$),$=$.sibling;return V}function g(V,$){return(V=So(V,$)).index=0,V.sibling=null,V}function w(V,$,H){return V.index=H,r?(H=V.alternate)!==null?(H=H.index)<$?(V.flags=2,$):H:(V.flags=2,$):$}function E(V){return r&&V.alternate===null&&(V.flags=2),V}function O(V,$,H,ce){return $===null||$.tag!==6?(($=Uu(H,V.mode,ce)).return=V,$):(($=g($,H)).return=V,$)}function R(V,$,H,ce){return $!==null&&$.elementType===H.type?((ce=g($,H.props)).ref=ji(V,$,H),ce.return=V,ce):((ce=Cl(H.type,H.key,H.props,null,V.mode,ce)).ref=ji(V,$,H),ce.return=V,ce)}function F(V,$,H,ce){return $===null||$.tag!==4||$.stateNode.containerInfo!==H.containerInfo||$.stateNode.implementation!==H.implementation?(($=qu(H,V.mode,ce)).return=V,$):(($=g($,H.children||[])).return=V,$)}function oe(V,$,H,ce,pe){return $===null||$.tag!==7?(($=Fa(H,V.mode,ce,pe)).return=V,$):(($=g($,H)).return=V,$)}function ke(V,$,H){if(typeof $=="string"||typeof $=="number")return($=Uu(""+$,V.mode,H)).return=V,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case ge:return(H=Cl($.type,$.key,$.props,null,V.mode,H)).ref=ji(V,null,$),H.return=V,H;case ye:return($=qu($,V.mode,H)).return=V,$}if(ol($)||Ee($))return($=Fa($,V.mode,H,null)).return=V,$;al(V,$)}return null}function he(V,$,H,ce){var pe=$!==null?$.key:null;if(typeof H=="string"||typeof H=="number")return pe!==null?null:O(V,$,""+H,ce);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ge:return H.key===pe?H.type===Y?oe(V,$,H.props.children,ce,pe):R(V,$,H,ce):null;case ye:return H.key===pe?F(V,$,H,ce):null}if(ol(H)||Ee(H))return pe!==null?null:oe(V,$,H,ce,null);al(V,H)}return null}function Ie(V,$,H,ce,pe){if(typeof ce=="string"||typeof ce=="number")return O($,V=V.get(H)||null,""+ce,pe);if(typeof ce=="object"&&ce!==null){switch(ce.$$typeof){case ge:return V=V.get(ce.key===null?H:ce.key)||null,ce.type===Y?oe($,V,ce.props.children,pe,ce.key):R($,V,ce,pe);case ye:return F($,V=V.get(ce.key===null?H:ce.key)||null,ce,pe)}if(ol(ce)||Ee(ce))return oe($,V=V.get(H)||null,ce,pe,null);al($,ce)}return null}function Ye(V,$,H,ce){for(var pe=null,tt=null,Ne=$,ct=$=0,bt=null;Ne!==null&&ct<H.length;ct++){Ne.index>ct?(bt=Ne,Ne=null):bt=Ne.sibling;var Ge=he(V,Ne,H[ct],ce);if(Ge===null){Ne===null&&(Ne=bt);break}r&&Ne&&Ge.alternate===null&&a(V,Ne),$=w(Ge,$,ct),tt===null?pe=Ge:tt.sibling=Ge,tt=Ge,Ne=bt}if(ct===H.length)return s(V,Ne),pe;if(Ne===null){for(;ct<H.length;ct++)(Ne=ke(V,H[ct],ce))!==null&&($=w(Ne,$,ct),tt===null?pe=Ne:tt.sibling=Ne,tt=Ne);return pe}for(Ne=p(V,Ne);ct<H.length;ct++)(bt=Ie(Ne,V,ct,H[ct],ce))!==null&&(r&&bt.alternate!==null&&Ne.delete(bt.key===null?ct:bt.key),$=w(bt,$,ct),tt===null?pe=bt:tt.sibling=bt,tt=bt);return r&&Ne.forEach(function(jt){return a(V,jt)}),pe}function Ze(V,$,H,ce){var pe=Ee(H);if(typeof pe!="function")throw Error(y(150));if((H=pe.call(H))==null)throw Error(y(151));for(var tt=pe=null,Ne=$,ct=$=0,bt=null,Ge=H.next();Ne!==null&&!Ge.done;ct++,Ge=H.next()){Ne.index>ct?(bt=Ne,Ne=null):bt=Ne.sibling;var jt=he(V,Ne,Ge.value,ce);if(jt===null){Ne===null&&(Ne=bt);break}r&&Ne&&jt.alternate===null&&a(V,Ne),$=w(jt,$,ct),tt===null?pe=jt:tt.sibling=jt,tt=jt,Ne=bt}if(Ge.done)return s(V,Ne),pe;if(Ne===null){for(;!Ge.done;ct++,Ge=H.next())(Ge=ke(V,Ge.value,ce))!==null&&($=w(Ge,$,ct),tt===null?pe=Ge:tt.sibling=Ge,tt=Ge);return pe}for(Ne=p(V,Ne);!Ge.done;ct++,Ge=H.next())(Ge=Ie(Ne,V,ct,Ge.value,ce))!==null&&(r&&Ge.alternate!==null&&Ne.delete(Ge.key===null?ct:Ge.key),$=w(Ge,$,ct),tt===null?pe=Ge:tt.sibling=Ge,tt=Ge);return r&&Ne.forEach(function(Bw){return a(V,Bw)}),pe}return function(V,$,H,ce){var pe=typeof H=="object"&&H!==null&&H.type===Y&&H.key===null;pe&&(H=H.props.children);var tt=typeof H=="object"&&H!==null;if(tt)switch(H.$$typeof){case ge:e:{for(tt=H.key,pe=$;pe!==null;){if(pe.key===tt){if(pe.tag===7){if(H.type===Y){s(V,pe.sibling),($=g(pe,H.props.children)).return=V,V=$;break e}}else if(pe.elementType===H.type){s(V,pe.sibling),($=g(pe,H.props)).ref=ji(V,pe,H),$.return=V,V=$;break e}s(V,pe);break}a(V,pe),pe=pe.sibling}H.type===Y?(($=Fa(H.props.children,V.mode,ce,H.key)).return=V,V=$):((ce=Cl(H.type,H.key,H.props,null,V.mode,ce)).ref=ji(V,$,H),ce.return=V,V=ce)}return E(V);case ye:e:{for(pe=H.key;$!==null;){if($.key===pe){if($.tag===4&&$.stateNode.containerInfo===H.containerInfo&&$.stateNode.implementation===H.implementation){s(V,$.sibling),($=g($,H.children||[])).return=V,V=$;break e}s(V,$);break}a(V,$),$=$.sibling}($=qu(H,V.mode,ce)).return=V,V=$}return E(V)}if(typeof H=="string"||typeof H=="number")return H=""+H,$!==null&&$.tag===6?(s(V,$.sibling),($=g($,H)).return=V,V=$):(s(V,$),($=Uu(H,V.mode,ce)).return=V,V=$),E(V);if(ol(H))return Ye(V,$,H,ce);if(Ee(H))return Ze(V,$,H,ce);if(tt&&al(V,H),H===void 0&&!pe)switch(V.tag){case 1:case 22:case 0:case 11:case 15:throw Error(y(152,xt(V.type)||"Component"))}return s(V,$)}}var il=Hp(!0),Vp=Hp(!1),Pi={},Cr=po(Pi),Ni=po(Pi),Li=po(Pi);function Qo(r){if(r===Pi)throw Error(y(174));return r}function lu(r,a){switch(Ft(Li,a),Ft(Ni,r),Ft(Cr,Pi),r=a.nodeType){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Rn(null,"");break;default:a=Rn(a=(r=r===8?a.parentNode:a).namespaceURI||null,r=r.tagName)}$t(Cr),Ft(Cr,a)}function Pa(){$t(Cr),$t(Ni),$t(Li)}function Xp(r){Qo(Li.current);var a=Qo(Cr.current),s=Rn(a,r.type);a!==s&&(Ft(Ni,r),Ft(Cr,s))}function cu(r){Ni.current===r&&($t(Cr),$t(Ni))}var qt=po(0);function sl(r){for(var a=r;a!==null;){if(a.tag===13){var s=a.memoizedState;if(s!==null&&((s=s.dehydrated)===null||s.data==="$?"||s.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(64&a.flags)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Wr=null,vo=null,Er=!1;function Wp(r,a){var s=Xn(5,null,null,0);s.elementType="DELETED",s.type="DELETED",s.stateNode=a,s.return=r,s.flags=8,r.lastEffect!==null?(r.lastEffect.nextEffect=s,r.lastEffect=s):r.firstEffect=r.lastEffect=s}function Qp(r,a){switch(r.tag){case 5:var s=r.type;return(a=a.nodeType!==1||s.toLowerCase()!==a.nodeName.toLowerCase()?null:a)!==null&&(r.stateNode=a,!0);case 6:return(a=r.pendingProps===""||a.nodeType!==3?null:a)!==null&&(r.stateNode=a,!0);default:return!1}}function uu(r){if(Er){var a=vo;if(a){var s=a;if(!Qp(r,a)){if(!(a=Ta(s.nextSibling))||!Qp(r,a))return r.flags=-1025&r.flags|2,Er=!1,void(Wr=r);Wp(Wr,s)}Wr=r,vo=Ta(a.firstChild)}else r.flags=-1025&r.flags|2,Er=!1,Wr=r}}function Kp(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Wr=r}function ll(r){if(r!==Wr)return!1;if(!Er)return Kp(r),Er=!0,!1;var a=r.type;if(r.tag!==5||a!=="head"&&a!=="body"&&!Xc(a,r.memoizedProps))for(a=vo;a;)Wp(r,a),a=Ta(a.nextSibling);if(Kp(r),r.tag===13){if(!(r=(r=r.memoizedState)!==null?r.dehydrated:null))throw Error(y(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var s=r.data;if(s==="/$"){if(a===0){vo=Ta(r.nextSibling);break e}a--}else s!=="$"&&s!=="$!"&&s!=="$?"||a++}r=r.nextSibling}vo=null}}else vo=Wr?Ta(r.stateNode.nextSibling):null;return!0}function du(){vo=Wr=null,Er=!1}var Na=[];function fu(){for(var r=0;r<Na.length;r++)Na[r]._workInProgressVersionPrimary=null;Na.length=0}var Di=me.ReactCurrentDispatcher,Hn=me.ReactCurrentBatchConfig,Mi=0,Ht=null,gn=null,tn=null,cl=!1,Bi=!1;function Tn(){throw Error(y(321))}function pu(r,a){if(a===null)return!1;for(var s=0;s<a.length&&s<r.length;s++)if(!Un(r[s],a[s]))return!1;return!0}function hu(r,a,s,p,g,w){if(Mi=w,Ht=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Di.current=r===null||r.memoizedState===null?mw:gw,r=s(p,g),Bi){w=0;do{if(Bi=!1,!(25>w))throw Error(y(301));w+=1,tn=gn=null,a.updateQueue=null,Di.current=yw,r=s(p,g)}while(Bi)}if(Di.current=pl,a=gn!==null&&gn.next!==null,Mi=0,tn=gn=Ht=null,cl=!1,a)throw Error(y(300));return r}function Ko(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Ht.memoizedState=tn=r:tn=tn.next=r,tn}function Go(){if(gn===null){var r=Ht.alternate;r=r!==null?r.memoizedState:null}else r=gn.next;var a=tn===null?Ht.memoizedState:tn.next;if(a!==null)tn=a,gn=r;else{if(r===null)throw Error(y(310));r={memoizedState:(gn=r).memoizedState,baseState:gn.baseState,baseQueue:gn.baseQueue,queue:gn.queue,next:null},tn===null?Ht.memoizedState=tn=r:tn=tn.next=r}return tn}function Sr(r,a){return typeof a=="function"?a(r):a}function zi(r){var a=Go(),s=a.queue;if(s===null)throw Error(y(311));s.lastRenderedReducer=r;var p=gn,g=p.baseQueue,w=s.pending;if(w!==null){if(g!==null){var E=g.next;g.next=w.next,w.next=E}p.baseQueue=g=w,s.pending=null}if(g!==null){g=g.next,p=p.baseState;var O=E=w=null,R=g;do{var F=R.lane;if((Mi&F)===F)O!==null&&(O=O.next={lane:0,action:R.action,eagerReducer:R.eagerReducer,eagerState:R.eagerState,next:null}),p=R.eagerReducer===r?R.eagerState:r(p,R.action);else{var oe={lane:F,action:R.action,eagerReducer:R.eagerReducer,eagerState:R.eagerState,next:null};O===null?(E=O=oe,w=p):O=O.next=oe,Ht.lanes|=F,qi|=F}R=R.next}while(R!==null&&R!==g);O===null?w=p:O.next=E,Un(p,a.memoizedState)||(ir=!0),a.memoizedState=p,a.baseState=w,a.baseQueue=O,s.lastRenderedState=p}return[a.memoizedState,s.dispatch]}function $i(r){var a=Go(),s=a.queue;if(s===null)throw Error(y(311));s.lastRenderedReducer=r;var p=s.dispatch,g=s.pending,w=a.memoizedState;if(g!==null){s.pending=null;var E=g=g.next;do w=r(w,E.action),E=E.next;while(E!==g);Un(w,a.memoizedState)||(ir=!0),a.memoizedState=w,a.baseQueue===null&&(a.baseState=w),s.lastRenderedState=w}return[w,p]}function Gp(r,a,s){var p=a._getVersion;p=p(a._source);var g=a._workInProgressVersionPrimary;if(g!==null?r=g===p:(r=r.mutableReadLanes,(r=(Mi&r)===r)&&(a._workInProgressVersionPrimary=p,Na.push(a))),r)return s(a._source);throw Na.push(a),Error(y(350))}function Yp(r,a,s,p){var g=yn;if(g===null)throw Error(y(349));var w=a._getVersion,E=w(a._source),O=Di.current,R=O.useState(function(){return Gp(g,a,s)}),F=R[1],oe=R[0];R=tn;var ke=r.memoizedState,he=ke.refs,Ie=he.getSnapshot,Ye=ke.source;ke=ke.subscribe;var Ze=Ht;return r.memoizedState={refs:he,source:a,subscribe:p},O.useEffect(function(){he.getSnapshot=s,he.setSnapshot=F;var V=w(a._source);if(!Un(E,V)){V=s(a._source),Un(oe,V)||(F(V),V=xo(Ze),g.mutableReadLanes|=V&g.pendingLanes),V=g.mutableReadLanes,g.entangledLanes|=V;for(var $=g.entanglements,H=V;0<H;){var ce=31-Fe(H),pe=1<<ce;$[ce]|=V,H&=~pe}}},[s,a,p]),O.useEffect(function(){return p(a._source,function(){var V=he.getSnapshot,$=he.setSnapshot;try{$(V(a._source));var H=xo(Ze);g.mutableReadLanes|=H&g.pendingLanes}catch(ce){$(function(){throw ce})}})},[a,p]),Un(Ie,s)&&Un(Ye,a)&&Un(ke,p)||((r={pending:null,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:oe}).dispatch=F=vu.bind(null,Ht,r),R.queue=r,R.baseQueue=null,oe=Gp(g,a,s),R.memoizedState=R.baseState=oe),oe}function Zp(r,a,s){return Yp(Go(),r,a,s)}function Fi(r){var a=Ko();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r=(r=a.queue={pending:null,dispatch:null,lastRenderedReducer:Sr,lastRenderedState:r}).dispatch=vu.bind(null,Ht,r),[a.memoizedState,r]}function ul(r,a,s,p){return r={tag:r,create:a,destroy:s,deps:p,next:null},(a=Ht.updateQueue)===null?(a={lastEffect:null},Ht.updateQueue=a,a.lastEffect=r.next=r):(s=a.lastEffect)===null?a.lastEffect=r.next=r:(p=s.next,s.next=r,r.next=p,a.lastEffect=r),r}function Jp(r){return r={current:r},Ko().memoizedState=r}function dl(){return Go().memoizedState}function mu(r,a,s,p){var g=Ko();Ht.flags|=r,g.memoizedState=ul(1|a,s,void 0,p===void 0?null:p)}function gu(r,a,s,p){var g=Go();p=p===void 0?null:p;var w=void 0;if(gn!==null){var E=gn.memoizedState;if(w=E.destroy,p!==null&&pu(p,E.deps))return void ul(a,s,w,p)}Ht.flags|=r,g.memoizedState=ul(1|a,s,w,p)}function eh(r,a){return mu(516,4,r,a)}function fl(r,a){return gu(516,4,r,a)}function th(r,a){return gu(4,2,r,a)}function nh(r,a){return typeof a=="function"?(r=r(),a(r),function(){a(null)}):a!=null?(r=r(),a.current=r,function(){a.current=null}):void 0}function rh(r,a,s){return s=s!=null?s.concat([r]):null,gu(4,2,nh.bind(null,a,r),s)}function yu(){}function oh(r,a){var s=Go();a=a===void 0?null:a;var p=s.memoizedState;return p!==null&&a!==null&&pu(a,p[1])?p[0]:(s.memoizedState=[r,a],r)}function ah(r,a){var s=Go();a=a===void 0?null:a;var p=s.memoizedState;return p!==null&&a!==null&&pu(a,p[1])?p[0]:(r=r(),s.memoizedState=[r,a],r)}function hw(r,a){var s=Ra();Aa(98>s?98:s,function(){r(!0)}),Aa(97<s?97:s,function(){var p=Hn.transition;Hn.transition=1;try{r(!1),a()}finally{Hn.transition=p}})}function vu(r,a,s){var p=Nn(),g=xo(r),w={lane:g,action:s,eagerReducer:null,eagerState:null,next:null},E=a.pending;if(E===null?w.next=w:(w.next=E.next,E.next=w),a.pending=w,E=r.alternate,r===Ht||E!==null&&E===Ht)Bi=cl=!0;else{if(r.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer)!==null)try{var O=a.lastRenderedState,R=E(O,s);if(w.eagerReducer=E,w.eagerState=R,Un(R,O))return}catch{}Co(r,g,p)}}var pl={readContext:qn,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useOpaqueIdentifier:Tn,unstable_isNewReconciler:!1},mw={readContext:qn,useCallback:function(r,a){return Ko().memoizedState=[r,a===void 0?null:a],r},useContext:qn,useEffect:eh,useImperativeHandle:function(r,a,s){return s=s!=null?s.concat([r]):null,mu(4,2,nh.bind(null,a,r),s)},useLayoutEffect:function(r,a){return mu(4,2,r,a)},useMemo:function(r,a){var s=Ko();return a=a===void 0?null:a,r=r(),s.memoizedState=[r,a],r},useReducer:function(r,a,s){var p=Ko();return a=s!==void 0?s(a):a,p.memoizedState=p.baseState=a,r=(r=p.queue={pending:null,dispatch:null,lastRenderedReducer:r,lastRenderedState:a}).dispatch=vu.bind(null,Ht,r),[p.memoizedState,r]},useRef:Jp,useState:Fi,useDebugValue:yu,useDeferredValue:function(r){var a=Fi(r),s=a[0],p=a[1];return eh(function(){var g=Hn.transition;Hn.transition=1;try{p(r)}finally{Hn.transition=g}},[r]),s},useTransition:function(){var r=Fi(!1),a=r[0];return Jp(r=hw.bind(null,r[1])),[r,a]},useMutableSource:function(r,a,s){var p=Ko();return p.memoizedState={refs:{getSnapshot:a,setSnapshot:null},source:r,subscribe:s},Yp(p,r,a,s)},useOpaqueIdentifier:function(){if(Er){var r=!1,a=function(p){return{$$typeof:G,toString:p,valueOf:p}}(function(){throw r||(r=!0,s("r:"+(Qc++).toString(36))),Error(y(355))}),s=Fi(a)[1];return!(2&Ht.mode)&&(Ht.flags|=516,ul(5,function(){s("r:"+(Qc++).toString(36))},void 0,null)),a}return Fi(a="r:"+(Qc++).toString(36)),a},unstable_isNewReconciler:!1},gw={readContext:qn,useCallback:oh,useContext:qn,useEffect:fl,useImperativeHandle:rh,useLayoutEffect:th,useMemo:ah,useReducer:zi,useRef:dl,useState:function(){return zi(Sr)},useDebugValue:yu,useDeferredValue:function(r){var a=zi(Sr),s=a[0],p=a[1];return fl(function(){var g=Hn.transition;Hn.transition=1;try{p(r)}finally{Hn.transition=g}},[r]),s},useTransition:function(){var r=zi(Sr)[0];return[dl().current,r]},useMutableSource:Zp,useOpaqueIdentifier:function(){return zi(Sr)[0]},unstable_isNewReconciler:!1},yw={readContext:qn,useCallback:oh,useContext:qn,useEffect:fl,useImperativeHandle:rh,useLayoutEffect:th,useMemo:ah,useReducer:$i,useRef:dl,useState:function(){return $i(Sr)},useDebugValue:yu,useDeferredValue:function(r){var a=$i(Sr),s=a[0],p=a[1];return fl(function(){var g=Hn.transition;Hn.transition=1;try{p(r)}finally{Hn.transition=g}},[r]),s},useTransition:function(){var r=$i(Sr)[0];return[dl().current,r]},useMutableSource:Zp,useOpaqueIdentifier:function(){return $i(Sr)[0]},unstable_isNewReconciler:!1},vw=me.ReactCurrentOwner,ir=!1;function Pn(r,a,s,p){a.child=r===null?Vp(a,null,s,p):il(a,r.child,s,p)}function ih(r,a,s,p,g){s=s.render;var w=a.ref;return ja(a,g),p=hu(r,a,s,p,w,g),r===null||ir?(a.flags|=1,Pn(r,a,p,g),a.child):(a.updateQueue=r.updateQueue,a.flags&=-517,r.lanes&=~g,Qr(r,a,g))}function sh(r,a,s,p,g,w){if(r===null){var E=s.type;return typeof E!="function"||$u(E)||E.defaultProps!==void 0||s.compare!==null||s.defaultProps!==void 0?((r=Cl(s.type,null,p,a,a.mode,w)).ref=a.ref,r.return=a,a.child=r):(a.tag=15,a.type=E,lh(r,a,E,p,g,w))}return E=r.child,!(g&w)&&(g=E.memoizedProps,(s=(s=s.compare)!==null?s:Ti)(g,p)&&r.ref===a.ref)?Qr(r,a,w):(a.flags|=1,(r=So(E,p)).ref=a.ref,r.return=a,a.child=r)}function lh(r,a,s,p,g,w){if(r!==null&&Ti(r.memoizedProps,p)&&r.ref===a.ref){if(ir=!1,(w&g)==0)return a.lanes=r.lanes,Qr(r,a,w);16384&r.flags&&(ir=!0)}return bu(r,a,s,p,w)}function ch(r,a,s){var p=a.pendingProps,g=p.children,w=r!==null?r.memoizedState:null;if(p.mode==="hidden"||p.mode==="unstable-defer-without-hiding")if(!(4&a.mode))a.memoizedState={baseLanes:0},xl(0,s);else{if(!(1073741824&s))return r=w!==null?w.baseLanes|s:s,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r},xl(0,r),null;a.memoizedState={baseLanes:0},xl(0,w!==null?w.baseLanes:s)}else w!==null?(p=w.baseLanes|s,a.memoizedState=null):p=s,xl(0,p);return Pn(r,a,g,s),a.child}function uh(r,a){var s=a.ref;(r===null&&s!==null||r!==null&&r.ref!==s)&&(a.flags|=128)}function bu(r,a,s,p,g){var w=jn(s)?Xo:cn.current;return w=Oa(a,w),ja(a,g),s=hu(r,a,s,p,w,g),r===null||ir?(a.flags|=1,Pn(r,a,s,g),a.child):(a.updateQueue=r.updateQueue,a.flags&=-517,r.lanes&=~g,Qr(r,a,g))}function dh(r,a,s,p,g){if(jn(s)){var w=!0;Gs(a)}else w=!1;if(ja(a,g),a.stateNode===null)r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2),Up(a,s,p),su(a,s,p,g),p=!0;else if(r===null){var E=a.stateNode,O=a.memoizedProps;E.props=O;var R=E.context,F=s.contextType;F=typeof F=="object"&&F!==null?qn(F):Oa(a,F=jn(s)?Xo:cn.current);var oe=s.getDerivedStateFromProps,ke=typeof oe=="function"||typeof E.getSnapshotBeforeUpdate=="function";ke||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==p||R!==F)&&qp(a,E,p,F),mo=!1;var he=a.memoizedState;E.state=he,Ii(a,p,E,g),R=a.memoizedState,O!==p||he!==R||Sn.current||mo?(typeof oe=="function"&&(nl(a,s,oe,p),R=a.memoizedState),(O=mo||Fp(a,s,O,p,he,R,F))?(ke||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(a.flags|=4)):(typeof E.componentDidMount=="function"&&(a.flags|=4),a.memoizedProps=p,a.memoizedState=R),E.props=p,E.state=R,E.context=F,p=O):(typeof E.componentDidMount=="function"&&(a.flags|=4),p=!1)}else{E=a.stateNode,Mp(r,a),O=a.memoizedProps,F=a.type===a.elementType?O:ar(a.type,O),E.props=F,ke=a.pendingProps,he=E.context,R=typeof(R=s.contextType)=="object"&&R!==null?qn(R):Oa(a,R=jn(s)?Xo:cn.current);var Ie=s.getDerivedStateFromProps;(oe=typeof Ie=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(O!==ke||he!==R)&&qp(a,E,p,R),mo=!1,he=a.memoizedState,E.state=he,Ii(a,p,E,g);var Ye=a.memoizedState;O!==ke||he!==Ye||Sn.current||mo?(typeof Ie=="function"&&(nl(a,s,Ie,p),Ye=a.memoizedState),(F=mo||Fp(a,s,F,p,he,Ye,R))?(oe||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(p,Ye,R),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(p,Ye,R)),typeof E.componentDidUpdate=="function"&&(a.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(a.flags|=256)):(typeof E.componentDidUpdate!="function"||O===r.memoizedProps&&he===r.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&he===r.memoizedState||(a.flags|=256),a.memoizedProps=p,a.memoizedState=Ye),E.props=p,E.state=Ye,E.context=R,p=F):(typeof E.componentDidUpdate!="function"||O===r.memoizedProps&&he===r.memoizedState||(a.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&he===r.memoizedState||(a.flags|=256),p=!1)}return wu(r,a,s,p,w,g)}function wu(r,a,s,p,g,w){uh(r,a);var E=(64&a.flags)!=0;if(!p&&!E)return g&&kp(a,s,!1),Qr(r,a,w);p=a.stateNode,vw.current=a;var O=E&&typeof s.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,r!==null&&E?(a.child=il(a,r.child,null,w),a.child=il(a,null,O,w)):Pn(r,a,O,w),a.memoizedState=p.state,g&&kp(a,s,!0),a.child}function fh(r){var a=r.stateNode;a.pendingContext?Tp(0,a.pendingContext,a.pendingContext!==a.context):a.context&&Tp(0,a.context,!1),lu(r,a.containerInfo)}var ph,hh,mh,xu={dehydrated:null,retryLane:0};function gh(r,a,s){var p,g=a.pendingProps,w=qt.current,E=!1;return(p=(64&a.flags)!=0)||(p=(r===null||r.memoizedState!==null)&&(2&w)!=0),p?(E=!0,a.flags&=-65):r!==null&&r.memoizedState===null||g.fallback===void 0||g.unstable_avoidThisFallback===!0||(w|=1),Ft(qt,1&w),r===null?(g.fallback!==void 0&&uu(a),r=g.children,w=g.fallback,E?(r=yh(a,r,w,s),a.child.memoizedState={baseLanes:s},a.memoizedState=xu,r):typeof g.unstable_expectedLoadTime=="number"?(r=yh(a,r,w,s),a.child.memoizedState={baseLanes:s},a.memoizedState=xu,a.lanes=33554432,r):((s=Fu({mode:"visible",children:r},a.mode,s,null)).return=a,a.child=s)):(r.memoizedState,E?(g=function(O,R,F,oe,ke){var he=R.mode,Ie=O.child;O=Ie.sibling;var Ye={mode:"hidden",children:F};return!(2&he)&&R.child!==Ie?((F=R.child).childLanes=0,F.pendingProps=Ye,(Ie=F.lastEffect)!==null?(R.firstEffect=F.firstEffect,R.lastEffect=Ie,Ie.nextEffect=null):R.firstEffect=R.lastEffect=null):F=So(Ie,Ye),O!==null?oe=So(O,oe):(oe=Fa(oe,he,ke,null)).flags|=2,oe.return=R,F.return=R,F.sibling=oe,R.child=F,oe}(r,a,g.children,g.fallback,s),E=a.child,w=r.child.memoizedState,E.memoizedState=w===null?{baseLanes:s}:{baseLanes:w.baseLanes|s},E.childLanes=r.childLanes&~s,a.memoizedState=xu,g):(s=function(O,R,F,oe){var ke=O.child;return O=ke.sibling,F=So(ke,{mode:"visible",children:F}),!(2&R.mode)&&(F.lanes=oe),F.return=R,F.sibling=null,O!==null&&(O.nextEffect=null,O.flags=8,R.firstEffect=R.lastEffect=O),R.child=F}(r,a,g.children,s),a.memoizedState=null,s))}function yh(r,a,s,p){var g=r.mode,w=r.child;return a={mode:"hidden",children:a},!(2&g)&&w!==null?(w.childLanes=0,w.pendingProps=a):w=Fu(a,g,0,null),s=Fa(s,g,p,null),w.return=r,s.return=r,w.sibling=s,r.child=w,s}function vh(r,a){r.lanes|=a;var s=r.alternate;s!==null&&(s.lanes|=a),Dp(r.return,a)}function Cu(r,a,s,p,g,w){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:s,tailMode:g,lastEffect:w}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=s,E.tailMode=g,E.lastEffect=w)}function bh(r,a,s){var p=a.pendingProps,g=p.revealOrder,w=p.tail;if(Pn(r,a,p.children,s),(2&(p=qt.current))!=0)p=1&p|2,a.flags|=64;else{if(r!==null&&64&r.flags)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&vh(r,s);else if(r.tag===19)vh(r,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}if(Ft(qt,p),(2&a.mode)==0)a.memoizedState=null;else switch(g){case"forwards":for(s=a.child,g=null;s!==null;)(r=s.alternate)!==null&&sl(r)===null&&(g=s),s=s.sibling;(s=g)===null?(g=a.child,a.child=null):(g=s.sibling,s.sibling=null),Cu(a,!1,g,s,w,a.lastEffect);break;case"backwards":for(s=null,g=a.child,a.child=null;g!==null;){if((r=g.alternate)!==null&&sl(r)===null){a.child=g;break}r=g.sibling,g.sibling=s,s=g,g=r}Cu(a,!0,s,null,w,a.lastEffect);break;case"together":Cu(a,!1,null,null,void 0,a.lastEffect);break;default:a.memoizedState=null}return a.child}function Qr(r,a,s){if(r!==null&&(a.dependencies=r.dependencies),qi|=a.lanes,(s&a.childLanes)!=0){if(r!==null&&a.child!==r.child)throw Error(y(153));if(a.child!==null){for(s=So(r=a.child,r.pendingProps),a.child=s,s.return=a;r.sibling!==null;)r=r.sibling,(s=s.sibling=So(r,r.pendingProps)).return=a;s.sibling=null}return a.child}return null}function Ui(r,a){if(!Er)switch(r.tailMode){case"hidden":a=r.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?r.tail=null:s.sibling=null;break;case"collapsed":s=r.tail;for(var p=null;s!==null;)s.alternate!==null&&(p=s),s=s.sibling;p===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function bw(r,a,s){var p=a.pendingProps;switch(a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return jn(a.type)&&Yc(),null;case 3:return Pa(),$t(Sn),$t(cn),fu(),(p=a.stateNode).pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),r!==null&&r.child!==null||(ll(a)?a.flags|=4:p.hydrate||(a.flags|=256)),null;case 5:cu(a);var g=Qo(Li.current);if(s=a.type,r!==null&&a.stateNode!=null)hh(r,a,s,p),r.ref!==a.ref&&(a.flags|=128);else{if(!p){if(a.stateNode===null)throw Error(y(166));return null}if(r=Qo(Cr.current),ll(a)){p=a.stateNode,s=a.type;var w=a.memoizedProps;switch(p[fo]=a,p[Qs]=w,s){case"dialog":Lt("cancel",p),Lt("close",p);break;case"iframe":case"object":case"embed":Lt("load",p);break;case"video":case"audio":for(r=0;r<ki.length;r++)Lt(ki[r],p);break;case"source":Lt("error",p);break;case"img":case"image":case"link":Lt("error",p),Lt("load",p);break;case"details":Lt("toggle",p);break;case"input":xn(p,w),Lt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!w.multiple},Lt("invalid",p);break;case"textarea":zo(p,w),Lt("invalid",p)}for(var E in De(s,w),r=null,w)w.hasOwnProperty(E)&&(g=w[E],E==="children"?typeof g=="string"?p.textContent!==g&&(r=["children",g]):typeof g=="number"&&p.textContent!==""+g&&(r=["children",""+g]):x.hasOwnProperty(E)&&g!=null&&E==="onScroll"&&Lt("scroll",p));switch(s){case"input":mt(p),dr(p,w,!0);break;case"textarea":mt(p),Lr(p);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(p.onclick=Xs)}p=r,a.updateQueue=p,p!==null&&(a.flags|=4)}else{switch(E=g.nodeType===9?g:g.ownerDocument,r===$o&&(r=hn(s)),r===$o?s==="script"?((r=E.createElement("div")).innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof p.is=="string"?r=E.createElement(s,{is:p.is}):(r=E.createElement(s),s==="select"&&(E=r,p.multiple?E.multiple=!0:p.size&&(E.size=p.size))):r=E.createElementNS(r,s),r[fo]=a,r[Qs]=p,ph(r,a),a.stateNode=r,E=ve(s,p),s){case"dialog":Lt("cancel",r),Lt("close",r),g=p;break;case"iframe":case"object":case"embed":Lt("load",r),g=p;break;case"video":case"audio":for(g=0;g<ki.length;g++)Lt(ki[g],r);g=p;break;case"source":Lt("error",r),g=p;break;case"img":case"image":case"link":Lt("error",r),Lt("load",r),g=p;break;case"details":Lt("toggle",r),g=p;break;case"input":xn(r,p),g=pn(r,p),Lt("invalid",r);break;case"option":g=Bn(r,p);break;case"select":r._wrapperState={wasMultiple:!!p.multiple},g=h({},p,{value:void 0}),Lt("invalid",r);break;case"textarea":zo(r,p),g=Kt(r,p),Lt("invalid",r);break;default:g=p}De(s,g);var O=g;for(w in O)if(O.hasOwnProperty(w)){var R=O[w];w==="style"?ne(r,R):w==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0)!=null&&Dr(r,R):w==="children"?typeof R=="string"?(s!=="textarea"||R!=="")&&Mr(r,R):typeof R=="number"&&Mr(r,""+R):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(x.hasOwnProperty(w)?R!=null&&w==="onScroll"&&Lt("scroll",r):R!=null&&fe(r,w,R,E))}switch(s){case"input":mt(r),dr(r,p,!1);break;case"textarea":mt(r),Lr(r);break;case"option":p.value!=null&&r.setAttribute("value",""+lt(p.value));break;case"select":r.multiple=!!p.multiple,(w=p.value)!=null?fr(r,!!p.multiple,w,!1):p.defaultValue!=null&&fr(r,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(r.onclick=Xs)}wp(s,p)&&(a.flags|=4)}a.ref!==null&&(a.flags|=128)}return null;case 6:if(r&&a.stateNode!=null)mh(0,a,r.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(y(166));s=Qo(Li.current),Qo(Cr.current),ll(a)?(p=a.stateNode,s=a.memoizedProps,p[fo]=a,p.nodeValue!==s&&(a.flags|=4)):((p=(s.nodeType===9?s:s.ownerDocument).createTextNode(p))[fo]=a,a.stateNode=p)}return null;case 13:return $t(qt),p=a.memoizedState,64&a.flags?(a.lanes=s,a):(p=p!==null,s=!1,r===null?a.memoizedProps.fallback!==void 0&&ll(a):s=r.memoizedState!==null,p&&!s&&2&a.mode&&(r===null&&a.memoizedProps.unstable_avoidThisFallback!==!0||1&qt.current?nn===0&&(nn=3):(nn!==0&&nn!==3||(nn=4),yn===null||!(134217727&qi)&&!(134217727&Da)||Ba(yn,dn))),(p||s)&&(a.flags|=4),null);case 4:return Pa(),r===null&&mp(a.stateNode.containerInfo),null;case 10:return au(a),null;case 19:if($t(qt),(p=a.memoizedState)===null)return null;if(w=(64&a.flags)!=0,(E=p.rendering)===null)if(w)Ui(p,!1);else{if(nn!==0||r!==null&&64&r.flags)for(r=a.child;r!==null;){if((E=sl(r))!==null){for(a.flags|=64,Ui(p,!1),(w=E.updateQueue)!==null&&(a.updateQueue=w,a.flags|=4),p.lastEffect===null&&(a.firstEffect=null),a.lastEffect=p.lastEffect,p=s,s=a.child;s!==null;)r=p,(w=s).flags&=2,w.nextEffect=null,w.firstEffect=null,w.lastEffect=null,(E=w.alternate)===null?(w.childLanes=0,w.lanes=r,w.child=null,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=E.childLanes,w.lanes=E.lanes,w.child=E.child,w.memoizedProps=E.memoizedProps,w.memoizedState=E.memoizedState,w.updateQueue=E.updateQueue,w.type=E.type,r=E.dependencies,w.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s=s.sibling;return Ft(qt,1&qt.current|2),a.child}r=r.sibling}p.tail!==null&&un()>Pu&&(a.flags|=64,w=!0,Ui(p,!1),a.lanes=33554432)}else{if(!w)if((r=sl(E))!==null){if(a.flags|=64,w=!0,(s=r.updateQueue)!==null&&(a.updateQueue=s,a.flags|=4),Ui(p,!0),p.tail===null&&p.tailMode==="hidden"&&!E.alternate&&!Er)return(a=a.lastEffect=p.lastEffect)!==null&&(a.nextEffect=null),null}else 2*un()-p.renderingStartTime>Pu&&s!==1073741824&&(a.flags|=64,w=!0,Ui(p,!1),a.lanes=33554432);p.isBackwards?(E.sibling=a.child,a.child=E):((s=p.last)!==null?s.sibling=E:a.child=E,p.last=E)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.lastEffect=a.lastEffect,p.renderingStartTime=un(),s.sibling=null,a=qt.current,Ft(qt,w?1&a|2:1&a),s):null;case 23:case 24:return zu(),r!==null&&r.memoizedState!==null!=(a.memoizedState!==null)&&p.mode!=="unstable-defer-without-hiding"&&(a.flags|=4),null}throw Error(y(156,a.tag))}function ww(r){switch(r.tag){case 1:jn(r.type)&&Yc();var a=r.flags;return 4096&a?(r.flags=-4097&a|64,r):null;case 3:if(Pa(),$t(Sn),$t(cn),fu(),(64&(a=r.flags))!=0)throw Error(y(285));return r.flags=-4097&a|64,r;case 5:return cu(r),null;case 13:return $t(qt),4096&(a=r.flags)?(r.flags=-4097&a|64,r):null;case 19:return $t(qt),null;case 4:return Pa(),null;case 10:return au(r),null;case 23:case 24:return zu(),null;default:return null}}function Eu(r,a){try{var s="",p=a;do s+=Ot(p),p=p.return;while(p);var g=s}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:r,source:a,stack:g}}function Su(r,a){try{console.error(a.value)}catch(s){setTimeout(function(){throw s})}}ph=function(r,a){for(var s=a.child;s!==null;){if(s.tag===5||s.tag===6)r.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},hh=function(r,a,s,p){var g=r.memoizedProps;if(g!==p){r=a.stateNode,Qo(Cr.current);var w,E=null;switch(s){case"input":g=pn(r,g),p=pn(r,p),E=[];break;case"option":g=Bn(r,g),p=Bn(r,p),E=[];break;case"select":g=h({},g,{value:void 0}),p=h({},p,{value:void 0}),E=[];break;case"textarea":g=Kt(r,g),p=Kt(r,p),E=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(r.onclick=Xs)}for(F in De(s,p),s=null,g)if(!p.hasOwnProperty(F)&&g.hasOwnProperty(F)&&g[F]!=null)if(F==="style"){var O=g[F];for(w in O)O.hasOwnProperty(w)&&(s||(s={}),s[w]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(x.hasOwnProperty(F)?E||(E=[]):(E=E||[]).push(F,null));for(F in p){var R=p[F];if(O=g?.[F],p.hasOwnProperty(F)&&R!==O&&(R!=null||O!=null))if(F==="style")if(O){for(w in O)!O.hasOwnProperty(w)||R&&R.hasOwnProperty(w)||(s||(s={}),s[w]="");for(w in R)R.hasOwnProperty(w)&&O[w]!==R[w]&&(s||(s={}),s[w]=R[w])}else s||(E||(E=[]),E.push(F,s)),s=R;else F==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,O=O?O.__html:void 0,R!=null&&O!==R&&(E=E||[]).push(F,R)):F==="children"?typeof R!="string"&&typeof R!="number"||(E=E||[]).push(F,""+R):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(x.hasOwnProperty(F)?(R!=null&&F==="onScroll"&&Lt("scroll",r),E||O===R||(E=[])):typeof R=="object"&&R!==null&&R.$$typeof===G?R.toString():(E=E||[]).push(F,R))}s&&(E=E||[]).push("style",s);var F=E;(a.updateQueue=F)&&(a.flags|=4)}},mh=function(r,a,s,p){s!==p&&(a.flags|=4)};var xw=typeof WeakMap=="function"?WeakMap:Map;function wh(r,a,s){(s=go(-1,s)).tag=3,s.payload={element:null};var p=a.value;return s.callback=function(){gl||(gl=!0,Nu=p),Su(0,a)},s}function xh(r,a,s){(s=go(-1,s)).tag=3;var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var g=a.value;s.payload=function(){return Su(0,a),p(g)}}var w=r.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){typeof p!="function"&&(Tr===null?Tr=new Set([this]):Tr.add(this),Su(0,a));var E=a.stack;this.componentDidCatch(a.value,{componentStack:E!==null?E:""})}),s}var Cw=typeof WeakSet=="function"?WeakSet:Set;function Ch(r){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(s){Eo(r,s)}else a.current=null}function Ew(r,a){switch(a.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&a.flags&&r!==null){var s=r.memoizedProps,p=r.memoizedState;a=(r=a.stateNode).getSnapshotBeforeUpdate(a.elementType===a.type?s:ar(a.type,s),p),r.__reactInternalSnapshotBeforeUpdate=a}return;case 3:return void(256&a.flags&&Wc(a.stateNode.containerInfo))}throw Error(y(163))}function Sw(r,a,s){switch(s.tag){case 0:case 11:case 15:case 22:if((a=(a=s.updateQueue)!==null?a.lastEffect:null)!==null){r=a=a.next;do{if((3&r.tag)==3){var p=r.create;r.destroy=p()}r=r.next}while(r!==a)}if((a=(a=s.updateQueue)!==null?a.lastEffect:null)!==null){r=a=a.next;do{var g=r;p=g.next,4&(g=g.tag)&&1&g&&(Mh(s,r),Iw(s,r)),r=p}while(r!==a)}return;case 1:return r=s.stateNode,4&s.flags&&(a===null?r.componentDidMount():(p=s.elementType===s.type?a.memoizedProps:ar(s.type,a.memoizedProps),r.componentDidUpdate(p,a.memoizedState,r.__reactInternalSnapshotBeforeUpdate))),void((a=s.updateQueue)!==null&&zp(s,a,r));case 3:if((a=s.updateQueue)!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:case 1:r=s.child.stateNode}zp(s,a,r)}return;case 5:return r=s.stateNode,void(a===null&&4&s.flags&&wp(s.type,s.memoizedProps)&&r.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(s.memoizedState===null&&(s=s.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&Uo(s)))))}throw Error(y(163))}function Eh(r,a){for(var s=r;;){if(s.tag===5){var p=s.stateNode;if(a)typeof(p=p.style).setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{p=s.stateNode;var g=s.memoizedProps.style;g=g!=null&&g.hasOwnProperty("display")?g.display:null,p.style.display=z("display",g)}}else if(s.tag===6)s.stateNode.nodeValue=a?"":s.memoizedProps;else if((s.tag!==23&&s.tag!==24||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}}function Sh(r,a){if(Wo&&typeof Wo.onCommitFiberUnmount=="function")try{Wo.onCommitFiberUnmount(Zc,a)}catch{}switch(a.tag){case 0:case 11:case 14:case 15:case 22:if((r=a.updateQueue)!==null&&(r=r.lastEffect)!==null){var s=r=r.next;do{var p=s,g=p.destroy;if(p=p.tag,g!==void 0)if(4&p)Mh(a,s);else{p=a;try{g()}catch(w){Eo(p,w)}}s=s.next}while(s!==r)}break;case 1:if(Ch(a),typeof(r=a.stateNode).componentWillUnmount=="function")try{r.props=a.memoizedProps,r.state=a.memoizedState,r.componentWillUnmount()}catch(w){Eo(a,w)}break;case 5:Ch(a);break;case 4:Oh(r,a)}}function Th(r){r.alternate=null,r.child=null,r.dependencies=null,r.firstEffect=null,r.lastEffect=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.return=null,r.updateQueue=null}function _h(r){return r.tag===5||r.tag===3||r.tag===4}function kh(r){e:{for(var a=r.return;a!==null;){if(_h(a))break e;a=a.return}throw Error(y(160))}var s=a;switch(a=s.stateNode,s.tag){case 5:var p=!1;break;case 3:case 4:a=a.containerInfo,p=!0;break;default:throw Error(y(161))}16&s.flags&&(Mr(a,""),s.flags&=-17);e:t:for(s=r;;){for(;s.sibling===null;){if(s.return===null||_h(s.return)){s=null;break e}s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(2&s.flags||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(2&s.flags)){s=s.stateNode;break e}}p?Tu(r,s,a):_u(r,s,a)}function Tu(r,a,s){var p=r.tag,g=p===5||p===6;if(g)r=g?r.stateNode:r.stateNode.instance,a?s.nodeType===8?s.parentNode.insertBefore(r,a):s.insertBefore(r,a):(s.nodeType===8?(a=s.parentNode).insertBefore(r,s):(a=s).appendChild(r),(s=s._reactRootContainer)!=null||a.onclick!==null||(a.onclick=Xs));else if(p!==4&&(r=r.child)!==null)for(Tu(r,a,s),r=r.sibling;r!==null;)Tu(r,a,s),r=r.sibling}function _u(r,a,s){var p=r.tag,g=p===5||p===6;if(g)r=g?r.stateNode:r.stateNode.instance,a?s.insertBefore(r,a):s.appendChild(r);else if(p!==4&&(r=r.child)!==null)for(_u(r,a,s),r=r.sibling;r!==null;)_u(r,a,s),r=r.sibling}function Oh(r,a){for(var s,p,g=a,w=!1;;){if(!w){w=g.return;e:for(;;){if(w===null)throw Error(y(160));switch(s=w.stateNode,w.tag){case 5:p=!1;break e;case 3:case 4:s=s.containerInfo,p=!0;break e}w=w.return}w=!0}if(g.tag===5||g.tag===6){e:for(var E=r,O=g,R=O;;)if(Sh(E,R),R.child!==null&&R.tag!==4)R.child.return=R,R=R.child;else{if(R===O)break e;for(;R.sibling===null;){if(R.return===null||R.return===O)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}p?(E=s,O=g.stateNode,E.nodeType===8?E.parentNode.removeChild(O):E.removeChild(O)):s.removeChild(g.stateNode)}else if(g.tag===4){if(g.child!==null){s=g.stateNode.containerInfo,p=!0,g.child.return=g,g=g.child;continue}}else if(Sh(r,g),g.child!==null){g.child.return=g,g=g.child;continue}if(g===a)break;for(;g.sibling===null;){if(g.return===null||g.return===a)return;(g=g.return).tag===4&&(w=!1)}g.sibling.return=g.return,g=g.sibling}}function ku(r,a){switch(a.tag){case 0:case 11:case 14:case 15:case 22:var s=a.updateQueue;if((s=s!==null?s.lastEffect:null)!==null){var p=s=s.next;do(3&p.tag)==3&&(r=p.destroy,p.destroy=void 0,r!==void 0&&r()),p=p.next;while(p!==s)}return;case 1:case 12:case 17:return;case 5:if((s=a.stateNode)!=null){p=a.memoizedProps;var g=r!==null?r.memoizedProps:p;r=a.type;var w=a.updateQueue;if(a.updateQueue=null,w!==null){for(s[Qs]=p,r==="input"&&p.type==="radio"&&p.name!=null&&ur(s,p),ve(r,g),a=ve(r,p),g=0;g<w.length;g+=2){var E=w[g],O=w[g+1];E==="style"?ne(s,O):E==="dangerouslySetInnerHTML"?Dr(s,O):E==="children"?Mr(s,O):fe(s,E,O,a)}switch(r){case"input":on(s,p);break;case"textarea":da(s,p);break;case"select":r=s._wrapperState.wasMultiple,s._wrapperState.wasMultiple=!!p.multiple,(w=p.value)!=null?fr(s,!!p.multiple,w,!1):r!==!!p.multiple&&(p.defaultValue!=null?fr(s,!!p.multiple,p.defaultValue,!0):fr(s,!!p.multiple,p.multiple?[]:"",!1))}}}return;case 6:if(a.stateNode===null)throw Error(y(162));return void(a.stateNode.nodeValue=a.memoizedProps);case 3:return void((s=a.stateNode).hydrate&&(s.hydrate=!1,Uo(s.containerInfo)));case 13:return a.memoizedState!==null&&(ju=un(),Eh(a.child,!0)),void Rh(a);case 19:return void Rh(a);case 23:case 24:return void Eh(a,a.memoizedState!==null)}throw Error(y(163))}function Rh(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var s=r.stateNode;s===null&&(s=r.stateNode=new Cw),a.forEach(function(p){var g=Nw.bind(null,r,p);s.has(p)||(s.add(p),p.then(g,g))})}}function Tw(r,a){return r!==null&&((r=r.memoizedState)===null||r.dehydrated!==null)&&(a=a.memoizedState)!==null&&a.dehydrated===null}var _w=Math.ceil,hl=me.ReactCurrentDispatcher,Ou=me.ReactCurrentOwner,ut=0,yn=null,Zt=null,dn=0,Yo=0,Ru=po(0),nn=0,ml=null,La=0,qi=0,Da=0,Au=0,Iu=null,ju=0,Pu=1/0;function Ma(){Pu=un()+500}var Ah,Ae=null,gl=!1,Nu=null,Tr=null,bo=!1,Hi=null,Vi=90,Lu=[],Du=[],Kr=null,Xi=0,Mu=null,yl=-1,wo=0,vl=0,Wi=null,bl=!1;function Nn(){return 48&ut?un():yl!==-1?yl:yl=un()}function xo(r){if(!(2&(r=r.mode)))return 1;if(!(4&r))return Ra()===99?1:2;if(wo===0&&(wo=La),pw.transition!==0){vl!==0&&(vl=Iu!==null?Iu.pendingLanes:0),r=wo;var a=4186112&~vl;return(a&=-a)==0&&(a=(r=4186112&~r)&-r)==0&&(a=8192),a}return r=Ra(),r=J(4&ut&&r===98?12:r=function(s){switch(s){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(r),wo)}function Co(r,a,s){if(50<Xi)throw Xi=0,Mu=null,Error(y(185));if((r=wl(r,a))===null)return null;de(r,a,s),r===yn&&(Da|=a,nn===4&&Ba(r,dn));var p=Ra();a===1?8&ut&&!(48&ut)?Bu(r):(Vn(r,s),ut===0&&(Ma(),Xr())):(!(4&ut)||p!==98&&p!==99||(Kr===null?Kr=new Set([r]):Kr.add(r)),Vn(r,s)),Iu=r}function wl(r,a){r.lanes|=a;var s=r.alternate;for(s!==null&&(s.lanes|=a),s=r,r=r.return;r!==null;)r.childLanes|=a,(s=r.alternate)!==null&&(s.childLanes|=a),s=r,r=r.return;return s.tag===3?s.stateNode:null}function Vn(r,a){for(var s=r.callbackNode,p=r.suspendedLanes,g=r.pingedLanes,w=r.expirationTimes,E=r.pendingLanes;0<E;){var O=31-Fe(E),R=1<<O,F=w[O];if(F===-1){if(!(R&p)||R&g){F=a,Q(R);var oe=B;w[O]=10<=oe?F+250:6<=oe?F+5e3:-1}}else F<=a&&(r.expiredLanes|=R);E&=~R}if(p=Z(r,r===yn?dn:0),a=B,p===0)s!==null&&(s!==nu&&eu(s),r.callbackNode=null,r.callbackPriority=0);else{if(s!==null){if(r.callbackPriority===a)return;s!==nu&&eu(s)}a===15?(s=Bu.bind(null,r),Vr===null?(Vr=[s],Zs=Jc(Ys,Lp)):Vr.push(s),s=nu):a===14?s=Ai(99,Bu.bind(null,r)):(s=function(ke){switch(ke){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(y(358,ke))}}(a),s=Ai(s,Ih.bind(null,r))),r.callbackPriority=a,r.callbackNode=s}}function Ih(r){if(yl=-1,vl=wo=0,(48&ut)!=0)throw Error(y(327));var a=r.callbackNode;if(Zo()&&r.callbackNode!==a)return null;var s=Z(r,r===yn?dn:0);if(s===0)return null;var p=s,g=ut;ut|=16;var w=Nh();for(yn===r&&dn===p||(Ma(),za(r,p));;)try{Ow();break}catch(O){Ph(r,O)}if(ou(),hl.current=w,ut=g,Zt!==null?p=0:(yn=null,dn=0,p=nn),(La&Da)!=0)za(r,0);else if(p!==0){if(p===2&&(ut|=64,r.hydrate&&(r.hydrate=!1,Wc(r.containerInfo)),(s=le(r))!==0&&(p=Qi(r,s))),p===1)throw a=ml,za(r,0),Ba(r,s),Vn(r,un()),a;switch(r.finishedWork=r.current.alternate,r.finishedLanes=s,p){case 0:case 1:throw Error(y(345));case 2:case 5:$a(r);break;case 3:if(Ba(r,s),(62914560&s)===s&&10<(p=ju+500-un())){if(Z(r,0)!==0)break;if(((g=r.suspendedLanes)&s)!==s){Nn(),r.pingedLanes|=r.suspendedLanes&g;break}r.timeoutHandle=xp($a.bind(null,r),p);break}$a(r);break;case 4:if(Ba(r,s),(4186112&s)===s)break;for(p=r.eventTimes,g=-1;0<s;){var E=31-Fe(s);w=1<<E,(E=p[E])>g&&(g=E),s&=~w}if(s=g,10<(s=(120>(s=un()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*_w(s/1960))-s)){r.timeoutHandle=xp($a.bind(null,r),s);break}$a(r);break;default:throw Error(y(329))}}return Vn(r,un()),r.callbackNode===a?Ih.bind(null,r):null}function Ba(r,a){for(a&=~Au,a&=~Da,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var s=31-Fe(a),p=1<<s;r[s]=-1,a&=~p}}function Bu(r){if(48&ut)throw Error(y(327));if(Zo(),r===yn&&(r.expiredLanes&dn)!=0){var a=dn,s=Qi(r,a);La&Da&&(s=Qi(r,a=Z(r,a)))}else s=Qi(r,a=Z(r,0));if(r.tag!==0&&s===2&&(ut|=64,r.hydrate&&(r.hydrate=!1,Wc(r.containerInfo)),(a=le(r))!==0&&(s=Qi(r,a))),s===1)throw s=ml,za(r,0),Ba(r,a),Vn(r,un()),s;return r.finishedWork=r.current.alternate,r.finishedLanes=a,$a(r),Vn(r,un()),null}function jh(r,a){var s=ut;ut&=-2,ut|=8;try{return r(a)}finally{(ut=s)===0&&(Ma(),Xr())}}function xl(r,a){Ft(Ru,Yo),Yo|=a,La|=a}function zu(){Yo=Ru.current,$t(Ru)}function za(r,a){r.finishedWork=null,r.finishedLanes=0;var s=r.timeoutHandle;if(s!==-1&&(r.timeoutHandle=-1,lw(s)),Zt!==null)for(s=Zt.return;s!==null;){var p=s;switch(p.tag){case 1:(p=p.type.childContextTypes)!=null&&Yc();break;case 3:Pa(),$t(Sn),$t(cn),fu();break;case 5:cu(p);break;case 4:Pa();break;case 13:case 19:$t(qt);break;case 10:au(p);break;case 23:case 24:zu()}s=s.return}yn=r,Zt=So(r.current,null),dn=Yo=La=a,nn=0,ml=null,Au=Da=qi=0}function Ph(r,a){for(;;){var s=Zt;try{if(ou(),Di.current=pl,cl){for(var p=Ht.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}cl=!1}if(Mi=0,tn=gn=Ht=null,Bi=!1,Ou.current=null,s===null||s.return===null){nn=1,ml=a,Zt=null;break}e:{var w=r,E=s.return,O=s,R=a;if(a=dn,O.flags|=2048,O.firstEffect=O.lastEffect=null,R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=R;if(!(2&O.mode)){var oe=O.alternate;oe?(O.updateQueue=oe.updateQueue,O.memoizedState=oe.memoizedState,O.lanes=oe.lanes):(O.updateQueue=null,O.memoizedState=null)}var ke=(1&qt.current)!=0,he=E;do{var Ie;if(Ie=he.tag===13){var Ye=he.memoizedState;if(Ye!==null)Ie=Ye.dehydrated!==null;else{var Ze=he.memoizedProps;Ie=Ze.fallback!==void 0&&(Ze.unstable_avoidThisFallback!==!0||!ke)}}if(Ie){var V=he.updateQueue;if(V===null){var $=new Set;$.add(F),he.updateQueue=$}else V.add(F);if(!(2&he.mode)){if(he.flags|=64,O.flags|=16384,O.flags&=-2981,O.tag===1)if(O.alternate===null)O.tag=17;else{var H=go(-1,1);H.tag=2,yo(O,H)}O.lanes|=1;break e}R=void 0,O=a;var ce=w.pingCache;if(ce===null?(ce=w.pingCache=new xw,R=new Set,ce.set(F,R)):(R=ce.get(F))===void 0&&(R=new Set,ce.set(F,R)),!R.has(O)){R.add(O);var pe=Pw.bind(null,w,F,O);F.then(pe,pe)}he.flags|=4096,he.lanes=a;break e}he=he.return}while(he!==null);R=Error((xt(O.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}nn!==5&&(nn=2),R=Eu(R,O),he=E;do{switch(he.tag){case 3:w=R,he.flags|=4096,a&=-a,he.lanes|=a,Bp(he,wh(0,w,a));break e;case 1:w=R;var tt=he.type,Ne=he.stateNode;if(!(64&he.flags)&&(typeof tt.getDerivedStateFromError=="function"||Ne!==null&&typeof Ne.componentDidCatch=="function"&&(Tr===null||!Tr.has(Ne)))){he.flags|=4096,a&=-a,he.lanes|=a,Bp(he,xh(he,w,a));break e}}he=he.return}while(he!==null)}Dh(s)}catch(ct){a=ct,Zt===s&&s!==null&&(Zt=s=s.return);continue}break}}function Nh(){var r=hl.current;return hl.current=pl,r===null?pl:r}function Qi(r,a){var s=ut;ut|=16;var p=Nh();for(yn===r&&dn===a||za(r,a);;)try{kw();break}catch(g){Ph(r,g)}if(ou(),ut=s,hl.current=p,Zt!==null)throw Error(y(261));return yn=null,dn=0,nn}function kw(){for(;Zt!==null;)Lh(Zt)}function Ow(){for(;Zt!==null&&!uw();)Lh(Zt)}function Lh(r){var a=Ah(r.alternate,r,Yo);r.memoizedProps=r.pendingProps,a===null?Dh(r):Zt=a,Ou.current=null}function Dh(r){var a=r;do{var s=a.alternate;if(r=a.return,(2048&a.flags)==0){if((s=bw(s,a,Yo))!==null)return void(Zt=s);if((s=a).tag!==24&&s.tag!==23||s.memoizedState===null||1073741824&Yo||!(4&s.mode)){for(var p=0,g=s.child;g!==null;)p|=g.lanes|g.childLanes,g=g.sibling;s.childLanes=p}r!==null&&!(2048&r.flags)&&(r.firstEffect===null&&(r.firstEffect=a.firstEffect),a.lastEffect!==null&&(r.lastEffect!==null&&(r.lastEffect.nextEffect=a.firstEffect),r.lastEffect=a.lastEffect),1<a.flags&&(r.lastEffect!==null?r.lastEffect.nextEffect=a:r.firstEffect=a,r.lastEffect=a))}else{if((s=ww(a))!==null)return s.flags&=2047,void(Zt=s);r!==null&&(r.firstEffect=r.lastEffect=null,r.flags|=2048)}if((a=a.sibling)!==null)return void(Zt=a);Zt=a=r}while(a!==null);nn===0&&(nn=5)}function $a(r){var a=Ra();return Aa(99,Rw.bind(null,r,a)),null}function Rw(r,a){do Zo();while(Hi!==null);if(48&ut)throw Error(y(327));var s=r.finishedWork;if(s===null)return null;if(r.finishedWork=null,r.finishedLanes=0,s===r.current)throw Error(y(177));r.callbackNode=null;var p=s.lanes|s.childLanes,g=p,w=r.pendingLanes&~g;r.pendingLanes=g,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=g,r.mutableReadLanes&=g,r.entangledLanes&=g,g=r.entanglements;for(var E=r.eventTimes,O=r.expirationTimes;0<w;){var R=31-Fe(w),F=1<<R;g[R]=0,E[R]=-1,O[R]=-1,w&=~F}if(Kr!==null&&!(24&p)&&Kr.has(r)&&Kr.delete(r),r===yn&&(Zt=yn=null,dn=0),1<s.flags?s.lastEffect!==null?(s.lastEffect.nextEffect=s,p=s.firstEffect):p=s:p=s.firstEffect,p!==null){if(g=ut,ut|=32,Ou.current=null,Hc=nt,$c(E=lp())){if("selectionStart"in E)O={start:E.selectionStart,end:E.selectionEnd};else e:if(O=(O=E.ownerDocument)&&O.defaultView||window,(F=O.getSelection&&O.getSelection())&&F.rangeCount!==0){O=F.anchorNode,w=F.anchorOffset,R=F.focusNode,F=F.focusOffset;try{O.nodeType,R.nodeType}catch{O=null;break e}var oe=0,ke=-1,he=-1,Ie=0,Ye=0,Ze=E,V=null;t:for(;;){for(var $;Ze!==O||w!==0&&Ze.nodeType!==3||(ke=oe+w),Ze!==R||F!==0&&Ze.nodeType!==3||(he=oe+F),Ze.nodeType===3&&(oe+=Ze.nodeValue.length),($=Ze.firstChild)!==null;)V=Ze,Ze=$;for(;;){if(Ze===E)break t;if(V===O&&++Ie===w&&(ke=oe),V===R&&++Ye===F&&(he=oe),($=Ze.nextSibling)!==null)break;V=(Ze=V).parentNode}Ze=$}O=ke===-1||he===-1?null:{start:ke,end:he}}else O=null;O=O||{start:0,end:0}}else O=null;Vc={focusedElem:E,selectionRange:O},nt=!1,Wi=null,bl=!1,Ae=p;do try{Aw()}catch(Ge){if(Ae===null)throw Error(y(330));Eo(Ae,Ge),Ae=Ae.nextEffect}while(Ae!==null);Wi=null,Ae=p;do try{for(E=r;Ae!==null;){var H=Ae.flags;if(16&H&&Mr(Ae.stateNode,""),128&H){var ce=Ae.alternate;if(ce!==null){var pe=ce.ref;pe!==null&&(typeof pe=="function"?pe(null):pe.current=null)}}switch(1038&H){case 2:kh(Ae),Ae.flags&=-3;break;case 6:kh(Ae),Ae.flags&=-3,ku(Ae.alternate,Ae);break;case 1024:Ae.flags&=-1025;break;case 1028:Ae.flags&=-1025,ku(Ae.alternate,Ae);break;case 4:ku(Ae.alternate,Ae);break;case 8:Oh(E,O=Ae);var tt=O.alternate;Th(O),tt!==null&&Th(tt)}Ae=Ae.nextEffect}}catch(Ge){if(Ae===null)throw Error(y(330));Eo(Ae,Ge),Ae=Ae.nextEffect}while(Ae!==null);if(pe=Vc,ce=lp(),H=pe.focusedElem,E=pe.selectionRange,ce!==H&&H&&H.ownerDocument&&sp(H.ownerDocument.documentElement,H)){for(E!==null&&$c(H)&&(ce=E.start,(pe=E.end)===void 0&&(pe=ce),"selectionStart"in H?(H.selectionStart=ce,H.selectionEnd=Math.min(pe,H.value.length)):(pe=(ce=H.ownerDocument||document)&&ce.defaultView||window).getSelection&&(pe=pe.getSelection(),O=H.textContent.length,tt=Math.min(E.start,O),E=E.end===void 0?tt:Math.min(E.end,O),!pe.extend&&tt>E&&(O=E,E=tt,tt=O),O=ip(H,tt),w=ip(H,E),O&&w&&(pe.rangeCount!==1||pe.anchorNode!==O.node||pe.anchorOffset!==O.offset||pe.focusNode!==w.node||pe.focusOffset!==w.offset)&&((ce=ce.createRange()).setStart(O.node,O.offset),pe.removeAllRanges(),tt>E?(pe.addRange(ce),pe.extend(w.node,w.offset)):(ce.setEnd(w.node,w.offset),pe.addRange(ce))))),ce=[],pe=H;pe=pe.parentNode;)pe.nodeType===1&&ce.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<ce.length;H++)(pe=ce[H]).element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}nt=!!Hc,Vc=Hc=null,r.current=s,Ae=p;do try{for(H=r;Ae!==null;){var Ne=Ae.flags;if(36&Ne&&Sw(H,Ae.alternate,Ae),128&Ne){ce=void 0;var ct=Ae.ref;if(ct!==null){var bt=Ae.stateNode;Ae.tag,ce=bt,typeof ct=="function"?ct(ce):ct.current=ce}}Ae=Ae.nextEffect}}catch(Ge){if(Ae===null)throw Error(y(330));Eo(Ae,Ge),Ae=Ae.nextEffect}while(Ae!==null);Ae=null,fw(),ut=g}else r.current=s;if(bo)bo=!1,Hi=r,Vi=a;else for(Ae=p;Ae!==null;)a=Ae.nextEffect,Ae.nextEffect=null,8&Ae.flags&&((Ne=Ae).sibling=null,Ne.stateNode=null),Ae=a;if((p=r.pendingLanes)===0&&(Tr=null),p===1?r===Mu?Xi++:(Xi=0,Mu=r):Xi=0,s=s.stateNode,Wo&&typeof Wo.onCommitFiberRoot=="function")try{Wo.onCommitFiberRoot(Zc,s,void 0,(64&s.current.flags)==64)}catch{}if(Vn(r,un()),gl)throw gl=!1,r=Nu,Nu=null,r;return 8&ut||Xr(),null}function Aw(){for(;Ae!==null;){var r=Ae.alternate;bl||Wi===null||(8&Ae.flags?fi(Ae,Wi)&&(bl=!0):Ae.tag===13&&Tw(r,Ae)&&fi(Ae,Wi)&&(bl=!0));var a=Ae.flags;256&a&&Ew(r,Ae),!(512&a)||bo||(bo=!0,Ai(97,function(){return Zo(),null})),Ae=Ae.nextEffect}}function Zo(){if(Vi!==90){var r=97<Vi?97:Vi;return Vi=90,Aa(r,jw)}return!1}function Iw(r,a){Lu.push(a,r),bo||(bo=!0,Ai(97,function(){return Zo(),null}))}function Mh(r,a){Du.push(a,r),bo||(bo=!0,Ai(97,function(){return Zo(),null}))}function jw(){if(Hi===null)return!1;var r=Hi;if(Hi=null,(48&ut)!=0)throw Error(y(331));var a=ut;ut|=32;var s=Du;Du=[];for(var p=0;p<s.length;p+=2){var g=s[p],w=s[p+1],E=g.destroy;if(g.destroy=void 0,typeof E=="function")try{E()}catch(R){if(w===null)throw Error(y(330));Eo(w,R)}}for(s=Lu,Lu=[],p=0;p<s.length;p+=2){g=s[p],w=s[p+1];try{var O=g.create;g.destroy=O()}catch(R){if(w===null)throw Error(y(330));Eo(w,R)}}for(O=r.current.firstEffect;O!==null;)r=O.nextEffect,O.nextEffect=null,8&O.flags&&(O.sibling=null,O.stateNode=null),O=r;return ut=a,Xr(),!0}function Bh(r,a,s){yo(r,a=wh(0,a=Eu(s,a),1)),a=Nn(),(r=wl(r,1))!==null&&(de(r,1,a),Vn(r,a))}function Eo(r,a){if(r.tag===3)Bh(r,r,a);else for(var s=r.return;s!==null;){if(s.tag===3){Bh(s,r,a);break}if(s.tag===1){var p=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Tr===null||!Tr.has(p))){var g=xh(s,r=Eu(a,r),1);if(yo(s,g),g=Nn(),(s=wl(s,1))!==null)de(s,1,g),Vn(s,g);else if(typeof p.componentDidCatch=="function"&&(Tr===null||!Tr.has(p)))try{p.componentDidCatch(a,r)}catch{}break}}s=s.return}}function Pw(r,a,s){var p=r.pingCache;p!==null&&p.delete(a),a=Nn(),r.pingedLanes|=r.suspendedLanes&s,yn===r&&(dn&s)===s&&(nn===4||nn===3&&(62914560&dn)===dn&&500>un()-ju?za(r,0):Au|=s),Vn(r,a)}function Nw(r,a){var s=r.stateNode;s!==null&&s.delete(a),(a=0)==0&&(2&(a=r.mode)?4&a?(wo===0&&(wo=La),(a=re(62914560&~wo))===0&&(a=4194304)):a=Ra()===99?1:2:a=1),s=Nn(),(r=wl(r,a))!==null&&(de(r,a,s),Vn(r,s))}function Lw(r,a,s,p){this.tag=r,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Xn(r,a,s,p){return new Lw(r,a,s,p)}function $u(r){return!(!(r=r.prototype)||!r.isReactComponent)}function So(r,a){var s=r.alternate;return s===null?((s=Xn(r.tag,a,r.key,r.mode)).elementType=r.elementType,s.type=r.type,s.stateNode=r.stateNode,s.alternate=r,r.alternate=s):(s.pendingProps=a,s.type=r.type,s.flags=0,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null),s.childLanes=r.childLanes,s.lanes=r.lanes,s.child=r.child,s.memoizedProps=r.memoizedProps,s.memoizedState=r.memoizedState,s.updateQueue=r.updateQueue,a=r.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},s.sibling=r.sibling,s.index=r.index,s.ref=r.ref,s}function Cl(r,a,s,p,g,w){var E=2;if(p=r,typeof r=="function")$u(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case Y:return Fa(s.children,g,w,a);case ue:E=8,g|=16;break;case be:E=8,g|=1;break;case se:return(r=Xn(12,s,a,8|g)).elementType=se,r.type=se,r.lanes=w,r;case Le:return(r=Xn(13,s,a,g)).type=Le,r.elementType=Le,r.lanes=w,r;case Je:return(r=Xn(19,s,a,g)).elementType=Je,r.lanes=w,r;case ae:return Fu(s,g,w,a);case K:return(r=Xn(24,s,a,g)).elementType=K,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case we:E=10;break e;case ze:E=9;break e;case Ke:E=11;break e;case ft:E=14;break e;case I:E=16,p=null;break e;case M:E=22;break e}throw Error(y(130,r==null?r:typeof r,""))}return(a=Xn(E,s,a,g)).elementType=r,a.type=p,a.lanes=w,a}function Fa(r,a,s,p){return(r=Xn(7,r,p,a)).lanes=s,r}function Fu(r,a,s,p){return(r=Xn(23,r,p,a)).elementType=ae,r.lanes=s,r}function Uu(r,a,s){return(r=Xn(6,r,null,a)).lanes=s,r}function qu(r,a,s){return(a=Xn(4,r.children!==null?r.children:[],r.key,a)).lanes=s,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function Dw(r,a,s){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=s,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=xe(0),this.expirationTimes=xe(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xe(0),this.mutableSourceEagerHydrationData=null}function El(r,a,s,p){var g=a.current,w=Nn(),E=xo(g);e:if(s){t:{if(Br(s=s._reactInternals)!==s||s.tag!==1)throw Error(y(170));var O=s;do{switch(O.tag){case 3:O=O.stateNode.context;break t;case 1:if(jn(O.type)){O=O.stateNode.__reactInternalMemoizedMergedChildContext;break t}}O=O.return}while(O!==null);throw Error(y(171))}if(s.tag===1){var R=s.type;if(jn(R)){s=_p(s,R,O);break e}}s=O}else s=ho;return a.context===null?a.context=s:a.pendingContext=s,(a=go(w,E)).payload={element:r},(p=p===void 0?null:p)!==null&&(a.callback=p),yo(g,a),Co(g,E,w),E}function Hu(r){return(r=r.current).child?(r.child.tag,r.child.stateNode):null}function zh(r,a){if((r=r.memoizedState)!==null&&r.dehydrated!==null){var s=r.retryLane;r.retryLane=s!==0&&s<a?s:a}}function Vu(r,a){zh(r,a),(r=r.alternate)&&zh(r,a)}function Xu(r,a,s){var p=s!=null&&s.hydrationOptions!=null&&s.hydrationOptions.mutableSources||null;if(s=new Dw(r,a,s!=null&&s.hydrate===!0),a=Xn(3,null,null,a===2?7:a===1?3:0),s.current=a,a.stateNode=s,iu(a),r[_a]=s.current,mp(r.nodeType===8?r.parentNode:r),p)for(r=0;r<p.length;r++){var g=(a=p[r])._getVersion;g=g(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,g]:s.mutableSourceEagerHydrationData.push(a,g)}this._internalRoot=s}function $h(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Fh(r,a,s,p,g){var w=s._reactRootContainer;if(w){var E=w._internalRoot;if(typeof g=="function"){var O=g;g=function(){var F=Hu(E);O.call(F)}}El(a,E,r,g)}else{if(w=s._reactRootContainer=function(F,oe){if(oe||(oe=!(!(oe=F?F.nodeType===9?F.documentElement:F.firstChild:null)||oe.nodeType!==1||!oe.hasAttribute("data-reactroot"))),!oe)for(var ke;ke=F.lastChild;)F.removeChild(ke);return new Xu(F,0,oe?{hydrate:!0}:void 0)}(s,p),E=w._internalRoot,typeof g=="function"){var R=g;g=function(){var F=Hu(E);R.call(F)}}jh(function(){El(a,E,r,g)})}return Hu(E)}Ah=function(r,a,s){var p=a.lanes;if(r!==null)if(r.memoizedProps!==a.pendingProps||Sn.current)ir=!0;else{if(!(s&p)){switch(ir=!1,a.tag){case 3:fh(a),du();break;case 5:Xp(a);break;case 1:jn(a.type)&&Gs(a);break;case 4:lu(a,a.stateNode.containerInfo);break;case 10:p=a.memoizedProps.value;var g=a.type._context;Ft(Js,g._currentValue),g._currentValue=p;break;case 13:if(a.memoizedState!==null)return s&a.child.childLanes?gh(r,a,s):(Ft(qt,1&qt.current),(a=Qr(r,a,s))!==null?a.sibling:null);Ft(qt,1&qt.current);break;case 19:if(p=(s&a.childLanes)!=0,(64&r.flags)!=0){if(p)return bh(r,a,s);a.flags|=64}if((g=a.memoizedState)!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ft(qt,qt.current),p)break;return null;case 23:case 24:return a.lanes=0,ch(r,a,s)}return Qr(r,a,s)}ir=(16384&r.flags)!=0}else ir=!1;switch(a.lanes=0,a.tag){case 2:if(p=a.type,r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2),r=a.pendingProps,g=Oa(a,cn.current),ja(a,s),g=hu(null,a,p,r,g,s),a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0){if(a.tag=1,a.memoizedState=null,a.updateQueue=null,jn(p)){var w=!0;Gs(a)}else w=!1;a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,iu(a);var E=p.getDerivedStateFromProps;typeof E=="function"&&nl(a,p,E,r),g.updater=rl,a.stateNode=g,g._reactInternals=a,su(a,p,r,s),a=wu(null,a,p,!0,w,s)}else a.tag=0,Pn(null,a,g,s),a=a.child;return a;case 16:g=a.elementType;e:{switch(r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2),r=a.pendingProps,g=(w=g._init)(g._payload),a.type=g,w=a.tag=function(oe){if(typeof oe=="function")return $u(oe)?1:0;if(oe!=null){if((oe=oe.$$typeof)===Ke)return 11;if(oe===ft)return 14}return 2}(g),r=ar(g,r),w){case 0:a=bu(null,a,g,r,s);break e;case 1:a=dh(null,a,g,r,s);break e;case 11:a=ih(null,a,g,r,s);break e;case 14:a=sh(null,a,g,ar(g.type,r),p,s);break e}throw Error(y(306,g,""))}return a;case 0:return p=a.type,g=a.pendingProps,bu(r,a,p,g=a.elementType===p?g:ar(p,g),s);case 1:return p=a.type,g=a.pendingProps,dh(r,a,p,g=a.elementType===p?g:ar(p,g),s);case 3:if(fh(a),p=a.updateQueue,r===null||p===null)throw Error(y(282));if(p=a.pendingProps,g=(g=a.memoizedState)!==null?g.element:null,Mp(r,a),Ii(a,p,null,s),(p=a.memoizedState.element)===g)du(),a=Qr(r,a,s);else{if((w=(g=a.stateNode).hydrate)&&(vo=Ta(a.stateNode.containerInfo.firstChild),Wr=a,w=Er=!0),w){if((r=g.mutableSourceEagerHydrationData)!=null)for(g=0;g<r.length;g+=2)(w=r[g])._workInProgressVersionPrimary=r[g+1],Na.push(w);for(s=Vp(a,null,p,s),a.child=s;s;)s.flags=-3&s.flags|1024,s=s.sibling}else Pn(r,a,p,s),du();a=a.child}return a;case 5:return Xp(a),r===null&&uu(a),p=a.type,g=a.pendingProps,w=r!==null?r.memoizedProps:null,E=g.children,Xc(p,g)?E=null:w!==null&&Xc(p,w)&&(a.flags|=16),uh(r,a),Pn(r,a,E,s),a.child;case 6:return r===null&&uu(a),null;case 13:return gh(r,a,s);case 4:return lu(a,a.stateNode.containerInfo),p=a.pendingProps,r===null?a.child=il(a,null,p,s):Pn(r,a,p,s),a.child;case 11:return p=a.type,g=a.pendingProps,ih(r,a,p,g=a.elementType===p?g:ar(p,g),s);case 7:return Pn(r,a,a.pendingProps,s),a.child;case 8:case 12:return Pn(r,a,a.pendingProps.children,s),a.child;case 10:e:{p=a.type._context,g=a.pendingProps,E=a.memoizedProps,w=g.value;var O=a.type._context;if(Ft(Js,O._currentValue),O._currentValue=w,E!==null)if(O=E.value,(w=Un(O,w)?0:0|(typeof p._calculateChangedBits=="function"?p._calculateChangedBits(O,w):1073741823))==0){if(E.children===g.children&&!Sn.current){a=Qr(r,a,s);break e}}else for((O=a.child)!==null&&(O.return=a);O!==null;){var R=O.dependencies;if(R!==null){E=O.child;for(var F=R.firstContext;F!==null;){if(F.context===p&&F.observedBits&w){O.tag===1&&((F=go(-1,s&-s)).tag=2,yo(O,F)),O.lanes|=s,(F=O.alternate)!==null&&(F.lanes|=s),Dp(O.return,s),R.lanes|=s;break}F=F.next}}else E=O.tag===10&&O.type===a.type?null:O.child;if(E!==null)E.return=O;else for(E=O;E!==null;){if(E===a){E=null;break}if((O=E.sibling)!==null){O.return=E.return,E=O;break}E=E.return}O=E}Pn(r,a,g.children,s),a=a.child}return a;case 9:return g=a.type,p=(w=a.pendingProps).children,ja(a,s),p=p(g=qn(g,w.unstable_observedBits)),a.flags|=1,Pn(r,a,p,s),a.child;case 14:return w=ar(g=a.type,a.pendingProps),sh(r,a,g,w=ar(g.type,w),p,s);case 15:return lh(r,a,a.type,a.pendingProps,p,s);case 17:return p=a.type,g=a.pendingProps,g=a.elementType===p?g:ar(p,g),r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2),a.tag=1,jn(p)?(r=!0,Gs(a)):r=!1,ja(a,s),Up(a,p,g),su(a,p,g,s),wu(null,a,p,!0,r,s);case 19:return bh(r,a,s);case 23:case 24:return ch(r,a,s)}throw Error(y(156,a.tag))},Xu.prototype.render=function(r){El(r,this._internalRoot,null,null)},Xu.prototype.unmount=function(){var r=this._internalRoot,a=r.containerInfo;El(null,r,null,function(){a[_a]=null})},dt=function(r){r.tag===13&&(Co(r,4,Nn()),Vu(r,4))},pa=function(r){r.tag===13&&(Co(r,67108864,Nn()),Vu(r,67108864))},Ns=function(r){if(r.tag===13){var a=Nn(),s=xo(r);Co(r,s,a),Vu(r,s)}},Ls=function(r,a){return a()},He=function(r,a,s){switch(a){case"input":if(on(r,s),a=s.name,s.type==="radio"&&a!=null){for(s=r;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<s.length;a++){var p=s[a];if(p!==r&&p.form===r.form){var g=Kc(p);if(!g)throw Error(y(90));wn(p),on(p,g)}}}break;case"textarea":da(r,s);break;case"select":(a=s.value)!=null&&fr(r,!!s.multiple,a,!1)}},Nt=function(r,a){var s=ut;ut|=1;try{return r(a)}finally{(ut=s)===0&&(Ma(),Xr())}},Tt=function(r,a,s,p,g){var w=ut;ut|=4;try{return Aa(98,r.bind(null,a,s,p,g))}finally{(ut=w)===0&&(Ma(),Xr())}},Gt=function(){!(49&ut)&&(function(){if(Kr!==null){var r=Kr;Kr=null,r.forEach(function(a){a.expiredLanes|=24&a.pendingLanes,Vn(a,un())})}Xr()}(),Zo())},wt=function(r,a){var s=ut;ut|=2;try{return r(a)}finally{(ut=s)===0&&(Ma(),Xr())}};var Ki={findFiberByHostInstance:Vo,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},Mw={bundleType:Ki.bundleType,version:Ki.version,rendererPackageName:Ki.rendererPackageName,rendererConfig:Ki.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:me.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return(r=function(a){if(a=function(p){var g=p.alternate;if(!g){if((g=Br(p))===null)throw Error(y(188));return g!==p?null:p}for(var w=p,E=g;;){var O=w.return;if(O===null)break;var R=O.alternate;if(R===null){if((E=O.return)!==null){w=E;continue}break}if(O.child===R.child){for(R=O.child;R;){if(R===w)return fa(O),p;if(R===E)return fa(O),g;R=R.sibling}throw Error(y(188))}if(w.return!==E.return)w=O,E=R;else{for(var F=!1,oe=O.child;oe;){if(oe===w){F=!0,w=O,E=R;break}if(oe===E){F=!0,E=O,w=R;break}oe=oe.sibling}if(!F){for(oe=R.child;oe;){if(oe===w){F=!0,w=R,E=O;break}if(oe===E){F=!0,E=R,w=O;break}oe=oe.sibling}if(!F)throw Error(y(189))}}if(w.alternate!==E)throw Error(y(190))}if(w.tag!==3)throw Error(y(188));return w.stateNode.current===w?p:g}(a),!a)return null;for(var s=a;;){if(s.tag===5||s.tag===6)return s;if(s.child)s.child.return=s,s=s.child;else{if(s===a)break;for(;!s.sibling;){if(!s.return||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}}return null}(r))===null?null:r.stateNode},findFiberByHostInstance:Ki.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sl.isDisabled&&Sl.supportsFiber)try{Zc=Sl.inject(Mw),Wo=Sl}catch{}}u.render=function(r,a,s){if(!$h(a))throw Error(y(200));return Fh(null,r,a,!1,s)},u.unmountComponentAtNode=function(r){if(!$h(r))throw Error(y(40));return!!r._reactRootContainer&&(jh(function(){Fh(null,null,r,!1,function(){r._reactRootContainer=null,r[_a]=null})}),!0)}},935:(c,u,f)=>{(function m(){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE=="function")try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(h){console.error(h)}})(),c.exports=f(448)},590:c=>{var u=typeof Element<"u",f=typeof Map=="function",m=typeof Set=="function",h=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function v(y,b){if(y===b)return!0;if(y&&b&&typeof y=="object"&&typeof b=="object"){if(y.constructor!==b.constructor)return!1;var x,S,k,A;if(Array.isArray(y)){if((x=y.length)!=b.length)return!1;for(S=x;S--!=0;)if(!v(y[S],b[S]))return!1;return!0}if(f&&y instanceof Map&&b instanceof Map){if(y.size!==b.size)return!1;for(A=y.entries();!(S=A.next()).done;)if(!b.has(S.value[0]))return!1;for(A=y.entries();!(S=A.next()).done;)if(!v(S.value[1],b.get(S.value[0])))return!1;return!0}if(m&&y instanceof Set&&b instanceof Set){if(y.size!==b.size)return!1;for(A=y.entries();!(S=A.next()).done;)if(!b.has(S.value[0]))return!1;return!0}if(h&&ArrayBuffer.isView(y)&&ArrayBuffer.isView(b)){if((x=y.length)!=b.length)return!1;for(S=x;S--!=0;)if(y[S]!==b[S])return!1;return!0}if(y.constructor===RegExp)return y.source===b.source&&y.flags===b.flags;if(y.valueOf!==Object.prototype.valueOf)return y.valueOf()===b.valueOf();if(y.toString!==Object.prototype.toString)return y.toString()===b.toString();if((x=(k=Object.keys(y)).length)!==Object.keys(b).length)return!1;for(S=x;S--!=0;)if(!Object.prototype.hasOwnProperty.call(b,k[S]))return!1;if(u&&y instanceof Element)return!1;for(S=x;S--!=0;)if((k[S]!=="_owner"&&k[S]!=="__v"&&k[S]!=="__o"||!y.$$typeof)&&!v(y[k[S]],b[k[S]]))return!1;return!0}return y!=y&&b!=b}c.exports=function(y,b){try{return v(y,b)}catch(x){if((x.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw x}}},408:(c,u,f)=>{var m=f(418),h=60103,v=60106;u.Fragment=60107,u.StrictMode=60108,u.Profiler=60114;var y=60109,b=60110,x=60112;u.Suspense=60113;var S=60115,k=60116;if(typeof Symbol=="function"&&Symbol.for){var A=Symbol.for;h=A("react.element"),v=A("react.portal"),u.Fragment=A("react.fragment"),u.StrictMode=A("react.strict_mode"),u.Profiler=A("react.profiler"),y=A("react.provider"),b=A("react.context"),x=A("react.forward_ref"),u.Suspense=A("react.suspense"),S=A("react.memo"),k=A("react.lazy")}var L=typeof Symbol=="function"&&Symbol.iterator;function U(I){for(var M="https://reactjs.org/docs/error-decoder.html?invariant="+I,G=1;G<arguments.length;G++)M+="&args[]="+encodeURIComponent(arguments[G]);return"Minified React error #"+I+"; visit "+M+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee={};function D(I,M,G){this.props=I,this.context=M,this.refs=ee,this.updater=G||X}function j(){}function P(I,M,G){this.props=I,this.context=M,this.refs=ee,this.updater=G||X}D.prototype.isReactComponent={},D.prototype.setState=function(I,M){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error(U(85));this.updater.enqueueSetState(this,I,M,"setState")},D.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")},j.prototype=D.prototype;var q=P.prototype=new j;q.constructor=P,m(q,D.prototype),q.isPureReactComponent=!0;var fe={current:null},me=Object.prototype.hasOwnProperty,ge={key:!0,ref:!0,__self:!0,__source:!0};function ye(I,M,G){var ue,ae={},K=null,te=null;if(M!=null)for(ue in M.ref!==void 0&&(te=M.ref),M.key!==void 0&&(K=""+M.key),M)me.call(M,ue)&&!ge.hasOwnProperty(ue)&&(ae[ue]=M[ue]);var Ce=arguments.length-2;if(Ce===1)ae.children=G;else if(1<Ce){for(var Re=Array(Ce),Ee=0;Ee<Ce;Ee++)Re[Ee]=arguments[Ee+2];ae.children=Re}if(I&&I.defaultProps)for(ue in Ce=I.defaultProps)ae[ue]===void 0&&(ae[ue]=Ce[ue]);return{$$typeof:h,type:I,key:K,ref:te,props:ae,_owner:fe.current}}function Y(I){return typeof I=="object"&&I!==null&&I.$$typeof===h}var be=/\/+/g;function se(I,M){return typeof I=="object"&&I!==null&&I.key!=null?function(G){var ue={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(ae){return ue[ae]})}(""+I.key):M.toString(36)}function we(I,M,G,ue,ae){var K=typeof I;K!=="undefined"&&K!=="boolean"||(I=null);var te=!1;if(I===null)te=!0;else switch(K){case"string":case"number":te=!0;break;case"object":switch(I.$$typeof){case h:case v:te=!0}}if(te)return ae=ae(te=I),I=ue===""?"."+se(te,0):ue,Array.isArray(ae)?(G="",I!=null&&(G=I.replace(be,"$&/")+"/"),we(ae,M,G,"",function(Ee){return Ee})):ae!=null&&(Y(ae)&&(ae=function(Ee,ot){return{$$typeof:h,type:Ee.type,key:ot,ref:Ee.ref,props:Ee.props,_owner:Ee._owner}}(ae,G+(!ae.key||te&&te.key===ae.key?"":(""+ae.key).replace(be,"$&/")+"/")+I)),M.push(ae)),1;if(te=0,ue=ue===""?".":ue+":",Array.isArray(I))for(var Ce=0;Ce<I.length;Ce++){var Re=ue+se(K=I[Ce],Ce);te+=we(K,M,G,Re,ae)}else if(Re=function(Ee){return Ee===null||typeof Ee!="object"?null:typeof(Ee=L&&Ee[L]||Ee["@@iterator"])=="function"?Ee:null}(I),typeof Re=="function")for(I=Re.call(I),Ce=0;!(K=I.next()).done;)te+=we(K=K.value,M,G,Re=ue+se(K,Ce++),ae);else if(K==="object")throw M=""+I,Error(U(31,M==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":M));return te}function ze(I,M,G){if(I==null)return I;var ue=[],ae=0;return we(I,ue,"","",function(K){return M.call(G,K,ae++)}),ue}function Ke(I){if(I._status===-1){var M=I._result;M=M(),I._status=0,I._result=M,M.then(function(G){I._status===0&&(G=G.default,I._status=1,I._result=G)},function(G){I._status===0&&(I._status=2,I._result=G)})}if(I._status===1)return I._result;throw I._result}var Le={current:null};function Je(){var I=Le.current;if(I===null)throw Error(U(321));return I}var ft={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:fe,IsSomeRendererActing:{current:!1},assign:m};u.Children={map:ze,forEach:function(I,M,G){ze(I,function(){M.apply(this,arguments)},G)},count:function(I){var M=0;return ze(I,function(){M++}),M},toArray:function(I){return ze(I,function(M){return M})||[]},only:function(I){if(!Y(I))throw Error(U(143));return I}},u.Component=D,u.PureComponent=P,u.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ft,u.cloneElement=function(I,M,G){if(I==null)throw Error(U(267,I));var ue=m({},I.props),ae=I.key,K=I.ref,te=I._owner;if(M!=null){if(M.ref!==void 0&&(K=M.ref,te=fe.current),M.key!==void 0&&(ae=""+M.key),I.type&&I.type.defaultProps)var Ce=I.type.defaultProps;for(Re in M)me.call(M,Re)&&!ge.hasOwnProperty(Re)&&(ue[Re]=M[Re]===void 0&&Ce!==void 0?Ce[Re]:M[Re])}var Re=arguments.length-2;if(Re===1)ue.children=G;else if(1<Re){Ce=Array(Re);for(var Ee=0;Ee<Re;Ee++)Ce[Ee]=arguments[Ee+2];ue.children=Ce}return{$$typeof:h,type:I.type,key:ae,ref:K,props:ue,_owner:te}},u.createContext=function(I,M){return M===void 0&&(M=null),(I={$$typeof:b,_calculateChangedBits:M,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:y,_context:I},I.Consumer=I},u.createElement=ye,u.createFactory=function(I){var M=ye.bind(null,I);return M.type=I,M},u.createRef=function(){return{current:null}},u.forwardRef=function(I){return{$$typeof:x,render:I}},u.isValidElement=Y,u.lazy=function(I){return{$$typeof:k,_payload:{_status:-1,_result:I},_init:Ke}},u.memo=function(I,M){return{$$typeof:S,type:I,compare:M===void 0?null:M}},u.useCallback=function(I,M){return Je().useCallback(I,M)},u.useContext=function(I,M){return Je().useContext(I,M)},u.useDebugValue=function(){},u.useEffect=function(I,M){return Je().useEffect(I,M)},u.useImperativeHandle=function(I,M,G){return Je().useImperativeHandle(I,M,G)},u.useLayoutEffect=function(I,M){return Je().useLayoutEffect(I,M)},u.useMemo=function(I,M){return Je().useMemo(I,M)},u.useReducer=function(I,M,G){return Je().useReducer(I,M,G)},u.useRef=function(I){return Je().useRef(I)},u.useState=function(I){return Je().useState(I)},u.version="17.0.2"},294:(c,u,f)=>{c.exports=f(408)},666:c=>{var u=function(f){var m,h=Object.prototype,v=h.hasOwnProperty,y=typeof Symbol=="function"?Symbol:{},b=y.iterator||"@@iterator",x=y.asyncIterator||"@@asyncIterator",S=y.toStringTag||"@@toStringTag";function k(I,M,G){return Object.defineProperty(I,M,{value:G,enumerable:!0,configurable:!0,writable:!0}),I[M]}try{k({},"")}catch{k=function(M,G,ue){return M[G]=ue}}function A(I,M,G,ue){var ae=M&&M.prototype instanceof P?M:P,K=Object.create(ae.prototype),te=new Le(ue||[]);return K._invoke=function(Ce,Re,Ee){var ot=U;return function(St,Vt){if(ot===ee)throw new Error("Generator is already running");if(ot===D){if(St==="throw")throw Vt;return ft()}for(Ee.method=St,Ee.arg=Vt;;){var Ot=Ee.delegate;if(Ot){var xt=we(Ot,Ee);if(xt){if(xt===j)continue;return xt}}if(Ee.method==="next")Ee.sent=Ee._sent=Ee.arg;else if(Ee.method==="throw"){if(ot===U)throw ot=D,Ee.arg;Ee.dispatchException(Ee.arg)}else Ee.method==="return"&&Ee.abrupt("return",Ee.arg);ot=ee;var lt=L(Ce,Re,Ee);if(lt.type==="normal"){if(ot=Ee.done?D:X,lt.arg===j)continue;return{value:lt.arg,done:Ee.done}}lt.type==="throw"&&(ot=D,Ee.method="throw",Ee.arg=lt.arg)}}}(I,G,te),K}function L(I,M,G){try{return{type:"normal",arg:I.call(M,G)}}catch(ue){return{type:"throw",arg:ue}}}f.wrap=A;var U="suspendedStart",X="suspendedYield",ee="executing",D="completed",j={};function P(){}function q(){}function fe(){}var me={};k(me,b,function(){return this});var ge=Object.getPrototypeOf,ye=ge&&ge(ge(Je([])));ye&&ye!==h&&v.call(ye,b)&&(me=ye);var Y=fe.prototype=P.prototype=Object.create(me);function be(I){["next","throw","return"].forEach(function(M){k(I,M,function(G){return this._invoke(M,G)})})}function se(I,M){function G(ae,K,te,Ce){var Re=L(I[ae],I,K);if(Re.type!=="throw"){var Ee=Re.arg,ot=Ee.value;return ot&&typeof ot=="object"&&v.call(ot,"__await")?M.resolve(ot.__await).then(function(St){G("next",St,te,Ce)},function(St){G("throw",St,te,Ce)}):M.resolve(ot).then(function(St){Ee.value=St,te(Ee)},function(St){return G("throw",St,te,Ce)})}Ce(Re.arg)}var ue;this._invoke=function(ae,K){function te(){return new M(function(Ce,Re){G(ae,K,Ce,Re)})}return ue=ue?ue.then(te,te):te()}}function we(I,M){var G=I.iterator[M.method];if(G===m){if(M.delegate=null,M.method==="throw"){if(I.iterator.return&&(M.method="return",M.arg=m,we(I,M),M.method==="throw"))return j;M.method="throw",M.arg=new TypeError("The iterator does not provide a 'throw' method")}return j}var ue=L(G,I.iterator,M.arg);if(ue.type==="throw")return M.method="throw",M.arg=ue.arg,M.delegate=null,j;var ae=ue.arg;return ae?ae.done?(M[I.resultName]=ae.value,M.next=I.nextLoc,M.method!=="return"&&(M.method="next",M.arg=m),M.delegate=null,j):ae:(M.method="throw",M.arg=new TypeError("iterator result is not an object"),M.delegate=null,j)}function ze(I){var M={tryLoc:I[0]};1 in I&&(M.catchLoc=I[1]),2 in I&&(M.finallyLoc=I[2],M.afterLoc=I[3]),this.tryEntries.push(M)}function Ke(I){var M=I.completion||{};M.type="normal",delete M.arg,I.completion=M}function Le(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(ze,this),this.reset(!0)}function Je(I){if(I){var M=I[b];if(M)return M.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var G=-1,ue=function ae(){for(;++G<I.length;)if(v.call(I,G))return ae.value=I[G],ae.done=!1,ae;return ae.value=m,ae.done=!0,ae};return ue.next=ue}}return{next:ft}}function ft(){return{value:m,done:!0}}return q.prototype=fe,k(Y,"constructor",fe),k(fe,"constructor",q),q.displayName=k(fe,S,"GeneratorFunction"),f.isGeneratorFunction=function(I){var M=typeof I=="function"&&I.constructor;return!!M&&(M===q||(M.displayName||M.name)==="GeneratorFunction")},f.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,fe):(I.__proto__=fe,k(I,S,"GeneratorFunction")),I.prototype=Object.create(Y),I},f.awrap=function(I){return{__await:I}},be(se.prototype),k(se.prototype,x,function(){return this}),f.AsyncIterator=se,f.async=function(I,M,G,ue,ae){ae===void 0&&(ae=Promise);var K=new se(A(I,M,G,ue),ae);return f.isGeneratorFunction(M)?K:K.next().then(function(te){return te.done?te.value:K.next()})},be(Y),k(Y,S,"Generator"),k(Y,b,function(){return this}),k(Y,"toString",function(){return"[object Generator]"}),f.keys=function(I){var M=[];for(var G in I)M.push(G);return M.reverse(),function ue(){for(;M.length;){var ae=M.pop();if(ae in I)return ue.value=ae,ue.done=!1,ue}return ue.done=!0,ue}},f.values=Je,Le.prototype={constructor:Le,reset:function(I){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(Ke),!I)for(var M in this)M.charAt(0)==="t"&&v.call(this,M)&&!isNaN(+M.slice(1))&&(this[M]=m)},stop:function(){this.done=!0;var I=this.tryEntries[0].completion;if(I.type==="throw")throw I.arg;return this.rval},dispatchException:function(I){if(this.done)throw I;var M=this;function G(Re,Ee){return K.type="throw",K.arg=I,M.next=Re,Ee&&(M.method="next",M.arg=m),!!Ee}for(var ue=this.tryEntries.length-1;ue>=0;--ue){var ae=this.tryEntries[ue],K=ae.completion;if(ae.tryLoc==="root")return G("end");if(ae.tryLoc<=this.prev){var te=v.call(ae,"catchLoc"),Ce=v.call(ae,"finallyLoc");if(te&&Ce){if(this.prev<ae.catchLoc)return G(ae.catchLoc,!0);if(this.prev<ae.finallyLoc)return G(ae.finallyLoc)}else if(te){if(this.prev<ae.catchLoc)return G(ae.catchLoc,!0)}else{if(!Ce)throw new Error("try statement without catch or finally");if(this.prev<ae.finallyLoc)return G(ae.finallyLoc)}}}},abrupt:function(I,M){for(var G=this.tryEntries.length-1;G>=0;--G){var ue=this.tryEntries[G];if(ue.tryLoc<=this.prev&&v.call(ue,"finallyLoc")&&this.prev<ue.finallyLoc){var ae=ue;break}}ae&&(I==="break"||I==="continue")&&ae.tryLoc<=M&&M<=ae.finallyLoc&&(ae=null);var K=ae?ae.completion:{};return K.type=I,K.arg=M,ae?(this.method="next",this.next=ae.finallyLoc,j):this.complete(K)},complete:function(I,M){if(I.type==="throw")throw I.arg;return I.type==="break"||I.type==="continue"?this.next=I.arg:I.type==="return"?(this.rval=this.arg=I.arg,this.method="return",this.next="end"):I.type==="normal"&&M&&(this.next=M),j},finish:function(I){for(var M=this.tryEntries.length-1;M>=0;--M){var G=this.tryEntries[M];if(G.finallyLoc===I)return this.complete(G.completion,G.afterLoc),Ke(G),j}},catch:function(I){for(var M=this.tryEntries.length-1;M>=0;--M){var G=this.tryEntries[M];if(G.tryLoc===I){var ue=G.completion;if(ue.type==="throw"){var ae=ue.arg;Ke(G)}return ae}}throw new Error("illegal catch attempt")},delegateYield:function(I,M,G){return this.delegate={iterator:Je(I),resultName:M,nextLoc:G},this.method==="next"&&(this.arg=m),j}},f}(c.exports);try{regeneratorRuntime=u}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=u:Function("r","regeneratorRuntime = r")(u)}},53:(c,u)=>{var f,m,h,v;if(typeof performance=="object"&&typeof performance.now=="function"){var y=performance;u.unstable_now=function(){return y.now()}}else{var b=Date,x=b.now();u.unstable_now=function(){return b.now()-x}}if(typeof window>"u"||typeof MessageChannel!="function"){var S=null,k=null,A=function(){if(S!==null)try{var K=u.unstable_now();S(!0,K),S=null}catch(te){throw setTimeout(A,0),te}};f=function(K){S!==null?setTimeout(f,0,K):(S=K,setTimeout(A,0))},m=function(K,te){k=setTimeout(K,te)},h=function(){clearTimeout(k)},u.unstable_shouldYield=function(){return!1},v=u.unstable_forceFrameRate=function(){}}else{var L=window.setTimeout,U=window.clearTimeout;if(typeof console<"u"){var X=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof X!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var ee=!1,D=null,j=-1,P=5,q=0;u.unstable_shouldYield=function(){return u.unstable_now()>=q},v=function(){},u.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<K?Math.floor(1e3/K):5};var fe=new MessageChannel,me=fe.port2;fe.port1.onmessage=function(){if(D!==null){var K=u.unstable_now();q=K+P;try{D(!0,K)?me.postMessage(null):(ee=!1,D=null)}catch(te){throw me.postMessage(null),te}}else ee=!1},f=function(K){D=K,ee||(ee=!0,me.postMessage(null))},m=function(K,te){j=L(function(){K(u.unstable_now())},te)},h=function(){U(j),j=-1}}function ge(K,te){var Ce=K.length;K.push(te);e:for(;;){var Re=Ce-1>>>1,Ee=K[Re];if(!(Ee!==void 0&&0<be(Ee,te)))break e;K[Re]=te,K[Ce]=Ee,Ce=Re}}function ye(K){return(K=K[0])===void 0?null:K}function Y(K){var te=K[0];if(te!==void 0){var Ce=K.pop();if(Ce!==te){K[0]=Ce;e:for(var Re=0,Ee=K.length;Re<Ee;){var ot=2*(Re+1)-1,St=K[ot],Vt=ot+1,Ot=K[Vt];if(St!==void 0&&0>be(St,Ce))Ot!==void 0&&0>be(Ot,St)?(K[Re]=Ot,K[Vt]=Ce,Re=Vt):(K[Re]=St,K[ot]=Ce,Re=ot);else{if(!(Ot!==void 0&&0>be(Ot,Ce)))break e;K[Re]=Ot,K[Vt]=Ce,Re=Vt}}}return te}return null}function be(K,te){var Ce=K.sortIndex-te.sortIndex;return Ce!==0?Ce:K.id-te.id}var se=[],we=[],ze=1,Ke=null,Le=3,Je=!1,ft=!1,I=!1;function M(K){for(var te=ye(we);te!==null;){if(te.callback===null)Y(we);else{if(!(te.startTime<=K))break;Y(we),te.sortIndex=te.expirationTime,ge(se,te)}te=ye(we)}}function G(K){if(I=!1,M(K),!ft)if(ye(se)!==null)ft=!0,f(ue);else{var te=ye(we);te!==null&&m(G,te.startTime-K)}}function ue(K,te){ft=!1,I&&(I=!1,h()),Je=!0;var Ce=Le;try{for(M(te),Ke=ye(se);Ke!==null&&(!(Ke.expirationTime>te)||K&&!u.unstable_shouldYield());){var Re=Ke.callback;if(typeof Re=="function"){Ke.callback=null,Le=Ke.priorityLevel;var Ee=Re(Ke.expirationTime<=te);te=u.unstable_now(),typeof Ee=="function"?Ke.callback=Ee:Ke===ye(se)&&Y(se),M(te)}else Y(se);Ke=ye(se)}if(Ke!==null)var ot=!0;else{var St=ye(we);St!==null&&m(G,St.startTime-te),ot=!1}return ot}finally{Ke=null,Le=Ce,Je=!1}}var ae=v;u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(K){K.callback=null},u.unstable_continueExecution=function(){ft||Je||(ft=!0,f(ue))},u.unstable_getCurrentPriorityLevel=function(){return Le},u.unstable_getFirstCallbackNode=function(){return ye(se)},u.unstable_next=function(K){switch(Le){case 1:case 2:case 3:var te=3;break;default:te=Le}var Ce=Le;Le=te;try{return K()}finally{Le=Ce}},u.unstable_pauseExecution=function(){},u.unstable_requestPaint=ae,u.unstable_runWithPriority=function(K,te){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var Ce=Le;Le=K;try{return te()}finally{Le=Ce}},u.unstable_scheduleCallback=function(K,te,Ce){var Re=u.unstable_now();switch(Ce=typeof Ce=="object"&&Ce!==null&&typeof(Ce=Ce.delay)=="number"&&0<Ce?Re+Ce:Re,K){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return K={id:ze++,callback:te,priorityLevel:K,startTime:Ce,expirationTime:Ee=Ce+Ee,sortIndex:-1},Ce>Re?(K.sortIndex=Ce,ge(we,K),ye(se)===null&&K===ye(we)&&(I?h():I=!0,m(G,Ce-Re))):(K.sortIndex=Ee,ge(se,K),ft||Je||(ft=!0,f(ue))),K},u.unstable_wrapCallback=function(K){var te=Le;return function(){var Ce=Le;Le=te;try{return K.apply(this,arguments)}finally{Le=Ce}}}},840:(c,u,f)=>{c.exports=f(53)},285:(c,u,f)=>{var m;c.exports=(m=f(294),function(h){var v={};function y(b){if(v[b])return v[b].exports;var x=v[b]={i:b,l:!1,exports:{}};return h[b].call(x.exports,x,x.exports,y),x.l=!0,x.exports}return y.m=h,y.c=v,y.d=function(b,x,S){y.o(b,x)||Object.defineProperty(b,x,{enumerable:!0,get:S})},y.r=function(b){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})},y.t=function(b,x){if(1&x&&(b=y(b)),8&x||4&x&&typeof b=="object"&&b&&b.__esModule)return b;var S=Object.create(null);if(y.r(S),Object.defineProperty(S,"default",{enumerable:!0,value:b}),2&x&&typeof b!="string")for(var k in b)y.d(S,k,function(A){return b[A]}.bind(null,k));return S},y.n=function(b){var x=b&&b.__esModule?function(){return b.default}:function(){return b};return y.d(x,"a",x),x},y.o=function(b,x){return Object.prototype.hasOwnProperty.call(b,x)},y.p="",y(y.s=9)}([function(h,v){h.exports=m},function(h,v,y){var b;(function(){var x={}.hasOwnProperty;function S(){for(var k=[],A=0;A<arguments.length;A++){var L=arguments[A];if(L){var U=typeof L;if(U==="string"||U==="number")k.push(L);else if(Array.isArray(L)){if(L.length){var X=S.apply(null,L);X&&k.push(X)}}else if(U==="object")if(L.toString===Object.prototype.toString)for(var ee in L)x.call(L,ee)&&L[ee]&&k.push(ee);else k.push(L.toString())}}return k.join(" ")}h.exports?(S.default=S,h.exports=S):(b=function(){return S}.apply(v,[]))===void 0||(h.exports=b)})()},function(h,v,y){h.exports={count:"Count__count___VwSFw",label:"Count__label___UClje",smallLabel:"Count__smallLabel___E3KvK",iconCountWrapper:"Count__iconCountWrapper___CTSi2",sectionTallyIconCountWrapper:"Count__sectionTallyIconCountWrapper___lTlUR",expandedIconCount:"Count__expandedIconCount___c3tc2",number:"Count__number___4oBqJ",smallNumber:"Count__smallNumber___wi6E7",horizontal:"Count__horizontal___wp4Sz",small:"Count__small___kecST"}},function(h,v,y){h.exports={sectionTallyWidget:"SectionTally__sectionTallyWidget___aaCj5",sectionTallyWrapper:"SectionTally__sectionTallyWrapper___nwj2j",tally:"SectionTally__tally___es9p7",badgeTally:"SectionTally__badgeTally___ZYqar",horizontal:"SectionTally__horizontal___-hgL+",show:"SectionTally__show___wciqp",logo:"SectionTally__logo___pEojg",logoSmall:"SectionTally__logoSmall___yzxV+",small:"SectionTally__small___QBk26",forceCollapse:"SectionTally__forceCollapse___MexwG",chartSubheading:"SectionTally__chartSubheading___tm7gz",chartLabel:"SectionTally__chartLabel___Nm4F+"}},function(h,v,y){h.exports={tally:"Tally__tally___wF-n7",badgeTally:"Tally__badgeTally___AkCwi",horizontal:"Tally__horizontal___TYyqc",show:"Tally__show___EesAt",logo:"Tally__logo___k79zv",logoSmall:"Tally__logoSmall___JZuyy",small:"Tally__small___lrym1",forceCollapse:"Tally__forceCollapse___4k5aa"}},function(h,v,y){h.exports={tally:"HideableTally__tally___TXiqB",hideContainer:"HideableTally__hideContainer___w5Wlj",logoSingleLetter:"HideableTally__logoSingleLetter___OwmJA",logoContainer:"HideableTally__logoContainer___kXnxF",openingArrow:"HideableTally__openingArrow___yBpbp",closingArrow:"HideableTally__closingArrow___pKIyO"}},function(h,v,y){const b=y(10),x=y(11),S=y(12),k=y(13);function A(P){if(typeof P!="string"||P.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function L(P,q){return q.encode?q.strict?b(P):encodeURIComponent(P):P}function U(P,q){return q.decode?x(P):P}function X(P){const q=P.indexOf("#");return q!==-1&&(P=P.slice(0,q)),P}function ee(P){const q=(P=X(P)).indexOf("?");return q===-1?"":P.slice(q+1)}function D(P,q){return q.parseNumbers&&!Number.isNaN(Number(P))&&typeof P=="string"&&P.trim()!==""?P=Number(P):!q.parseBooleans||P===null||P.toLowerCase()!=="true"&&P.toLowerCase()!=="false"||(P=P.toLowerCase()==="true"),P}function j(P,q){A((q=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},q)).arrayFormatSeparator);const fe=function(ge){let ye;switch(ge.arrayFormat){case"index":return(Y,be,se)=>{ye=/\[(\d*)\]$/.exec(Y),Y=Y.replace(/\[\d*\]$/,""),ye?(se[Y]===void 0&&(se[Y]={}),se[Y][ye[1]]=be):se[Y]=be};case"bracket":return(Y,be,se)=>{ye=/(\[\])$/.exec(Y),Y=Y.replace(/\[\]$/,""),ye?se[Y]!==void 0?se[Y]=[].concat(se[Y],be):se[Y]=[be]:se[Y]=be};case"comma":case"separator":return(Y,be,se)=>{const we=typeof be=="string"&&be.includes(ge.arrayFormatSeparator),ze=typeof be=="string"&&!we&&U(be,ge).includes(ge.arrayFormatSeparator);be=ze?U(be,ge):be;const Ke=we||ze?be.split(ge.arrayFormatSeparator).map(Le=>U(Le,ge)):be===null?be:U(be,ge);se[Y]=Ke};default:return(Y,be,se)=>{se[Y]!==void 0?se[Y]=[].concat(se[Y],be):se[Y]=be}}}(q),me=Object.create(null);if(typeof P!="string"||!(P=P.trim().replace(/^[?#&]/,"")))return me;for(const ge of P.split("&")){if(ge==="")continue;let[ye,Y]=S(q.decode?ge.replace(/\+/g," "):ge,"=");Y=Y===void 0?null:["comma","separator"].includes(q.arrayFormat)?Y:U(Y,q),fe(U(ye,q),Y,me)}for(const ge of Object.keys(me)){const ye=me[ge];if(typeof ye=="object"&&ye!==null)for(const Y of Object.keys(ye))ye[Y]=D(ye[Y],q);else me[ge]=D(ye,q)}return q.sort===!1?me:(q.sort===!0?Object.keys(me).sort():Object.keys(me).sort(q.sort)).reduce((ge,ye)=>{const Y=me[ye];return Y&&typeof Y=="object"&&!Array.isArray(Y)?ge[ye]=function be(se){return Array.isArray(se)?se.sort():typeof se=="object"?be(Object.keys(se)).sort((we,ze)=>Number(we)-Number(ze)).map(we=>se[we]):se}(Y):ge[ye]=Y,ge},Object.create(null))}v.extract=ee,v.parse=j,v.stringify=(P,q)=>{if(!P)return"";A((q=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},q)).arrayFormatSeparator);const fe=Y=>q.skipNull&&P[Y]==null||q.skipEmptyString&&P[Y]==="",me=function(Y){switch(Y.arrayFormat){case"index":return be=>(se,we)=>{const ze=se.length;return we===void 0||Y.skipNull&&we===null||Y.skipEmptyString&&we===""?se:we===null?[...se,[L(be,Y),"[",ze,"]"].join("")]:[...se,[L(be,Y),"[",L(ze,Y),"]=",L(we,Y)].join("")]};case"bracket":return be=>(se,we)=>we===void 0||Y.skipNull&&we===null||Y.skipEmptyString&&we===""?se:we===null?[...se,[L(be,Y),"[]"].join("")]:[...se,[L(be,Y),"[]=",L(we,Y)].join("")];case"comma":case"separator":return be=>(se,we)=>we==null||we.length===0?se:se.length===0?[[L(be,Y),"=",L(we,Y)].join("")]:[[se,L(we,Y)].join(Y.arrayFormatSeparator)];default:return be=>(se,we)=>we===void 0||Y.skipNull&&we===null||Y.skipEmptyString&&we===""?se:we===null?[...se,L(be,Y)]:[...se,[L(be,Y),"=",L(we,Y)].join("")]}}(q),ge={};for(const Y of Object.keys(P))fe(Y)||(ge[Y]=P[Y]);const ye=Object.keys(ge);return q.sort!==!1&&ye.sort(q.sort),ye.map(Y=>{const be=P[Y];return be===void 0?"":be===null?L(Y,q):Array.isArray(be)?be.reduce(me(Y),[]).join("&"):L(Y,q)+"="+L(be,q)}).filter(Y=>Y.length>0).join("&")},v.parseUrl=(P,q)=>{q=Object.assign({decode:!0},q);const[fe,me]=S(P,"#");return Object.assign({url:fe.split("?")[0]||"",query:j(ee(P),q)},q&&q.parseFragmentIdentifier&&me?{fragmentIdentifier:U(me,q)}:{})},v.stringifyUrl=(P,q)=>{q=Object.assign({encode:!0,strict:!0},q);const fe=X(P.url).split("?")[0]||"",me=v.extract(P.url),ge=v.parse(me,{sort:!1}),ye=Object.assign(ge,P.query);let Y=v.stringify(ye,q);Y&&(Y="?"+Y);let be=function(se){let we="";const ze=se.indexOf("#");return ze!==-1&&(we=se.slice(ze)),we}(P.url);return P.fragmentIdentifier&&(be="#"+L(P.fragmentIdentifier,q)),`${fe}${Y}${be}`},v.pick=(P,q,fe)=>{fe=Object.assign({parseFragmentIdentifier:!0},fe);const{url:me,query:ge,fragmentIdentifier:ye}=v.parseUrl(P,fe);return v.stringifyUrl({url:me,query:k(ge,q),fragmentIdentifier:ye},fe)},v.exclude=(P,q,fe)=>{const me=Array.isArray(q)?ge=>!q.includes(ge):(ge,ye)=>!q(ge,ye);return v.pick(P,me,fe)}},function(h,v,y){h.exports={icon:"Icon__icon___rkFdu",unclassified:"Icon__unclassified___KG7dh",contrasting:"Icon__contrasting___XemUp",mentioning:"Icon__mentioning___eZSXr",supporting:"Icon__supporting___6A01H",retractions:"Icon__retractions___+fJ+N",notices:"Icon__notices___DbL2K",publications:"Icon__publications___3dd2q",smallIcon:"Icon__smallIcon___3rDRZ",openingArrow:"Icon__openingArrow___pSL8O",closingCaret:"Icon__closingCaret___EMT7i"}},function(h,v,y){h.exports={sectionIcon:"SectionIcon__sectionIcon___nqPTw",introduction:"SectionIcon__introduction___uhUFG",methods:"SectionIcon__methods___RVooU",results:"SectionIcon__results___1k9LI",discussion:"SectionIcon__discussion___Qeyb0",other:"SectionIcon__other___uF+vV",smallSectionIcon:"SectionIcon__smallSectionIcon___nCjHN"}},function(h,v,y){y.r(v),y.d(v,"HideableTally",function(){return we}),y.d(v,"Tally",function(){return Y}),y.d(v,"Count",function(){return P}),y.d(v,"TallyLoader",function(){return xn}),y.d(v,"SectionTally",function(){return ui}),y.d(v,"SectionTallyCount",function(){return Bn});var b=y(0),x=y.n(b),S=y(6),k=y.n(S),A=y(1),L=y.n(A),U=y(7),X=y.n(U),ee=({type:z,small:ne=!1})=>x.a.createElement("i",{className:L()(X.a.icon,X.a[z],{[X.a.smallIcon]:ne})}),D=y(2),j=y.n(D),P=({className:z,horizontal:ne,type:Se,count:De,showLabels:ve=!1,small:Te=!1})=>x.a.createElement("div",{className:L()(j.a.count,z,{[j.a.horizontal]:ne,[j.a.small]:Te})},ve&&x.a.createElement("span",{className:L()(j.a.label,{[j.a.smallLabel]:Te})},Se),x.a.createElement("div",{className:L()(j.a.iconCountWrapper,{[j.a.expandedIconCount]:!ve})},x.a.createElement(ee,{type:Se,small:!0}),x.a.createElement("span",{className:L()(j.a.number,{[j.a.smallNumber]:Te})},De))),q=y(4),fe=y.n(q);const me=["retract","withdraw","remove"],ge=z=>{for(const ne of me)if(z&&z.toLowerCase().includes(ne))return!1;return!0},ye=z=>{for(const ne of me)if(z&&z.toLowerCase().includes(ne))return!0;return!1};var Y=({source:z,campaign:ne,autologin:Se,rewardfulID:De,tally:ve,forceCollapse:Te,showLabels:He,notices:je,small:$e=!1,horizontal:at=!1,isBadge:At=!1,showZero:pt=!0,showLogo:Nt=!0})=>{const Tt={utm_medium:At?"badge":"plugin",utm_source:z||"generic",utm_campaign:ne||At?"badge":"plugin"};Se&&(Tt.autologin=Se),De&&(Tt.via=De);const Gt=k.a.stringify(Tt),wt={tally:L()("scite-tally",fe.a.tally,{[fe.a.horizontal]:at,[fe.a.small]:$e&&at,[fe.a.show]:pt?ve:ve&&(ve.total>0||ve.citingPublications>0),[fe.a.forceCollapse]:Te&&ve.total===0&&ve.citingPublications===0,[fe.a.badgeTally]:At})},Yt=ve&&ve.citingPublications&&ve.citingPublications.toLocaleString()||0,an=ve&&ve.supporting&&ve.supporting.toLocaleString()||0,mr=ve&&ve.contradicting&&ve.contradicting.toLocaleString()||0,An=ve&&ve.mentioning&&ve.mentioning.toLocaleString()||0,or=je&&je.length>0&&je.filter(ye)||[],Cn=je&&je.length>0&&je.filter(ge)||[],zn=or.length.toLocaleString()||0,sn=Cn.length.toLocaleString()||0;return x.a.createElement("div",{className:wt.tally,onClick:()=>{window.open(`https://scite.ai/reports/${ve&&ve.doi}?${Gt}`)}},!at&&Nt&&x.a.createElement("img",{className:L()(fe.a.logo,{[fe.a.logoSmall]:$e}),src:"https://cdn.scite.ai/assets/images/logo.svg"}),x.a.createElement(P,{type:"publications",count:Yt,horizontal:at,showLabels:He,small:$e}),x.a.createElement(P,{type:"supporting",count:an,horizontal:at,showLabels:He,small:$e}),x.a.createElement(P,{type:"mentioning",count:An,horizontal:at,showLabels:He,small:$e}),x.a.createElement(P,{type:"contrasting",count:mr,horizontal:at,showLabels:He,small:$e}),zn>0&&x.a.createElement(P,{type:"retractions",count:zn,horizontal:at,showLabels:He,small:$e}),sn>0&&x.a.createElement(P,{type:"notices",count:sn,horizontal:at,showLabels:He,small:$e}))},be=y(5),se=y.n(be),we=({children:z,hide:ne=!1,clickFn:Se=()=>{}})=>{const[De,ve]=Object(b.useState)(!ne),Te=()=>{ve(!De),Se()};return x.a.createElement("div",{className:se.a.tally},De?x.a.createElement(x.a.Fragment,null,z,x.a.createElement("div",{className:se.a.hideContainer,onClick:Te},x.a.createElement("div",{className:se.a.openingArrow},x.a.createElement(ee,{type:"openingArrow"})),x.a.createElement("div",null,"hide"))):x.a.createElement("div",{className:se.a.logoContainer,onClick:Te},x.a.createElement("div",{className:se.a.closingArrow},x.a.createElement(ee,{type:"closingCaret"})),x.a.createElement("img",{className:se.a.logoSingleLetter,src:"https://cdn.scite.ai/assets/images/scite_single_letter.svg"})))},ze=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||ze!==void 0&&ze,Ke="URLSearchParams"in ze,Le="Symbol"in ze&&"iterator"in Symbol,Je="FileReader"in ze&&"Blob"in ze&&function(){try{return new Blob,!0}catch{return!1}}(),ft="FormData"in ze,I="ArrayBuffer"in ze;if(I)var M=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],G=ArrayBuffer.isView||function(z){return z&&M.indexOf(Object.prototype.toString.call(z))>-1};function ue(z){if(typeof z!="string"&&(z=String(z)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(z)||z==="")throw new TypeError('Invalid character in header field name: "'+z+'"');return z.toLowerCase()}function ae(z){return typeof z!="string"&&(z=String(z)),z}function K(z){var ne={next:function(){var Se=z.shift();return{done:Se===void 0,value:Se}}};return Le&&(ne[Symbol.iterator]=function(){return ne}),ne}function te(z){this.map={},z instanceof te?z.forEach(function(ne,Se){this.append(Se,ne)},this):Array.isArray(z)?z.forEach(function(ne){this.append(ne[0],ne[1])},this):z&&Object.getOwnPropertyNames(z).forEach(function(ne){this.append(ne,z[ne])},this)}function Ce(z){if(z.bodyUsed)return Promise.reject(new TypeError("Already read"));z.bodyUsed=!0}function Re(z){return new Promise(function(ne,Se){z.onload=function(){ne(z.result)},z.onerror=function(){Se(z.error)}})}function Ee(z){var ne=new FileReader,Se=Re(ne);return ne.readAsArrayBuffer(z),Se}function ot(z){if(z.slice)return z.slice(0);var ne=new Uint8Array(z.byteLength);return ne.set(new Uint8Array(z)),ne.buffer}function St(){return this.bodyUsed=!1,this._initBody=function(z){var ne;this.bodyUsed=this.bodyUsed,this._bodyInit=z,z?typeof z=="string"?this._bodyText=z:Je&&Blob.prototype.isPrototypeOf(z)?this._bodyBlob=z:ft&&FormData.prototype.isPrototypeOf(z)?this._bodyFormData=z:Ke&&URLSearchParams.prototype.isPrototypeOf(z)?this._bodyText=z.toString():I&&Je&&(ne=z)&&DataView.prototype.isPrototypeOf(ne)?(this._bodyArrayBuffer=ot(z.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):I&&(ArrayBuffer.prototype.isPrototypeOf(z)||G(z))?this._bodyArrayBuffer=ot(z):this._bodyText=z=Object.prototype.toString.call(z):this._bodyText="",this.headers.get("content-type")||(typeof z=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Ke&&URLSearchParams.prototype.isPrototypeOf(z)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Je&&(this.blob=function(){var z=Ce(this);if(z)return z;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?Ce(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(Ee)}),this.text=function(){var z,ne,Se,De=Ce(this);if(De)return De;if(this._bodyBlob)return z=this._bodyBlob,Se=Re(ne=new FileReader),ne.readAsText(z),Se;if(this._bodyArrayBuffer)return Promise.resolve(function(ve){for(var Te=new Uint8Array(ve),He=new Array(Te.length),je=0;je<Te.length;je++)He[je]=String.fromCharCode(Te[je]);return He.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},ft&&(this.formData=function(){return this.text().then(xt)}),this.json=function(){return this.text().then(JSON.parse)},this}te.prototype.append=function(z,ne){z=ue(z),ne=ae(ne);var Se=this.map[z];this.map[z]=Se?Se+", "+ne:ne},te.prototype.delete=function(z){delete this.map[ue(z)]},te.prototype.get=function(z){return z=ue(z),this.has(z)?this.map[z]:null},te.prototype.has=function(z){return this.map.hasOwnProperty(ue(z))},te.prototype.set=function(z,ne){this.map[ue(z)]=ae(ne)},te.prototype.forEach=function(z,ne){for(var Se in this.map)this.map.hasOwnProperty(Se)&&z.call(ne,this.map[Se],Se,this)},te.prototype.keys=function(){var z=[];return this.forEach(function(ne,Se){z.push(Se)}),K(z)},te.prototype.values=function(){var z=[];return this.forEach(function(ne){z.push(ne)}),K(z)},te.prototype.entries=function(){var z=[];return this.forEach(function(ne,Se){z.push([Se,ne])}),K(z)},Le&&(te.prototype[Symbol.iterator]=te.prototype.entries);var Vt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Ot(z,ne){if(!(this instanceof Ot))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var Se,De,ve=(ne=ne||{}).body;if(z instanceof Ot){if(z.bodyUsed)throw new TypeError("Already read");this.url=z.url,this.credentials=z.credentials,ne.headers||(this.headers=new te(z.headers)),this.method=z.method,this.mode=z.mode,this.signal=z.signal,ve||z._bodyInit==null||(ve=z._bodyInit,z.bodyUsed=!0)}else this.url=String(z);if(this.credentials=ne.credentials||this.credentials||"same-origin",!ne.headers&&this.headers||(this.headers=new te(ne.headers)),this.method=(De=(Se=ne.method||this.method||"GET").toUpperCase(),Vt.indexOf(De)>-1?De:Se),this.mode=ne.mode||this.mode||null,this.signal=ne.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ve)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ve),!(this.method!=="GET"&&this.method!=="HEAD"||ne.cache!=="no-store"&&ne.cache!=="no-cache")){var Te=/([?&])_=[^&]*/;Te.test(this.url)?this.url=this.url.replace(Te,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function xt(z){var ne=new FormData;return z.trim().split("&").forEach(function(Se){if(Se){var De=Se.split("="),ve=De.shift().replace(/\+/g," "),Te=De.join("=").replace(/\+/g," ");ne.append(decodeURIComponent(ve),decodeURIComponent(Te))}}),ne}function lt(z,ne){if(!(this instanceof lt))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');ne||(ne={}),this.type="default",this.status=ne.status===void 0?200:ne.status,this.ok=this.status>=200&&this.status<300,this.statusText=ne.statusText===void 0?"":""+ne.statusText,this.headers=new te(ne.headers),this.url=ne.url||"",this._initBody(z)}Ot.prototype.clone=function(){return new Ot(this,{body:this._bodyInit})},St.call(Ot.prototype),St.call(lt.prototype),lt.prototype.clone=function(){return new lt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new te(this.headers),url:this.url})},lt.error=function(){var z=new lt(null,{status:0,statusText:""});return z.type="error",z};var Qt=[301,302,303,307,308];lt.redirect=function(z,ne){if(Qt.indexOf(ne)===-1)throw new RangeError("Invalid status code");return new lt(null,{status:ne,headers:{location:z}})};var mt=ze.DOMException;try{new mt}catch{(mt=function(ne,Se){this.message=ne,this.name=Se;var De=Error(ne);this.stack=De.stack}).prototype=Object.create(Error.prototype),mt.prototype.constructor=mt}function wn(z,ne){return new Promise(function(Se,De){var ve=new Ot(z,ne);if(ve.signal&&ve.signal.aborted)return De(new mt("Aborted","AbortError"));var Te=new XMLHttpRequest;function He(){Te.abort()}Te.onload=function(){var je,$e,at={status:Te.status,statusText:Te.statusText,headers:(je=Te.getAllResponseHeaders()||"",$e=new te,je.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(pt){return pt.indexOf(`
`)===0?pt.substr(1,pt.length):pt}).forEach(function(pt){var Nt=pt.split(":"),Tt=Nt.shift().trim();if(Tt){var Gt=Nt.join(":").trim();$e.append(Tt,Gt)}}),$e)};at.url="responseURL"in Te?Te.responseURL:at.headers.get("X-Request-URL");var At="response"in Te?Te.response:Te.responseText;setTimeout(function(){Se(new lt(At,at))},0)},Te.onerror=function(){setTimeout(function(){De(new TypeError("Network request failed"))},0)},Te.ontimeout=function(){setTimeout(function(){De(new TypeError("Network request failed"))},0)},Te.onabort=function(){setTimeout(function(){De(new mt("Aborted","AbortError"))},0)},Te.open(ve.method,function(je){try{return je===""&&ze.location.href?ze.location.href:je}catch{return je}}(ve.url),!0),ve.credentials==="include"?Te.withCredentials=!0:ve.credentials==="omit"&&(Te.withCredentials=!1),"responseType"in Te&&(Je?Te.responseType="blob":I&&ve.headers.get("Content-Type")&&ve.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(Te.responseType="arraybuffer")),!ne||typeof ne.headers!="object"||ne.headers instanceof te?ve.headers.forEach(function(je,$e){Te.setRequestHeader($e,je)}):Object.getOwnPropertyNames(ne.headers).forEach(function(je){Te.setRequestHeader(je,ae(ne.headers[je]))}),ve.signal&&(ve.signal.addEventListener("abort",He),Te.onreadystatechange=function(){Te.readyState===4&&ve.signal.removeEventListener("abort",He)}),Te.send(ve._bodyInit===void 0?null:ve._bodyInit)})}wn.polyfill=!0,ze.fetch||(ze.fetch=wn,ze.Headers=te,ze.Request=Ot,ze.Response=lt);const{fetch:rn}=window,pn=["retracted","has expression of concern","withdrawn","has erratum","has correction"];var xn=({doi:z,children:ne})=>{const[Se,De]=Object(b.useState)(null),[ve,Te]=Object(b.useState)(null),[He,je]=Object(b.useState)(null);return Object(b.useEffect)(()=>{(function $e({doi:at,setTally:At,setError:pt,retry:Nt=0,maxRetries:Tt=8}={}){const Gt=new Error("Failed to get Tally");rn("https://api.scite.ai/tallies/"+at).then(wt=>{if(wt.status===404)return At({doi:at,total:0,citingPublications:0}),{};if(!wt.ok)throw Gt;return wt.json()}).then(wt=>{typeof wt.total=="number"&&At(wt)}).catch(wt=>{if(wt===Gt&&Nt<Tt)return setTimeout(()=>$e({retry:++Nt,doi:at,setTally:At,setError:pt,maxRetries:Tt}),1200);pt(wt)})})({doi:z,setTally:De,setError:je}),function $e({doi:at,setNotices:At,setError:pt,retry:Nt=0,maxRetries:Tt=8}={}){const Gt=new Error("Failed to get notices");rn("https://api.scite.ai/papers/"+at).then(wt=>{if(wt.status===404)return At([]),{};if(!wt.ok)throw Gt;return wt.json()}).then(({editorialNotices:wt})=>{const Yt=[...new Set(wt.filter(({status:an})=>pn.includes(an.toLowerCase())).map(({status:an})=>an))];At(Yt)}).catch(wt=>{if(wt===Gt&&Nt<Tt)return setTimeout(()=>$e({retry:++Nt,doi:at,maxRetries:Tt,setError:pt,setNotices:At}),1200);pt(wt)})}({doi:z,setNotices:Te,setError:je})},[z]),ne({tally:Se,notices:ve,error:He})},ur=y(8),on=y.n(ur),dr=({type:z,small:ne=!1})=>x.a.createElement("i",{className:L()(on.a.sectionIcon,on.a[z],{[on.a.smallSectionIcon]:ne})});const nr={PIE:"pie",BAR:"bar",DONUT:"donut"};var Bn=({className:z,horizontal:ne,type:Se,count:De,showLabels:ve=!1,small:Te=!1})=>x.a.createElement("div",{className:L()(j.a.count,z,{[j.a.horizontal]:ne,[j.a.small]:Te})},x.a.createElement("div",{className:L()(j.a.sectionTallyIconCountWrapper,{[j.a.expandedIconCount]:!ve})},x.a.createElement(dr,{type:Se,small:!0}),ve&&x.a.createElement("span",{className:L()(j.a.label,{[j.a.smallLabel]:Te})},(He=>He==="introduction"?"Intro":He)(Se)),x.a.createElement("span",{className:L()(j.a.number,{[j.a.smallNumber]:Te})},De))),fr=y(3),Kt=y.n(fr);const zo=({col:z,barWidth:ne,chartHeight:Se,largestValue:De})=>{const ve=(({height:Te,chartHeight:He,largestValue:je})=>Te/je*He)({height:z.value,chartHeight:Se,largestValue:De});return x.a.createElement("g",{transform:`translate(0, ${Se-ve})`},x.a.createElement("rect",{width:ne-2,height:ve,fill:z.color}))};var da=({chartWidth:z,chartHeight:ne,data:Se})=>{const De=Math.max.apply(Math,Se.map(He=>He.value)),ve=Se.map((He,je)=>x.a.createElement("g",{key:"bar_"+je,transform:`translate(${30*je},0)`},x.a.createElement(zo,{col:He,barWidth:30,chartHeight:ne,largestValue:De}))),Te=(z-30*Se.length)/2;return x.a.createElement("svg",{width:z,height:ne,style:{marginRight:"25px"}},x.a.createElement("g",null,x.a.createElement("g",{transform:`translate(${Te}, 0)`},ve)))};const Lr=({value:z,total:ne})=>z/ne,$o=z=>[Math.cos(2*Math.PI*z),Math.sin(2*Math.PI*z)];var hn=({chartWidth:z,chartHeight:ne,data:Se})=>{const De=Se.reduce((Te,{value:He})=>Te+He,0),ve=(Te=>{let He=0;const je=[];return Te.forEach($e=>{const[at,At]=$o(He);He+=$e.percent;const[pt,Nt]=$o(He),Tt=[`M ${at} ${At}`,`A 1 1 0 ${$e.percent>.5?1:0} 1 ${pt} ${Nt}`,"L 0 0"].join(" ");je.push(x.a.createElement("path",{d:Tt,fill:$e.color}))}),je})((({data:Te,total:He})=>Te.map(je=>({color:je.color,percent:Lr({value:je.value,total:He})})))({data:Se,total:De}));return x.a.createElement("svg",{width:z,height:ne,viewBox:"-1 -1 2 2",style:{marginRight:"25px"}},ve)};function Rn(){return(Rn=Object.assign||function(z){for(var ne=1;ne<arguments.length;ne++){var Se=arguments[ne];for(var De in Se)Object.prototype.hasOwnProperty.call(Se,De)&&(z[De]=Se[De])}return z}).apply(this,arguments)}const rr=z=>z/(Math.PI/180),pr=(z,ne)=>z/ne,Dr=(z,ne,Se)=>{const De=z*(Math.PI/180);return[Se-Math.cos(De)*ne,Se-Math.sin(De)*ne]},Mr=({chartConfig:z,paths:ne,subtotal:Se},{percent:De,color:ve},Te)=>{const He=360*Se+90,je=He+360*De,$e=De>=z.minimumValue,at=$e?z.gapAngleOffsetInner:0,At=$e?z.gapAngleOffsetOuter:0,pt=He+at,Nt=He+At,Tt=je-at,Gt=je-At,[wt,Yt]=Dr(pt,z.radiusInner,z.center),[an,mr]=Dr(Nt,z.radiusOuter,z.center),[An,or]=Dr(Gt,z.radiusOuter,z.center),[Cn,zn]=Dr(Tt,z.radiusInner,z.center),sn=De>.5?1:0,En=[`M${wt} ${Yt}`,`L${an} ${mr}`,`A${z.radiusOuter} ${z.radiusOuter} 0 ${sn} 1 ${An} ${or}`,`L${Cn} ${zn}`,`A${z.radiusInner} ${z.radiusInner} 0 ${sn} 0 ${wt} ${Yt}`],oo=ve?{fill:ve}:{};return ne.push(x.a.createElement("path",Rn({key:Te},oo,{stroke:"none",d:En.join(" ")}))),{chartConfig:z,paths:ne,subtotal:Se+De}};var hr=({data:z,size:ne})=>{const Se=(({data:Te})=>{const He=(Te||[]).filter(({value:$e})=>$e>0),je=He.reduce(($e,{value:at=0})=>$e+at,0);return He.map($e=>({...$e,percent:$e.value/je}))})({data:z});if(!(Se||[]).length)return null;const De=(({size:Te})=>{const He=Te/2,je=(Te-75)/2,$e=Te/2,at=$e-je,At=rr(pr(1,at)),pt=rr(pr(1,$e)),Nt=rr(pr(2,at));return{center:He,innerHoleDiameter:75,thickness:je,radiusOuter:$e,radiusInner:at,gapSize:1,gapAngleOffsetInner:At,gapAngleOffsetOuter:pt,minimumAngleDeg:Nt,minimumValue:Nt/360}})({size:ne}),ve=Se.reduce(Mr,{chartConfig:De,paths:[],subtotal:0}).paths;return x.a.createElement("div",null,x.a.createElement("div",null,x.a.createElement("svg",{width:ne,height:ne,style:{marginRight:"25px"}},ve)))},ui=({source:z,campaign:ne,autologin:Se,rewardfulID:De,tally:ve,forceCollapse:Te,showLabels:He,small:je=!1,horizontal:$e=!1,isBadge:at=!1,showZero:At=!0,chartType:pt=null,showLogo:Nt=!0})=>{const Tt={utm_medium:at?"badge":"plugin",utm_source:z||"generic",utm_campaign:ne||at?"badge":"plugin"};Se&&(Tt.autologin=Se),De&&(Tt.via=De);const Gt=k.a.stringify(Tt),wt={sectionTallyContainer:L()("scite-section-tally",Kt.a.sectionTallyWidget),sectionTally:L()(Kt.a.tally,{[Kt.a.horizontal]:$e,[Kt.a.small]:je&&$e,[Kt.a.show]:At?ve:ve&&ve.total>0,[Kt.a.forceCollapse]:Te&&ve.total===0,[Kt.a.badgeTally]:at})},Yt=ve&&ve.introduction&&ve.introduction.toLocaleString()||0,an=ve&&ve.methods&&ve.methods.toLocaleString()||0,mr=ve&&ve.results&&ve.results.toLocaleString()||0,An=ve&&ve.discussion&&ve.discussion.toLocaleString()||0,or=ve&&ve.other&&ve.other.toLocaleString()||0,Cn=`https://scite.ai/reports/${ve&&ve.doi}?${Gt}`,zn=((En={})=>[{name:"Intro",color:"#002AB2",value:En.introduction||0},{name:"Methods",color:"#0036E5",value:En.methods||0},{name:"Results",color:"#0062FF",value:En.results||0},{name:"Discussion",color:"#66A3FF",value:En.discussion||0},{name:"Other",color:"#9EC4F0",value:En.other||0}])(ve),sn=Object.values(nr).includes(pt);return pt&&!sn&&console.warn(`Received unexpected chartType: ${pt}. Must be 'pie', 'bar', 'donut', or null.`),x.a.createElement("div",{className:wt.sectionTallyContainer},!$e&&Nt&&x.a.createElement("img",{className:L()(Kt.a.logo,{[Kt.a.logoSmall]:je}),src:"https://cdn.scite.ai/assets/images/logo.svg"}),x.a.createElement("div",{onClick:()=>{window.open(Cn)},className:Kt.a.sectionTallyWrapper},pt==="bar"&&x.a.createElement(da,{chartWidth:140,chartHeight:130,data:zn}),pt==="pie"&&x.a.createElement(hn,{chartWidth:140,chartHeight:140,data:zn}),pt==="donut"&&x.a.createElement(hr,{data:zn,size:140}),x.a.createElement("div",{className:wt.sectionTally},x.a.createElement(Bn,{type:"introduction",count:Yt,horizontal:$e,showLabels:He,small:je}),x.a.createElement(Bn,{type:"methods",count:an,horizontal:$e,showLabels:He,small:je}),x.a.createElement(Bn,{type:"results",count:mr,horizontal:$e,showLabels:He,small:je}),x.a.createElement(Bn,{type:"discussion",count:An,horizontal:$e,showLabels:He,small:je}),x.a.createElement(Bn,{type:"other",count:or,horizontal:$e,showLabels:He,small:je}))),sn&&x.a.createElement("div",{className:Kt.a.chartSubheading},x.a.createElement("span",{className:Kt.a.chartLabel},"Sections"),x.a.createElement("a",{href:Cn,target:"_blank",rel:"noopener noreferrer"},"See more details")))}},function(h,v,y){h.exports=b=>encodeURIComponent(b).replace(/[!'()*]/g,x=>"%"+x.charCodeAt(0).toString(16).toUpperCase())},function(h,v,y){var b=new RegExp("%[a-f0-9]{2}","gi"),x=new RegExp("(%[a-f0-9]{2})+","gi");function S(A,L){try{return decodeURIComponent(A.join(""))}catch{}if(A.length===1)return A;L=L||1;var U=A.slice(0,L),X=A.slice(L);return Array.prototype.concat.call([],S(U),S(X))}function k(A){try{return decodeURIComponent(A)}catch{for(var L=A.match(b),U=1;U<L.length;U++)L=(A=S(L,U).join("")).match(b);return A}}h.exports=function(A){if(typeof A!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof A+"`");try{return A=A.replace(/\+/g," "),decodeURIComponent(A)}catch{return function(U){for(var X={"%FE%FF":"","%FF%FE":""},ee=x.exec(U);ee;){try{X[ee[0]]=decodeURIComponent(ee[0])}catch{var D=k(ee[0]);D!==ee[0]&&(X[ee[0]]=D)}ee=x.exec(U)}X["%C2"]="";for(var j=Object.keys(X),P=0;P<j.length;P++){var q=j[P];U=U.replace(new RegExp(q,"g"),X[q])}return U}(A)}}},function(h,v,y){h.exports=(b,x)=>{if(typeof b!="string"||typeof x!="string")throw new TypeError("Expected the arguments to be of type `string`");if(x==="")return[b];const S=b.indexOf(x);return S===-1?[b]:[b.slice(0,S),b.slice(S+x.length)]}},function(h,v,y){h.exports=function(b,x){for(var S={},k=Object.keys(b),A=Array.isArray(x),L=0;L<k.length;L++){var U=k[L],X=b[U];(A?x.indexOf(U)!==-1:x(U,X,b))&&(S[U]=X)}return S}}]))},379:(c,u,f)=>{var m,h=function(){var D={};return function(j){if(D[j]===void 0){var P=document.querySelector(j);if(window.HTMLIFrameElement&&P instanceof window.HTMLIFrameElement)try{P=P.contentDocument.head}catch{P=null}D[j]=P}return D[j]}}(),v=[];function y(D){for(var j=-1,P=0;P<v.length;P++)if(v[P].identifier===D){j=P;break}return j}function b(D,j){for(var P={},q=[],fe=0;fe<D.length;fe++){var me=D[fe],ge=j.base?me[0]+j.base:me[0],ye=P[ge]||0,Y="".concat(ge," ").concat(ye);P[ge]=ye+1;var be=y(Y),se={css:me[1],media:me[2],sourceMap:me[3]};be!==-1?(v[be].references++,v[be].updater(se)):v.push({identifier:Y,updater:ee(se,j),references:1}),q.push(Y)}return q}function x(D){var j=document.createElement("style"),P=D.attributes||{};if(P.nonce===void 0){var q=f.nc;q&&(P.nonce=q)}if(Object.keys(P).forEach(function(me){j.setAttribute(me,P[me])}),typeof D.insert=="function")D.insert(j);else{var fe=h(D.insert||"head");if(!fe)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");fe.appendChild(j)}return j}var S,k=(S=[],function(D,j){return S[D]=j,S.filter(Boolean).join(`
`)});function A(D,j,P,q){var fe=P?"":q.media?"@media ".concat(q.media," {").concat(q.css,"}"):q.css;if(D.styleSheet)D.styleSheet.cssText=k(j,fe);else{var me=document.createTextNode(fe),ge=D.childNodes;ge[j]&&D.removeChild(ge[j]),ge.length?D.insertBefore(me,ge[j]):D.appendChild(me)}}function L(D,j,P){var q=P.css,fe=P.media,me=P.sourceMap;if(fe?D.setAttribute("media",fe):D.removeAttribute("media"),me&&typeof btoa<"u"&&(q+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(me))))," */")),D.styleSheet)D.styleSheet.cssText=q;else{for(;D.firstChild;)D.removeChild(D.firstChild);D.appendChild(document.createTextNode(q))}}var U=null,X=0;function ee(D,j){var P,q,fe;if(j.singleton){var me=X++;P=U||(U=x(j)),q=A.bind(null,P,me,!1),fe=A.bind(null,P,me,!0)}else P=x(j),q=L.bind(null,P,j),fe=function(){(function(ge){if(ge.parentNode===null)return!1;ge.parentNode.removeChild(ge)})(P)};return q(D),function(ge){if(ge){if(ge.css===D.css&&ge.media===D.media&&ge.sourceMap===D.sourceMap)return;q(D=ge)}else fe()}}c.exports=function(D,j){(j=j||{}).singleton||typeof j.singleton=="boolean"||(j.singleton=(m===void 0&&(m=!!(window&&document&&document.all&&!window.atob)),m));var P=b(D=D||[],j);return function(q){if(q=q||[],Object.prototype.toString.call(q)==="[object Array]"){for(var fe=0;fe<P.length;fe++){var me=y(P[fe]);v[me].references--}for(var ge=b(q,j),ye=0;ye<P.length;ye++){var Y=y(P[ye]);v[Y].references===0&&(v[Y].updater(),v.splice(Y,1))}P=ge}}}},473:c=>{c.exports=function(){}}},o={};function i(c){var u=o[c];if(u!==void 0)return u.exports;var f=o[c]={id:c,exports:{}};return n[c](f,f.exports,i),f.exports}i.n=c=>{var u=c&&c.__esModule?()=>c.default:()=>c;return i.d(u,{a:u}),u},i.d=(c,u)=>{for(var f in u)i.o(u,f)&&!i.o(c,f)&&Object.defineProperty(c,f,{enumerable:!0,get:u[f]})},i.o=(c,u)=>Object.prototype.hasOwnProperty.call(c,u),i.r=c=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})};var l={};return(()=>{i.r(l),i.d(l,{getConfig:()=>so,insertBadge:()=>ya,insertBadgeWrapper:()=>Ho,insertBadges:()=>va,main:()=>Ms});var c=i(666),u=i.n(c),f=i(294),m=i(935),h=i(285);function v(T,C){(C==null||C>T.length)&&(C=T.length);for(var _=0,N=new Array(C);_<C;_++)N[_]=T[_];return N}function y(T,C,_,N,B,Q,Z){try{var le=T[Q](Z),J=le.value}catch(re){return void _(re)}le.done?C(J):Promise.resolve(J).then(N,B)}function b(T){return function(){var C=this,_=arguments;return new Promise(function(N,B){var Q=T.apply(C,_);function Z(J){y(Q,N,B,Z,le,"next",J)}function le(J){y(Q,N,B,Z,le,"throw",J)}Z(void 0)})}}function x(T){return function(C){if(Array.isArray(C))return v(C)}(T)||function(C){if(typeof Symbol<"u"&&C[Symbol.iterator]!=null||C["@@iterator"]!=null)return Array.from(C)}(T)||function(C,_){if(C){if(typeof C=="string")return v(C,_);var N=Object.prototype.toString.call(C).slice(8,-1);return N==="Object"&&C.constructor&&(N=C.constructor.name),N==="Map"||N==="Set"?Array.from(N):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?v(C,_):void 0}}(T)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S,k=window.fetch,A=["retracted","has expression of concern","withdrawn","has erratum","has correction"],L=(S=b(u().mark(function T(C){var _,N,B,Q,Z,le=arguments;return u().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(_=le.length>1&&le[1]!==void 0?le[1]:0,N=le.length>2&&le[2]!==void 0?le[2]:8,C&&C.length!==0){J.next=3;break}return J.abrupt("return",{tallies:{}});case 3:return B=new Error("Failed to get Tallies"),J.prev=4,J.next=7,k("https://api.scite.ai/tallies",{method:"POST",body:JSON.stringify(C),headers:{Accept:"application/json","Content-Type":"application/json"}});case 7:if((Q=J.sent).status!==404){J.next=10;break}return J.abrupt("return",{tallies:{}});case 10:if(Q.ok){J.next=12;break}throw B;case 12:return J.next=14,Q.json();case 14:return Z=J.sent,J.abrupt("return",Z||{});case 18:if(J.prev=18,J.t0=J.catch(4),!(J.t0===B&&_<N)){J.next=26;break}return J.next=23,new Promise(function(re){return setTimeout(function(){return re(L(C,++_))},600)});case 23:return J.abrupt("return",J.sent);case 26:console.error(B);case 27:return J.abrupt("return",{tallies:{}});case 28:case"end":return J.stop()}},T,null,[[4,18]])})),function(T){return S.apply(this,arguments)}),U=function(){var T=b(u().mark(function C(_){var N,B,Q,Z,le,J,re,xe=arguments;return u().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(N=xe.length>1&&xe[1]!==void 0?xe[1]:0,B=xe.length>2&&xe[2]!==void 0?xe[2]:8,_&&_.length!==0){de.next=3;break}return de.abrupt("return",{notices:{}});case 3:return Q=new Error("Failed to get notices"),de.prev=4,de.next=7,k("https://api.scite.ai/papers",{method:"POST",body:JSON.stringify(_),headers:{Accept:"application/json","Content-Type":"application/json"}});case 7:if((Z=de.sent).status!==404){de.next=10;break}return de.abrupt("return",{notices:{}});case 10:if(Z.ok){de.next=12;break}throw Q;case 12:return de.next=14,Z.json();case 14:le=de.sent,J={},de.t0=regeneratorRuntime.keys(le.papers);case 17:if((de.t1=de.t0()).done){de.next=25;break}if(re=de.t1.value,le.papers[re].editorialNotices){de.next=22;break}return J[re]=[],de.abrupt("continue",17);case 22:J[re]=x(new Set(le.papers[re].editorialNotices.filter(function(Fe){var Pe=Fe.status;return A.includes(Pe.toLowerCase())}).map(function(Fe){return Fe.status}))),de.next=17;break;case 25:return de.abrupt("return",{notices:J});case 28:if(de.prev=28,de.t2=de.catch(4),!(de.t2===Q&&N<B)){de.next=36;break}return de.next=33,new Promise(function(Fe){return setTimeout(function(){return Fe(U(_,++N))},600)});case 33:return de.abrupt("return",de.sent);case 36:console.error(Q);case 37:case"end":return de.stop()}},C,null,[[4,28]])}));return function(C){return T.apply(this,arguments)}}(),X=function(){var T=b(u().mark(function C(_){var N,B,Q,Z,le,J=arguments;return u().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(N=J.length>1&&J[1]!==void 0?J[1]:0,B=J.length>2&&J[2]!==void 0?J[2]:8,_&&_.length!==0){re.next=3;break}return re.abrupt("return",{tallies:{}});case 3:return Q=new Error("Failed to get Section Tallies"),re.prev=4,re.next=7,k("https://api.scite.ai/tallies/cited-by-sections",{method:"POST",body:JSON.stringify(_),headers:{Accept:"application/json","Content-Type":"application/json"}});case 7:if((Z=re.sent).status!==404){re.next=10;break}return re.abrupt("return",{tallies:{}});case 10:if(Z.ok){re.next=12;break}throw Q;case 12:return re.next=14,Z.json();case 14:return le=re.sent,re.abrupt("return",le||{});case 18:if(re.prev=18,re.t0=re.catch(4),!(re.t0===Q&&N<B)){re.next=26;break}return re.next=23,new Promise(function(xe){return setTimeout(function(){return xe(X(_,++N))},600)});case 23:return re.abrupt("return",re.sent);case 26:console.error(Q);case 27:return re.abrupt("return",{tallies:{}});case 28:case"end":return re.stop()}},C,null,[[4,18]])}));return function(C){return T.apply(this,arguments)}}(),ee=i(184),D=i.n(ee),j=f.createContext(),P=f.createContext();function q(T){var C=T.children,_=f.useState(null),N=_[0],B=_[1],Q=f.useRef(!1);f.useEffect(function(){return function(){Q.current=!0}},[]);var Z=f.useCallback(function(le){Q.current||B(le)},[]);return f.createElement(j.Provider,{value:N},f.createElement(P.Provider,{value:Z},C))}var fe=function(T){return Array.isArray(T)?T[0]:T},me=function(T){if(typeof T=="function"){for(var C=arguments.length,_=new Array(C>1?C-1:0),N=1;N<C;N++)_[N-1]=arguments[N];return T.apply(void 0,_)}},ge=function(T,C){if(typeof T=="function")return me(T,C);T!=null&&(T.current=C)},ye=function(T){return T.reduce(function(C,_){var N=_[0],B=_[1];return C[N]=B,C},{})},Y=typeof window<"u"&&window.document&&window.document.createElement?f.useLayoutEffect:f.useEffect;function be(T){if(T==null)return window;if(T.toString()!=="[object Window]"){var C=T.ownerDocument;return C&&C.defaultView||window}return T}function se(T){return T instanceof be(T).Element||T instanceof Element}function we(T){return T instanceof be(T).HTMLElement||T instanceof HTMLElement}function ze(T){return typeof ShadowRoot<"u"&&(T instanceof be(T).ShadowRoot||T instanceof ShadowRoot)}var Ke=Math.max,Le=Math.min,Je=Math.round;function ft(T,C){C===void 0&&(C=!1);var _=T.getBoundingClientRect(),N=1,B=1;if(we(T)&&C){var Q=T.offsetHeight,Z=T.offsetWidth;Z>0&&(N=Je(_.width)/Z||1),Q>0&&(B=Je(_.height)/Q||1)}return{width:_.width/N,height:_.height/B,top:_.top/B,right:_.right/N,bottom:_.bottom/B,left:_.left/N,x:_.left/N,y:_.top/B}}function I(T){var C=be(T);return{scrollLeft:C.pageXOffset,scrollTop:C.pageYOffset}}function M(T){return T?(T.nodeName||"").toLowerCase():null}function G(T){return((se(T)?T.ownerDocument:T.document)||window.document).documentElement}function ue(T){return ft(G(T)).left+I(T).scrollLeft}function ae(T){return be(T).getComputedStyle(T)}function K(T){var C=ae(T),_=C.overflow,N=C.overflowX,B=C.overflowY;return/auto|scroll|overlay|hidden/.test(_+B+N)}function te(T,C,_){_===void 0&&(_=!1);var N,B,Q=we(C),Z=we(C)&&function(de){var Fe=de.getBoundingClientRect(),Pe=Je(Fe.width)/de.offsetWidth||1,Ve=Je(Fe.height)/de.offsetHeight||1;return Pe!==1||Ve!==1}(C),le=G(C),J=ft(T,Z),re={scrollLeft:0,scrollTop:0},xe={x:0,y:0};return(Q||!Q&&!_)&&((M(C)!=="body"||K(le))&&(re=(N=C)!==be(N)&&we(N)?{scrollLeft:(B=N).scrollLeft,scrollTop:B.scrollTop}:I(N)),we(C)?((xe=ft(C,!0)).x+=C.clientLeft,xe.y+=C.clientTop):le&&(xe.x=ue(le))),{x:J.left+re.scrollLeft-xe.x,y:J.top+re.scrollTop-xe.y,width:J.width,height:J.height}}function Ce(T){var C=ft(T),_=T.offsetWidth,N=T.offsetHeight;return Math.abs(C.width-_)<=1&&(_=C.width),Math.abs(C.height-N)<=1&&(N=C.height),{x:T.offsetLeft,y:T.offsetTop,width:_,height:N}}function Re(T){return M(T)==="html"?T:T.assignedSlot||T.parentNode||(ze(T)?T.host:null)||G(T)}function Ee(T){return["html","body","#document"].indexOf(M(T))>=0?T.ownerDocument.body:we(T)&&K(T)?T:Ee(Re(T))}function ot(T,C){var _;C===void 0&&(C=[]);var N=Ee(T),B=N===((_=T.ownerDocument)==null?void 0:_.body),Q=be(N),Z=B?[Q].concat(Q.visualViewport||[],K(N)?N:[]):N,le=C.concat(Z);return B?le:le.concat(ot(Re(Z)))}function St(T){return["table","td","th"].indexOf(M(T))>=0}function Vt(T){return we(T)&&ae(T).position!=="fixed"?T.offsetParent:null}function Ot(T){for(var C=be(T),_=Vt(T);_&&St(_)&&ae(_).position==="static";)_=Vt(_);return _&&(M(_)==="html"||M(_)==="body"&&ae(_).position==="static")?C:_||function(N){var B=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1;if(navigator.userAgent.indexOf("Trident")!==-1&&we(N)&&ae(N).position==="fixed")return null;var Q=Re(N);for(ze(Q)&&(Q=Q.host);we(Q)&&["html","body"].indexOf(M(Q))<0;){var Z=ae(Q);if(Z.transform!=="none"||Z.perspective!=="none"||Z.contain==="paint"||["transform","perspective"].indexOf(Z.willChange)!==-1||B&&Z.willChange==="filter"||B&&Z.filter&&Z.filter!=="none")return Q;Q=Q.parentNode}return null}(T)||C}var xt="top",lt="bottom",Qt="right",mt="left",wn="auto",rn=[xt,lt,Qt,mt],pn="start",xn="end",ur="viewport",on="popper",dr=rn.reduce(function(T,C){return T.concat([C+"-"+pn,C+"-"+xn])},[]),nr=[].concat(rn,[wn]).reduce(function(T,C){return T.concat([C,C+"-"+pn,C+"-"+xn])},[]),Bn=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function fr(T){var C=new Map,_=new Set,N=[];function B(Q){_.add(Q.name),[].concat(Q.requires||[],Q.requiresIfExists||[]).forEach(function(Z){if(!_.has(Z)){var le=C.get(Z);le&&B(le)}}),N.push(Q)}return T.forEach(function(Q){C.set(Q.name,Q)}),T.forEach(function(Q){_.has(Q.name)||B(Q)}),N}var Kt={placement:"bottom",modifiers:[],strategy:"absolute"};function zo(){for(var T=arguments.length,C=new Array(T),_=0;_<T;_++)C[_]=arguments[_];return!C.some(function(N){return!(N&&typeof N.getBoundingClientRect=="function")})}function da(T){T===void 0&&(T={});var C=T,_=C.defaultModifiers,N=_===void 0?[]:_,B=C.defaultOptions,Q=B===void 0?Kt:B;return function(Z,le,J){J===void 0&&(J=Q);var re,xe,de={placement:"bottom",orderedModifiers:[],options:Object.assign({},Kt,Q),modifiersData:{},elements:{reference:Z,popper:le},attributes:{},styles:{}},Fe=[],Pe=!1,Ve={state:de,setOptions:function(Ue){var nt=typeof Ue=="function"?Ue(de.options):Ue;Qe(),de.options=Object.assign({},Q,de.options,nt),de.scrollParents={reference:se(Z)?ot(Z):Z.contextElement?ot(Z.contextElement):[],popper:ot(le)};var et,Xe,We=function(Be){var _e=fr(Be);return Bn.reduce(function(qe,Me){return qe.concat(_e.filter(function(it){return it.phase===Me}))},[])}((et=[].concat(N,de.options.modifiers),Xe=et.reduce(function(Be,_e){var qe=Be[_e.name];return Be[_e.name]=qe?Object.assign({},qe,_e,{options:Object.assign({},qe.options,_e.options),data:Object.assign({},qe.data,_e.data)}):_e,Be},{}),Object.keys(Xe).map(function(Be){return Xe[Be]})));return de.orderedModifiers=We.filter(function(Be){return Be.enabled}),de.orderedModifiers.forEach(function(Be){var _e=Be.name,qe=Be.options,Me=qe===void 0?{}:qe,it=Be.effect;if(typeof it=="function"){var gt=it({state:de,name:_e,instance:Ve,options:Me});Fe.push(gt||function(){})}}),Ve.update()},forceUpdate:function(){if(!Pe){var Ue=de.elements,nt=Ue.reference,et=Ue.popper;if(zo(nt,et)){de.rects={reference:te(nt,Ot(et),de.options.strategy==="fixed"),popper:Ce(et)},de.reset=!1,de.placement=de.options.placement,de.orderedModifiers.forEach(function(it){return de.modifiersData[it.name]=Object.assign({},it.data)});for(var Xe=0;Xe<de.orderedModifiers.length;Xe++)if(de.reset!==!0){var We=de.orderedModifiers[Xe],Be=We.fn,_e=We.options,qe=_e===void 0?{}:_e,Me=We.name;typeof Be=="function"&&(de=Be({state:de,options:qe,name:Me,instance:Ve})||de)}else de.reset=!1,Xe=-1}}},update:(re=function(){return new Promise(function(Ue){Ve.forceUpdate(),Ue(de)})},function(){return xe||(xe=new Promise(function(Ue){Promise.resolve().then(function(){xe=void 0,Ue(re())})})),xe}),destroy:function(){Qe(),Pe=!0}};if(!zo(Z,le))return Ve;function Qe(){Fe.forEach(function(Ue){return Ue()}),Fe=[]}return Ve.setOptions(J).then(function(Ue){!Pe&&J.onFirstUpdate&&J.onFirstUpdate(Ue)}),Ve}}var Lr={passive:!0};const $o={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(T){var C=T.state,_=T.instance,N=T.options,B=N.scroll,Q=B===void 0||B,Z=N.resize,le=Z===void 0||Z,J=be(C.elements.popper),re=[].concat(C.scrollParents.reference,C.scrollParents.popper);return Q&&re.forEach(function(xe){xe.addEventListener("scroll",_.update,Lr)}),le&&J.addEventListener("resize",_.update,Lr),function(){Q&&re.forEach(function(xe){xe.removeEventListener("scroll",_.update,Lr)}),le&&J.removeEventListener("resize",_.update,Lr)}},data:{}};function hn(T){return T.split("-")[0]}function Rn(T){return T.split("-")[1]}function rr(T){return["top","bottom"].indexOf(T)>=0?"x":"y"}function pr(T){var C,_=T.reference,N=T.element,B=T.placement,Q=B?hn(B):null,Z=B?Rn(B):null,le=_.x+_.width/2-N.width/2,J=_.y+_.height/2-N.height/2;switch(Q){case xt:C={x:le,y:_.y-N.height};break;case lt:C={x:le,y:_.y+_.height};break;case Qt:C={x:_.x+_.width,y:J};break;case mt:C={x:_.x-N.width,y:J};break;default:C={x:_.x,y:_.y}}var re=Q?rr(Q):null;if(re!=null){var xe=re==="y"?"height":"width";switch(Z){case pn:C[re]=C[re]-(_[xe]/2-N[xe]/2);break;case xn:C[re]=C[re]+(_[xe]/2-N[xe]/2)}}return C}const Dr={name:"popperOffsets",enabled:!0,phase:"read",fn:function(T){var C=T.state,_=T.name;C.modifiersData[_]=pr({reference:C.rects.reference,element:C.rects.popper,strategy:"absolute",placement:C.placement})},data:{}};var Mr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function hr(T){var C,_=T.popper,N=T.popperRect,B=T.placement,Q=T.variation,Z=T.offsets,le=T.position,J=T.gpuAcceleration,re=T.adaptive,xe=T.roundOffsets,de=T.isFixed,Fe=Z.x,Pe=Fe===void 0?0:Fe,Ve=Z.y,Qe=Ve===void 0?0:Ve,Ue=typeof xe=="function"?xe({x:Pe,y:Qe}):{x:Pe,y:Qe};Pe=Ue.x,Qe=Ue.y;var nt=Z.hasOwnProperty("x"),et=Z.hasOwnProperty("y"),Xe=mt,We=xt,Be=window;if(re){var _e=Ot(_),qe="clientHeight",Me="clientWidth";_e===be(_)&&ae(_e=G(_)).position!=="static"&&le==="absolute"&&(qe="scrollHeight",Me="scrollWidth"),_e=_e,(B===xt||(B===mt||B===Qt)&&Q===xn)&&(We=lt,Qe-=(de&&_e===Be&&Be.visualViewport?Be.visualViewport.height:_e[qe])-N.height,Qe*=J?1:-1),B!==mt&&(B!==xt&&B!==lt||Q!==xn)||(Xe=Qt,Pe-=(de&&_e===Be&&Be.visualViewport?Be.visualViewport.width:_e[Me])-N.width,Pe*=J?1:-1)}var it,gt=Object.assign({position:le},re&&Mr),st=xe===!0?function(Rt){var rt=Rt.x,Ut=Rt.y,zt=window.devicePixelRatio||1;return{x:Je(rt*zt)/zt||0,y:Je(Ut*zt)/zt||0}}({x:Pe,y:Qe}):{x:Pe,y:Qe};return Pe=st.x,Qe=st.y,J?Object.assign({},gt,((it={})[We]=et?"0":"",it[Xe]=nt?"0":"",it.transform=(Be.devicePixelRatio||1)<=1?"translate("+Pe+"px, "+Qe+"px)":"translate3d("+Pe+"px, "+Qe+"px, 0)",it)):Object.assign({},gt,((C={})[We]=et?Qe+"px":"",C[Xe]=nt?Pe+"px":"",C.transform="",C))}const ui={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(T){var C=T.state,_=T.options,N=_.gpuAcceleration,B=N===void 0||N,Q=_.adaptive,Z=Q===void 0||Q,le=_.roundOffsets,J=le===void 0||le,re={placement:hn(C.placement),variation:Rn(C.placement),popper:C.elements.popper,popperRect:C.rects.popper,gpuAcceleration:B,isFixed:C.options.strategy==="fixed"};C.modifiersData.popperOffsets!=null&&(C.styles.popper=Object.assign({},C.styles.popper,hr(Object.assign({},re,{offsets:C.modifiersData.popperOffsets,position:C.options.strategy,adaptive:Z,roundOffsets:J})))),C.modifiersData.arrow!=null&&(C.styles.arrow=Object.assign({},C.styles.arrow,hr(Object.assign({},re,{offsets:C.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:J})))),C.attributes.popper=Object.assign({},C.attributes.popper,{"data-popper-placement":C.placement})},data:{}},z={name:"applyStyles",enabled:!0,phase:"write",fn:function(T){var C=T.state;Object.keys(C.elements).forEach(function(_){var N=C.styles[_]||{},B=C.attributes[_]||{},Q=C.elements[_];we(Q)&&M(Q)&&(Object.assign(Q.style,N),Object.keys(B).forEach(function(Z){var le=B[Z];le===!1?Q.removeAttribute(Z):Q.setAttribute(Z,le===!0?"":le)}))})},effect:function(T){var C=T.state,_={popper:{position:C.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(C.elements.popper.style,_.popper),C.styles=_,C.elements.arrow&&Object.assign(C.elements.arrow.style,_.arrow),function(){Object.keys(C.elements).forEach(function(N){var B=C.elements[N],Q=C.attributes[N]||{},Z=Object.keys(C.styles.hasOwnProperty(N)?C.styles[N]:_[N]).reduce(function(le,J){return le[J]="",le},{});we(B)&&M(B)&&(Object.assign(B.style,Z),Object.keys(Q).forEach(function(le){B.removeAttribute(le)}))})}},requires:["computeStyles"]},ne={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(T){var C=T.state,_=T.options,N=T.name,B=_.offset,Q=B===void 0?[0,0]:B,Z=nr.reduce(function(xe,de){return xe[de]=function(Fe,Pe,Ve){var Qe=hn(Fe),Ue=[mt,xt].indexOf(Qe)>=0?-1:1,nt=typeof Ve=="function"?Ve(Object.assign({},Pe,{placement:Fe})):Ve,et=nt[0],Xe=nt[1];return et=et||0,Xe=(Xe||0)*Ue,[mt,Qt].indexOf(Qe)>=0?{x:Xe,y:et}:{x:et,y:Xe}}(de,C.rects,Q),xe},{}),le=Z[C.placement],J=le.x,re=le.y;C.modifiersData.popperOffsets!=null&&(C.modifiersData.popperOffsets.x+=J,C.modifiersData.popperOffsets.y+=re),C.modifiersData[N]=Z}};var Se={left:"right",right:"left",bottom:"top",top:"bottom"};function De(T){return T.replace(/left|right|bottom|top/g,function(C){return Se[C]})}var ve={start:"end",end:"start"};function Te(T){return T.replace(/start|end/g,function(C){return ve[C]})}function He(T,C){var _=C.getRootNode&&C.getRootNode();if(T.contains(C))return!0;if(_&&ze(_)){var N=C;do{if(N&&T.isSameNode(N))return!0;N=N.parentNode||N.host}while(N)}return!1}function je(T){return Object.assign({},T,{left:T.x,top:T.y,right:T.x+T.width,bottom:T.y+T.height})}function $e(T,C){return C===ur?je(function(_){var N=be(_),B=G(_),Q=N.visualViewport,Z=B.clientWidth,le=B.clientHeight,J=0,re=0;return Q&&(Z=Q.width,le=Q.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(J=Q.offsetLeft,re=Q.offsetTop)),{width:Z,height:le,x:J+ue(_),y:re}}(T)):se(C)?function(_){var N=ft(_);return N.top=N.top+_.clientTop,N.left=N.left+_.clientLeft,N.bottom=N.top+_.clientHeight,N.right=N.left+_.clientWidth,N.width=_.clientWidth,N.height=_.clientHeight,N.x=N.left,N.y=N.top,N}(C):je(function(_){var N,B=G(_),Q=I(_),Z=(N=_.ownerDocument)==null?void 0:N.body,le=Ke(B.scrollWidth,B.clientWidth,Z?Z.scrollWidth:0,Z?Z.clientWidth:0),J=Ke(B.scrollHeight,B.clientHeight,Z?Z.scrollHeight:0,Z?Z.clientHeight:0),re=-Q.scrollLeft+ue(_),xe=-Q.scrollTop;return ae(Z||B).direction==="rtl"&&(re+=Ke(B.clientWidth,Z?Z.clientWidth:0)-le),{width:le,height:J,x:re,y:xe}}(G(T)))}function at(T){return Object.assign({},{top:0,right:0,bottom:0,left:0},T)}function At(T,C){return C.reduce(function(_,N){return _[N]=T,_},{})}function pt(T,C){C===void 0&&(C={});var _=C,N=_.placement,B=N===void 0?T.placement:N,Q=_.boundary,Z=Q===void 0?"clippingParents":Q,le=_.rootBoundary,J=le===void 0?ur:le,re=_.elementContext,xe=re===void 0?on:re,de=_.altBoundary,Fe=de!==void 0&&de,Pe=_.padding,Ve=Pe===void 0?0:Pe,Qe=at(typeof Ve!="number"?Ve:At(Ve,rn)),Ue=xe===on?"reference":on,nt=T.rects.popper,et=T.elements[Fe?Ue:xe],Xe=function(st,Rt,rt){var Ut=Rt==="clippingParents"?function(ht){var Ct=ot(Re(ht)),kt=["absolute","fixed"].indexOf(ae(ht).position)>=0&&we(ht)?Ot(ht):ht;return se(kt)?Ct.filter(function(Et){return se(Et)&&He(Et,kt)&&M(Et)!=="body"}):[]}(st):[].concat(Rt),zt=[].concat(Ut,[rt]),_t=zt[0],yt=zt.reduce(function(ht,Ct){var kt=$e(st,Ct);return ht.top=Ke(kt.top,ht.top),ht.right=Le(kt.right,ht.right),ht.bottom=Le(kt.bottom,ht.bottom),ht.left=Ke(kt.left,ht.left),ht},$e(st,_t));return yt.width=yt.right-yt.left,yt.height=yt.bottom-yt.top,yt.x=yt.left,yt.y=yt.top,yt}(se(et)?et:et.contextElement||G(T.elements.popper),Z,J),We=ft(T.elements.reference),Be=pr({reference:We,element:nt,strategy:"absolute",placement:B}),_e=je(Object.assign({},nt,Be)),qe=xe===on?_e:We,Me={top:Xe.top-qe.top+Qe.top,bottom:qe.bottom-Xe.bottom+Qe.bottom,left:Xe.left-qe.left+Qe.left,right:qe.right-Xe.right+Qe.right},it=T.modifiersData.offset;if(xe===on&&it){var gt=it[B];Object.keys(Me).forEach(function(st){var Rt=[Qt,lt].indexOf(st)>=0?1:-1,rt=[xt,lt].indexOf(st)>=0?"y":"x";Me[st]+=gt[rt]*Rt})}return Me}const Nt={name:"flip",enabled:!0,phase:"main",fn:function(T){var C=T.state,_=T.options,N=T.name;if(!C.modifiersData[N]._skip){for(var B=_.mainAxis,Q=B===void 0||B,Z=_.altAxis,le=Z===void 0||Z,J=_.fallbackPlacements,re=_.padding,xe=_.boundary,de=_.rootBoundary,Fe=_.altBoundary,Pe=_.flipVariations,Ve=Pe===void 0||Pe,Qe=_.allowedAutoPlacements,Ue=C.options.placement,nt=hn(Ue),et=J||(nt!==Ue&&Ve?function(Et){if(hn(Et)===wn)return[];var It=De(Et);return[Te(Et),It,Te(It)]}(Ue):[De(Ue)]),Xe=[Ue].concat(et).reduce(function(Et,It){return Et.concat(hn(It)===wn?function(en,mn){mn===void 0&&(mn={});var ln=mn,wr=ln.placement,Oe=ln.boundary,zr=ln.rootBoundary,vi=ln.padding,bi=ln.flipVariations,co=ln.allowedAutoPlacements,wi=co===void 0?nr:co,$r=Rn(wr),wa=$r?bi?dr:dr.filter(function(Fn){return Rn(Fn)===$r}):rn,uo=wa.filter(function(Fn){return wi.indexOf(Fn)>=0});uo.length===0&&(uo=wa);var Fr=uo.reduce(function(Fn,Ur){return Fn[Ur]=pt(en,{placement:Ur,boundary:Oe,rootBoundary:zr,padding:vi})[hn(Ur)],Fn},{});return Object.keys(Fr).sort(function(Fn,Ur){return Fr[Fn]-Fr[Ur]})}(C,{placement:It,boundary:xe,rootBoundary:de,padding:re,flipVariations:Ve,allowedAutoPlacements:Qe}):It)},[]),We=C.rects.reference,Be=C.rects.popper,_e=new Map,qe=!0,Me=Xe[0],it=0;it<Xe.length;it++){var gt=Xe[it],st=hn(gt),Rt=Rn(gt)===pn,rt=[xt,lt].indexOf(st)>=0,Ut=rt?"width":"height",zt=pt(C,{placement:gt,boundary:xe,rootBoundary:de,altBoundary:Fe,padding:re}),_t=rt?Rt?Qt:mt:Rt?lt:xt;We[Ut]>Be[Ut]&&(_t=De(_t));var yt=De(_t),ht=[];if(Q&&ht.push(zt[st]<=0),le&&ht.push(zt[_t]<=0,zt[yt]<=0),ht.every(function(Et){return Et})){Me=gt,qe=!1;break}_e.set(gt,ht)}if(qe)for(var Ct=function(Et){var It=Xe.find(function(en){var mn=_e.get(en);if(mn)return mn.slice(0,Et).every(function(ln){return ln})});if(It)return Me=It,"break"},kt=Ve?3:1;kt>0&&Ct(kt)!=="break";kt--);C.placement!==Me&&(C.modifiersData[N]._skip=!0,C.placement=Me,C.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Tt(T,C,_){return Ke(T,Le(C,_))}const Gt={name:"preventOverflow",enabled:!0,phase:"main",fn:function(T){var C=T.state,_=T.options,N=T.name,B=_.mainAxis,Q=B===void 0||B,Z=_.altAxis,le=Z!==void 0&&Z,J=_.boundary,re=_.rootBoundary,xe=_.altBoundary,de=_.padding,Fe=_.tether,Pe=Fe===void 0||Fe,Ve=_.tetherOffset,Qe=Ve===void 0?0:Ve,Ue=pt(C,{boundary:J,rootBoundary:re,padding:de,altBoundary:xe}),nt=hn(C.placement),et=Rn(C.placement),Xe=!et,We=rr(nt),Be=We==="x"?"y":"x",_e=C.modifiersData.popperOffsets,qe=C.rects.reference,Me=C.rects.popper,it=typeof Qe=="function"?Qe(Object.assign({},C.rects,{placement:C.placement})):Qe,gt=typeof it=="number"?{mainAxis:it,altAxis:it}:Object.assign({mainAxis:0,altAxis:0},it),st=C.modifiersData.offset?C.modifiersData.offset[C.placement]:null,Rt={x:0,y:0};if(_e){if(Q){var rt,Ut=We==="y"?xt:mt,zt=We==="y"?lt:Qt,_t=We==="y"?"height":"width",yt=_e[We],ht=yt+Ue[Ut],Ct=yt-Ue[zt],kt=Pe?-Me[_t]/2:0,Et=et===pn?qe[_t]:Me[_t],It=et===pn?-Me[_t]:-qe[_t],en=C.elements.arrow,mn=Pe&&en?Ce(en):{width:0,height:0},ln=C.modifiersData["arrow#persistent"]?C.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},wr=ln[Ut],Oe=ln[zt],zr=Tt(0,qe[_t],mn[_t]),vi=Xe?qe[_t]/2-kt-zr-wr-gt.mainAxis:Et-zr-wr-gt.mainAxis,bi=Xe?-qe[_t]/2+kt+zr+Oe+gt.mainAxis:It+zr+Oe+gt.mainAxis,co=C.elements.arrow&&Ot(C.elements.arrow),wi=co?We==="y"?co.clientTop||0:co.clientLeft||0:0,$r=(rt=st?.[We])!=null?rt:0,wa=yt+bi-$r,uo=Tt(Pe?Le(ht,yt+vi-$r-wi):ht,yt,Pe?Ke(Ct,wa):Ct);_e[We]=uo,Rt[We]=uo-yt}if(le){var Fr,Fn=We==="x"?xt:mt,Ur=We==="x"?lt:Qt,qr=_e[Be],xa=Be==="y"?"height":"width",Bs=qr+Ue[Fn],Ca=qr-Ue[Ur],Hr=[xt,mt].indexOf(nt)!==-1,zs=(Fr=st?.[Be])!=null?Fr:0,xi=Hr?Bs:qr-qe[xa]-Me[xa]-zs+gt.altAxis,Ci=Hr?qr+qe[xa]+Me[xa]-zs-gt.altAxis:Ca,Ei=Pe&&Hr?function($s,Fs,xr){var Us=Tt($s,Fs,xr);return Us>xr?xr:Us}(xi,qr,Ci):Tt(Pe?xi:Bs,qr,Pe?Ci:Ca);_e[Be]=Ei,Rt[Be]=Ei-qr}C.modifiersData[N]=Rt}},requiresIfExists:["offset"]},wt={name:"arrow",enabled:!0,phase:"main",fn:function(T){var C,_=T.state,N=T.name,B=T.options,Q=_.elements.arrow,Z=_.modifiersData.popperOffsets,le=hn(_.placement),J=rr(le),re=[mt,Qt].indexOf(le)>=0?"height":"width";if(Q&&Z){var xe=function(Me,it){return at(typeof(Me=typeof Me=="function"?Me(Object.assign({},it.rects,{placement:it.placement})):Me)!="number"?Me:At(Me,rn))}(B.padding,_),de=Ce(Q),Fe=J==="y"?xt:mt,Pe=J==="y"?lt:Qt,Ve=_.rects.reference[re]+_.rects.reference[J]-Z[J]-_.rects.popper[re],Qe=Z[J]-_.rects.reference[J],Ue=Ot(Q),nt=Ue?J==="y"?Ue.clientHeight||0:Ue.clientWidth||0:0,et=Ve/2-Qe/2,Xe=xe[Fe],We=nt-de[re]-xe[Pe],Be=nt/2-de[re]/2+et,_e=Tt(Xe,Be,We),qe=J;_.modifiersData[N]=((C={})[qe]=_e,C.centerOffset=_e-Be,C)}},effect:function(T){var C=T.state,_=T.options.element,N=_===void 0?"[data-popper-arrow]":_;N!=null&&(typeof N!="string"||(N=C.elements.popper.querySelector(N)))&&He(C.elements.popper,N)&&(C.elements.arrow=N)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yt(T,C,_){return _===void 0&&(_={x:0,y:0}),{top:T.top-C.height-_.y,right:T.right-C.width+_.x,bottom:T.bottom-C.height+_.y,left:T.left-C.width-_.x}}function an(T){return[xt,Qt,lt,mt].some(function(C){return T[C]>=0})}var An=da({defaultModifiers:[$o,Dr,ui,z,ne,Nt,Gt,wt,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(T){var C=T.state,_=T.name,N=C.rects.reference,B=C.rects.popper,Q=C.modifiersData.preventOverflow,Z=pt(C,{elementContext:"reference"}),le=pt(C,{altBoundary:!0}),J=Yt(Z,N),re=Yt(le,B,Q),xe=an(J),de=an(re);C.modifiersData[_]={referenceClippingOffsets:J,popperEscapeOffsets:re,isReferenceHidden:xe,hasPopperEscaped:de},C.attributes.popper=Object.assign({},C.attributes.popper,{"data-popper-reference-hidden":xe,"data-popper-escaped":de})}}]}),or=i(590),Cn=i.n(or),zn=[],sn=function(){},En=function(){return Promise.resolve(null)},oo=[];function di(T){var C=T.placement,_=C===void 0?"bottom":C,N=T.strategy,B=N===void 0?"absolute":N,Q=T.modifiers,Z=Q===void 0?oo:Q,le=T.referenceElement,J=T.onFirstUpdate,re=T.innerRef,xe=T.children,de=f.useContext(j),Fe=f.useState(null),Pe=Fe[0],Ve=Fe[1],Qe=f.useState(null),Ue=Qe[0],nt=Qe[1];f.useEffect(function(){ge(re,Pe)},[re,Pe]);var et=f.useMemo(function(){return{placement:_,strategy:B,onFirstUpdate:J,modifiers:[].concat(Z,[{name:"arrow",enabled:Ue!=null,options:{element:Ue}}])}},[_,B,J,Z,Ue]),Xe=function(it,gt,st){st===void 0&&(st={});var Rt=f.useRef(null),rt={onFirstUpdate:st.onFirstUpdate,placement:st.placement||"bottom",strategy:st.strategy||"absolute",modifiers:st.modifiers||zn},Ut=f.useState({styles:{popper:{position:rt.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),zt=Ut[0],_t=Ut[1],yt=f.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(kt){var Et=kt.state,It=Object.keys(Et.elements);_t({styles:ye(It.map(function(en){return[en,Et.styles[en]||{}]})),attributes:ye(It.map(function(en){return[en,Et.attributes[en]]}))})},requires:["computeStyles"]}},[]),ht=f.useMemo(function(){var kt={onFirstUpdate:rt.onFirstUpdate,placement:rt.placement,strategy:rt.strategy,modifiers:[].concat(rt.modifiers,[yt,{name:"applyStyles",enabled:!1}])};return Cn()(Rt.current,kt)?Rt.current||kt:(Rt.current=kt,kt)},[rt.onFirstUpdate,rt.placement,rt.strategy,rt.modifiers,yt]),Ct=f.useRef();return Y(function(){Ct.current&&Ct.current.setOptions(ht)},[ht]),Y(function(){if(it!=null&&gt!=null){var kt=(st.createPopper||An)(it,gt,ht);return Ct.current=kt,function(){kt.destroy(),Ct.current=null}}},[it,gt,st.createPopper]),{state:Ct.current?Ct.current.state:null,styles:zt.styles,attributes:zt.attributes,update:Ct.current?Ct.current.update:null,forceUpdate:Ct.current?Ct.current.forceUpdate:null}}(le||de,Pe,et),We=Xe.state,Be=Xe.styles,_e=Xe.forceUpdate,qe=Xe.update,Me=f.useMemo(function(){return{ref:Ve,style:Be.popper,placement:We?We.placement:_,hasPopperEscaped:We&&We.modifiersData.hide?We.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:We&&We.modifiersData.hide?We.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:Be.arrow,ref:nt},forceUpdate:_e||sn,update:qe||En}},[Ve,nt,_,We,Be,qe,_e]);return fe(xe)(Me)}var Dc=i(473),Mc=i.n(Dc);function Br(T){var C=T.children,_=T.innerRef,N=f.useContext(P),B=f.useCallback(function(Q){ge(_,Q),me(N,Q)},[_,N]);return f.useEffect(function(){return function(){return ge(_,null)}}),f.useEffect(function(){Mc()(!!N,"`Reference` should not be used outside of a `Manager` component.")},[N]),fe(C)({ref:B})}var Ps=i(379),fa=i.n(Ps),fi=i(717);fa()(fi.Z,{insert:"head",singleton:!1});const dt=fi.Z.locals||{};function pa(T,C){(C==null||C>T.length)&&(C=T.length);for(var _=0,N=new Array(C);_<C;_++)N[_]=T[_];return N}var Ns=function(T){var C=T.className,_=T.tally;return f.createElement("div",{className:D()(dt.tally,C)},f.createElement("div",{className:dt.tallyCounts},f.createElement(h.SectionTallyCount,{type:"introduction",count:_&&_.introduction&&_.introduction.toLocaleString()||0,showLabels:!0}),f.createElement(h.SectionTallyCount,{type:"methods",count:_&&_.methods&&_.methods.toLocaleString()||0,showLabels:!0}),f.createElement(h.SectionTallyCount,{type:"results",count:_&&_.results&&_.results.toLocaleString()||0,showLabels:!0}),f.createElement(h.SectionTallyCount,{type:"discussion",count:_&&_.discussion&&_.discussion.toLocaleString()||0,showLabels:!0}),f.createElement(h.SectionTallyCount,{type:"other",count:_&&_.other&&_.other.toLocaleString()||0,showLabels:!0})))},Ls=function(T){var C=T.className,_=T.tally,N=T.notices;return f.createElement("div",{className:D()(dt.tally,C)},N&&N.length>0&&f.createElement("div",{className:dt.notices},N.map(function(B,Q){return f.createElement("div",{key:"".concat(Q,"-").concat(B),className:dt.notice},f.createElement("div",{className:dt.tallyCounts},B==="Retracted"||B==="Withdrawn"?f.createElement(h.Count,{type:"retractions"}):f.createElement(h.Count,{type:"notices"})),f.createElement("div",{className:dt.noticeLabel},B==="Retracted"||B==="Withdrawn"?f.createElement("span",{className:D()(dt.retractionsCopy,dt[B])},"This paper has been ",B.toLowerCase()):f.createElement("span",{className:D()(dt.noticeCopy,dt[B])},"This paper ",B.toLowerCase())))})),f.createElement("div",{className:dt.tallyCounts},f.createElement(h.Count,{type:"publications",count:_&&_.citingPublications?_.citingPublications.toLocaleString():0,className:dt.tallyCount}),f.createElement(h.Count,{type:"supporting",count:_&&_.supporting?_.supporting.toLocaleString():0,className:dt.tallyCount}),f.createElement(h.Count,{type:"mentioning",count:_&&_.mentioning?_.mentioning.toLocaleString():0,className:dt.tallyCount}),f.createElement(h.Count,{type:"contrasting",count:_&&_.contradicting?_.contradicting.toLocaleString():0,className:dt.tallyCount})),f.createElement("div",{className:dt.labels},f.createElement("span",{className:dt.label},"Citing Publications"),f.createElement("span",{className:dt.label},"Supporting"),f.createElement("span",{className:dt.label},"Mentioning"),f.createElement("span",{className:dt.label},"Contrasting")))},pi=function(T){var C=T.className,_=T.href,N=T.children;return f.createElement("a",{className:D()(dt.link,C),href:_,target:"_blank",rel:"noopener noreferrer"},N)},In=function(T){var C=T.className;return f.createElement("div",{className:C},f.createElement("p",null,"See how this article has been cited at ",f.createElement(pi,{href:"https://scite.ai"},"scite.ai")),f.createElement("p",{className:dt.message},"scite shows how a scientific paper has been cited by providing the context of the citation, a classification describing whether it supports, mentions, or contrasts the cited claim, and a label indicating in which section the citation was made"))},gr=function(T){var C=T.tally,_=T.notices;return f.createElement("div",{className:dt.tooltipContent},f.createElement("img",{className:dt.logo,src:"https://cdn.scite.ai/assets/images/logo.svg"}),f.createElement("span",{className:dt.slogan},"Smart Citations"),f.createElement(Ls,{tally:C,notices:_}),C&&f.createElement("a",{className:dt.button,href:"https://scite.ai/reports/".concat(C.doi),target:"_blank",rel:"noopener noreferrer"},"View Citations"),f.createElement(In,null))},yr=function(T){var C=T.tally;return f.createElement("div",null,f.createElement("img",{className:dt.logo,src:"https://cdn.scite.ai/assets/images/logo.svg"}),f.createElement("span",{className:dt.slogan},"Cited in Sections"),f.createElement(Ns,{tally:C}),C&&f.createElement("a",{className:dt.button,href:"https://scite.ai/reports/".concat(C.doi),target:"_blank",rel:"noopener noreferrer"},"View Citations"),f.createElement(In,null))},vr=function(T){var C,_=T.show,N=T.doi,B=T.tally,Q=T.notices,Z=T.placement,le=T.flip,J=T.slide,re=T.handleMouseEnter,xe=T.handleMouseLeave,de=T.tallyType;(0,f.useEffect)(function(){C&&setTimeout(C)},[B]);var Fe=function(){window.open("https://scite.ai/reports/".concat(N))};return f.createElement(di,{placement:Z,strategy:"fixed",modifiers:[{name:"preventOverflow",options:{mainAxis:!1}},{name:"offset",options:{offset:[J||0,12]}},{name:"flip",options:le?{}:{fallbackPlacements:[]}}]},function(Pe){var Ve,Qe,Ue,nt=Pe.ref,et=Pe.style,Xe=Pe.placement,We=(Pe.arrowProps,Pe.update);return C=We,f.createElement("div",{ref:nt,className:D()(dt.tooltip,(Ve={},Qe=dt.tooltipShow,Ue=_,Qe in Ve?Object.defineProperty(Ve,Qe,{value:Ue,enumerable:!0,configurable:!0,writable:!0}):Ve[Qe]=Ue,Ve)),style:et,"data-placement":Xe,onMouseEnter:re,onMouseLeave:xe,onClick:Fe},de==="smart_citations"&&f.createElement(gr,{tally:B,notices:Q}),de==="sections"&&f.createElement(yr,{tally:B}))})};const br=function(T){var C,_,N,B,Q=T.doi,Z=T.tally,le=T.notices,J=T.showZero,re=T.placement,xe=re===void 0?"top":re,de=T.flip,Fe=T.slide,Pe=Fe===void 0?0:Fe,Ve=T.children,Qe=T.tallyType,Ue=Qe===void 0?"smart_citations":Qe,nt=(N=(0,f.useState)(!1),B=2,function(_e){if(Array.isArray(_e))return _e}(N)||function(_e,qe){var Me=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(Me!=null){var it,gt,st=[],Rt=!0,rt=!1;try{for(Me=Me.call(_e);!(Rt=(it=Me.next()).done)&&(st.push(it.value),!qe||st.length!==qe);Rt=!0);}catch(Ut){rt=!0,gt=Ut}finally{try{Rt||Me.return==null||Me.return()}finally{if(rt)throw gt}}return st}}(N,B)||function(_e,qe){if(_e){if(typeof _e=="string")return pa(_e,qe);var Me=Object.prototype.toString.call(_e).slice(8,-1);return Me==="Object"&&_e.constructor&&(Me=_e.constructor.name),Me==="Map"||Me==="Set"?Array.from(Me):Me==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Me)?pa(_e,qe):void 0}}(N,B)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),et=nt[0],Xe=nt[1],We=function(){xe!=="none"&&(C&&clearTimeout(C),_=setTimeout(function(){Xe(!0)},500))},Be=function(){xe!=="none"&&(_&&clearTimeout(_),C=setTimeout(function(){Xe(!1)},300))};return xe==="none"?Ve:f.createElement(q,null,f.createElement(Br,null,function(_e){var qe=_e.ref;return f.createElement("div",{className:dt.reference,ref:qe,onMouseEnter:We,onMouseLeave:Be},Ve)}),f.createElement(vr,{show:et&&!(Z&&Z.total===0&&!J),doi:Q,tally:Z,notices:le,placement:xe,flip:de,slide:Pe,handleMouseEnter:We,handleMouseLeave:Be,tallyType:Ue}))};var ao=i(180);fa()(ao.Z,{insert:"head",singleton:!1}),ao.Z.locals;var io=i(696);function ha(T,C){(C==null||C>T.length)&&(C=T.length);for(var _=0,N=new Array(C);_<C;_++)N[_]=T[_];return N}function ma(T,C,_,N,B,Q,Z){try{var le=T[Q](Z),J=le.value}catch(re){return void _(re)}le.done?C(J):Promise.resolve(J).then(N,B)}function hi(T){return function(){var C=this,_=arguments;return new Promise(function(N,B){var Q=T.apply(C,_);function Z(J){ma(Q,N,B,Z,le,"next",J)}function le(J){ma(Q,N,B,Z,le,"throw",J)}Z(void 0)})}}function Fo(T,C,_){return C in T?Object.defineProperty(T,C,{value:_,enumerable:!0,configurable:!0,writable:!0}):T[C]=_,T}function mi(T){for(var C=1;C<arguments.length;C++){var _=arguments[C]!=null?arguments[C]:{},N=Object.keys(_);typeof Object.getOwnPropertySymbols=="function"&&(N=N.concat(Object.getOwnPropertySymbols(_).filter(function(B){return Object.getOwnPropertyDescriptor(_,B).enumerable}))),N.forEach(function(B){Fo(T,B,_[B])})}return T}function ga(T,C){return function(_){if(Array.isArray(_))return _}(T)||function(_,N){var B=_==null?null:typeof Symbol<"u"&&_[Symbol.iterator]||_["@@iterator"];if(B!=null){var Q,Z,le=[],J=!0,re=!1;try{for(B=B.call(_);!(J=(Q=B.next()).done)&&(le.push(Q.value),!N||le.length!==N);J=!0);}catch(xe){re=!0,Z=xe}finally{try{J||B.return==null||B.return()}finally{if(re)throw Z}}return le}}(T,C)||Ds(T,C)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gi(T){return function(C){if(Array.isArray(C))return ha(C)}(T)||function(C){if(typeof Symbol<"u"&&C[Symbol.iterator]!=null||C["@@iterator"]!=null)return Array.from(C)}(T)||Ds(T)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ds(T,C){if(T){if(typeof T=="string")return ha(T,C);var _=Object.prototype.toString.call(T).slice(8,-1);return _==="Object"&&T.constructor&&(_=T.constructor.name),_==="Map"||_==="Set"?Array.from(_):_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_)?ha(T,C):void 0}}fa()(io.Z,{insert:"head",singleton:!1}),io.Z.locals;var $n=500,Uo=window.location.hostname;function so(T){var C=T.dataset,_={},N=qo(T);return N&&(_.doi=N),C.tallyShow?_.tallyShow=C.tallyShow==="true":_.tallyShow=!0,C.sectionTallyShow&&(_.sectionTallyShow=C.sectionTallyShow==="true"),C.showLogo&&(_.showLogo=C.showLogo==="true"),C.chartType&&(_.chartType=C.chartType),C.showZero&&(_.showZero=C.showZero==="true"),C.forceCollapse&&(_.forceCollapse=C.forceCollapse==="true"),C.layout&&(_.horizontal=C.layout==="horizontal"),C.sectionTallyLayout&&(_.horizontalSectionTally=C.sectionTallyLayout==="horizontal"),C.tooltipPlacement&&(_.placement=C.tooltipPlacement),C.tooltipSlide&&(_.slide=Number(C.tooltipSlide)),C.showLabels&&(_.showLabels=C.showLabels==="true"),C.targetEl&&(_.targetEl=C.targetEl),C.insertBefore&&(_.insertBefore=C.insertBefore==="true"),C.small&&(_.small=C.small==="true"),C.campaign&&(_.campaign=C.campaign),C.autologin&&(_.autologin=C.autologin),C.rewardfulId&&(_.rewardfulID=C.rewardfulId),_}function lo(T){var C,_=[],N=[],B=!0,Q=!1,Z=void 0;try{for(var le,J=T[Symbol.iterator]();!(B=(le=J.next()).done);B=!0){var re=le.value,xe=qo(re);"tallyShow"in(C=re.dataset)&&C.tallyShow!==null&&C.tallyShow!=="true"||_.push(xe),re.dataset.sectionTallyShow==="true"&&N.push(xe)}}catch(de){Q=!0,Z=de}finally{try{B||J.return==null||J.return()}finally{if(Q)throw Z}}return{tallyDOIs:gi(new Set(_)),sectionTallyDOIs:gi(new Set(N))}}function qo(T){var C,_=T.dataset;if(_.doi&&/^meta:/.test(_.doi)){var N=_.doi.split("meta:").join(""),B="meta[name='".concat(N,"']"),Q=document.querySelector(B);Q?C=Q.getAttribute("content"):console.warn('Scite badge could not find meta tag with name="'.concat(N,'"'))}else _.doi&&(C=_.doi);return C&&C.toLowerCase().trim()}function ya(T,C,_,N){var B=so(T),Q=B.tallyShow||!1,Z=B.sectionTallyShow||!1,le=Q&&Z,J=B.doi,re=B.showZero||!1,xe=B.forceCollapse||!1,de=B.horizontal||!1,Fe=B.placement||"top",Pe=B.showLabels||!1,Ve=B.slide||0,Qe=B.small||!1,Ue=B.campaign||void 0,nt=B.autologin||void 0,et=B.rewardfulID||void 0,Xe=B.showLogo||!0,We=B.chartType||null,Be=B.horizontalSectionTally,_e=!B.placement;try{(0,m.unmountComponentAtNode)(T)}catch{console.warn("Scite badge: unmounting component on another react DOM")}le?(0,m.render)(f.createElement(f.Fragment,null,f.createElement("div",{style:{display:"inline-block",marginBottom:"4px"}},f.createElement(br,{doi:J,tally:C,showZero:re,placement:Fe,flip:_e,slide:Ve,notices:_},f.createElement(h.Tally,{tally:C,horizontal:de,showZero:re,forceCollapse:xe,showLabels:Pe,notices:_,small:Qe,source:Uo,campaign:Ue,autologin:nt,rewardfulID:et,isBadge:!0,showLogo:Xe}))),f.createElement("div",null,f.createElement(br,{doi:J,tally:N,showZero:re,placement:Fe,flip:_e,slide:Ve,tallyType:"sections"},f.createElement(h.SectionTally,{tally:N,horizontal:Be,showZero:re,forceCollapse:xe,showLabels:Pe,small:Qe,source:Uo,campaign:Ue,autologin:nt,rewardfulID:et,isBadge:!0,chartType:We,showLogo:!1})))),T):Q?(0,m.render)(f.createElement(br,{doi:J,tally:C,showZero:re,placement:Fe,flip:_e,slide:Ve,notices:_},f.createElement(h.Tally,{tally:C,horizontal:de,showZero:re,forceCollapse:xe,showLabels:Pe,notices:_,small:Qe,source:Uo,campaign:Ue,autologin:nt,rewardfulID:et,isBadge:!0,showLogo:Xe})),T):Z&&(0,m.render)(f.createElement(br,{doi:J,tally:N,showZero:re,placement:Fe,flip:_e,slide:Ve,tallyType:"sections"},f.createElement(h.SectionTally,{tally:N,horizontal:Be,showZero:re,forceCollapse:xe,showLabels:Pe,small:Qe,source:Uo,campaign:Ue,autologin:nt,rewardfulID:et,isBadge:!0,chartType:We,showLogo:Xe})),T)}function Ho(T){var C=so(T),_=C.targetEl,N=C.insertBefore,B=document.querySelector(_),Q=document.createElement("div");Q.className="scite-badge";var Z=Object.keys(T.dataset),le=!0,J=!1,re=void 0;try{for(var xe,de=Z[Symbol.iterator]();!(le=(xe=de.next()).done);le=!0){var Fe=xe.value;Q.dataset[Fe]=T.dataset[Fe]}}catch(Pe){J=!0,re=Pe}finally{try{le||de.return==null||de.return()}finally{if(J)throw re}}return B||console.warn("Scite badge: could not find element to insert badge wrapper into"),N?B.parentNode.insertBefore(Q,B):B.appendChild(Q),Q}function va(){return ba.apply(this,arguments)}function ba(){return ba=hi(u().mark(function T(){var C,_,N,B,Q,Z,le,J,re,xe,de,Fe,Pe,Ve,Qe,Ue,nt,et,Xe,We,Be,_e,qe,Me,it,gt,st,Rt,rt,Ut,zt,_t,yt,ht,Ct,kt,Et,It,en,mn,ln,wr=arguments;return u().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(C=(wr.length>0&&wr[0]!==void 0?wr[0]:{}).forceReload,document.body){Oe.next=3;break}return Oe.abrupt("return",[]);case 3:_=document.querySelectorAll(".scite-badge-config"),N=!0,B=!1,Q=void 0,Oe.prev=5,Z=_[Symbol.iterator]();case 7:if(N=(le=Z.next()).done){Oe.next=16;break}if((J=le.value).dataset.injected!=="true"){Oe.next=11;break}return Oe.abrupt("continue",13);case 11:Ho(J),J.dataset.injected="true";case 13:N=!0,Oe.next=7;break;case 16:Oe.next=22;break;case 18:Oe.prev=18,Oe.t0=Oe.catch(5),B=!0,Q=Oe.t0;case 22:Oe.prev=22,Oe.prev=23,N||Z.return==null||Z.return();case 25:if(Oe.prev=25,!B){Oe.next=28;break}throw Q;case 28:return Oe.finish(25);case 29:return Oe.finish(22);case 30:re=document.querySelectorAll(".scite-badge"),xe=[],de=!0,Fe=!1,Pe=void 0,Oe.prev=33,Ve=re[Symbol.iterator]();case 35:if(de=(Qe=Ve.next()).done){Oe.next=43;break}if((Ue=Qe.value).dataset.fetched!=="true"||C){Oe.next=39;break}return Oe.abrupt("continue",40);case 39:xe.push(Ue);case 40:de=!0,Oe.next=35;break;case 43:Oe.next=49;break;case 45:Oe.prev=45,Oe.t1=Oe.catch(33),Fe=!0,Pe=Oe.t1;case 49:Oe.prev=49,Oe.prev=50,de||Ve.return==null||Ve.return();case 52:if(Oe.prev=52,!Fe){Oe.next=55;break}throw Pe;case 55:return Oe.finish(52);case 56:return Oe.finish(49);case 57:if(nt=lo(xe),et=nt.tallyDOIs,Xe=nt.sectionTallyDOIs,et.length!==0||Xe.length!==0){Oe.next=60;break}return Oe.abrupt("return",re);case 60:We=Math.max(Math.ceil(et.length/$n),Math.ceil(Xe.length/$n)),Be={},_e={},qe={},Me=0;case 65:if(!(Me<We)){Oe.next=100;break}return it=et.slice(Me*$n,(Me+1)*$n),gt=Xe.slice(Me*$n,(Me+1)*$n),Oe.t2=ga,Oe.next=71,Promise.all([L(it),U(it),X(gt)]);case 71:for(Oe.t3=Oe.sent,st=(0,Oe.t2)(Oe.t3,3),Rt=st[0].tallies,rt=st[1].notices,Ut=st[2],zt=Ut.tallies,Be=mi({},Be,Rt),_e=mi({},_e,rt),qe=mi({},qe,zt),_t=!0,yt=!1,ht=void 0,Oe.prev=81,Ct=xe[Symbol.iterator]();!(_t=(kt=Ct.next()).done);_t=!0)Et=kt.value,(It=qo(Et))in Be||It in qe?(en=It in Be?Be[It]:{total:0,citingPublications:0},mn=It in Be?rt[It]:{},ln=It in qe?qe[It]:{},ya(Et,en,mn,ln)):ya(Et,{total:0,citingPublications:0},{},{}),Et.dataset.fetched="true";Oe.next=89;break;case 85:Oe.prev=85,Oe.t4=Oe.catch(81),yt=!0,ht=Oe.t4;case 89:Oe.prev=89,Oe.prev=90,_t||Ct.return==null||Ct.return();case 92:if(Oe.prev=92,!yt){Oe.next=95;break}throw ht;case 95:return Oe.finish(92);case 96:return Oe.finish(89);case 97:Me++,Oe.next=65;break;case 100:return Oe.abrupt("return",re);case 101:case"end":return Oe.stop()}},T,null,[[5,18,22,30],[23,,25,29],[33,45,49,57],[50,,52,56],[81,85,89,97],[90,,92,96]])})),ba.apply(this,arguments)}function Ms(){return yi.apply(this,arguments)}function yi(){return(yi=hi(u().mark(function T(){return u().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,va();case 2:C.sent.length===0&&window.addEventListener("load",va);case 4:case"end":return C.stop()}},T)}))).apply(this,arguments)}})(),l})())})(kv);var JE=kv.exports;const eS=window.React.memo,tS=window.React.useEffect,nS=window.React.useRef,rS=eS(function(e){const{doi:n,layout:o="horizontal",showLabels:i=!1,showZero:l=!0,small:c=!1,tooltipPlacement:u="auto",tooltipSlide:f=0}=e,m=nS(null);return tS(()=>{m?.current?.removeAttribute("data-fetched"),JE.insertBadges()}),d.jsx("div",{className:"scite-badge","data-doi":n,"data-layout":o,"data-show-labels":i.toString(),"data-show-zero":l.toString(),"data-small":c.toString(),"data-tooltip-placement":u,"data-tooltip-slide":f,ref:m})});window.React.useMemo;const{Provider:cP,useSettings:oS}=new tr;window.React.useCallback;window.Blueprint.Core.parseKeyCombo;const{Provider:uP,useSettings:Ac}=new tr;window.React.useCallback;const{Provider:dP,useSettings:li}=new tr({afterUpdate:(t,e)=>{window?.zoteroRoam?.updateSetting?.("typemap",e)}});window.React.useMemo;const{Provider:fP,useSettings:aS}=new tr,iS=window.Blueprint.Core.AnchorButton,Or=t=>{const{children:e=null,href:n,minimal:o=!0,...i}=t;return d.jsx(iS,{href:n,intent:"primary",minimal:o,rel:"noreferrer",target:"_blank",...i,children:e})};const sS=window.React.memo,Rm=window.React.useCallback,lS=window.React.useMemo,Am=window.Blueprint.Core.Button,cS=window.Blueprint.Core.ControlGroup,No=({className:t=null,children:e,...n})=>d.jsx("li",{className:[t,W.DATALIST_ITEM].filter(Bt).join(" "),...n,children:e}),Lo=({children:t})=>d.jsx("ul",{className:W.DATALIST_WRAPPER,children:t}),Os=sS(function({arrows:e="last",currentPage:n,itemsPerPage:o=30,nbItems:i,setCurrentPage:l}){const c=lS(()=>i==0?0:Math.ceil(i/o),[o,i]),u=Rm(()=>{n<c&&l(n+1)},[n,c,l]),f=Rm(()=>{n>1&&l(n-1)},[n,l]),m=d.jsxs("span",{className:W.TEXT_SMALL,"zr-role":"items-count",children:[d.jsxs("strong",{children:[(n-1)*o+1,"-",Math.min(n*o,i)]})," / ",fn(i,"item")]}),h=d.jsxs(cS,{children:[d.jsx(Am,{"aria-disabled":n==1,disabled:n==1,icon:"chevron-left",minimal:!0,onClick:f,title:"Go to previous page of results"}),d.jsx(Am,{"aria-disabled":n>=c,disabled:n>=c,icon:"chevron-right",minimal:!0,onClick:u,title:"Go to next page of results"})]});return d.jsx("div",{className:W.DATALIST_PAGINATION,children:i>0?d.jsxs(d.Fragment,{children:[e=="first"&&h,m,e=="last"&&h]}):null})}),eo=({children:t})=>d.jsx("div",{className:W.DATALIST_TOOLBAR,children:t}),uS=window.React.createContext;window.React.useCallback;const dS=window.React.useContext;window.React.useMemo;window.React.useState;const fS=uS(null),Do=()=>{const t=dS(fS);if(!t)throw new Error("No context provided");return t},pS=window.Blueprint.Core.Classes;var If=pS.getClassNamespace(),Ic="".concat(If,"-context-menu2"),hS="".concat(Ic,"-virtual-target"),mS="".concat(Ic,"-popover2"),gS="".concat(Ic,"-backdrop"),bn="".concat(If,"-popover2"),td="".concat(bn,"-arrow"),yS="".concat(bn,"-backdrop"),Im="".concat(bn,"-capturing-dismiss"),vS="".concat(bn,"-content"),bS="".concat(bn,"-placement"),Hd="".concat(bn,"-dismiss"),wS="".concat(Hd,"-override"),xS="".concat(bn,"-open"),CS="".concat(bn,"-popper-escaped"),ES="".concat(bn,"-reference-hidden"),SS="".concat(bn,"-target"),TS="".concat(bn,"-transition-container"),_S="".concat(If,"-tooltip2"),Mo="[Blueprint]",kS="".concat(Mo," <Popover2> requires renderTarget prop or a child element."),OS="".concat(Mo,' <Popover2 hasBackdrop={true}> requires interactionKind="click".'),RS="".concat(Mo," <Popover2> supports only one child which is rendered as its target; additional children are ignored."),AS=Mo+" <Popover2> with children ignores renderTarget prop; use either prop or children.",IS=Mo+" Disabling <Popover2> with empty/whitespace content...",jS=Mo+" <Popover2 usePortal={false}> ignores hasBackdrop",PS=Mo+" <Popover2> supports either placement or position prop, not both.",NS=Mo+" <Popover2> onInteraction is ignored when uncontrolled.";/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Vd=function(t,e){return Vd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},Vd(t,e)};function jf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Vd(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Dt=function(){return Dt=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++){n=arguments[o];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},Dt.apply(this,arguments)};function Ov(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(n[o[i]]=t[o[i]]);return n}var Rv={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o=[],i=0;i<arguments.length;i++){var l=arguments[i];if(l){var c=typeof l;if(c==="string"||c==="number")o.push(l);else if(Array.isArray(l)){if(l.length){var u=n.apply(null,l);u&&o.push(u)}}else if(c==="object")if(l.toString===Object.prototype.toString)for(var f in l)e.call(l,f)&&l[f]&&o.push(f);else o.push(l.toString())}}return o.join(" ")}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Rv);var LS=Rv.exports;const Va=mc(LS),ko=window.React;var Av=ko.createContext(),Iv=ko.createContext();function DS(t){var e=t.children,n=ko.useState(null),o=n[0],i=n[1],l=ko.useRef(!1);ko.useEffect(function(){return function(){l.current=!0}},[]);var c=ko.useCallback(function(u){l.current||i(u)},[]);return ko.createElement(Av.Provider,{value:o},ko.createElement(Iv.Provider,{value:c},e))}const jm=window.React;var jv=function(e){return Array.isArray(e)?e[0]:e},Pv=function(e){if(typeof e=="function"){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return e.apply(void 0,o)}},Xd=function(e,n){if(typeof e=="function")return Pv(e,n);e!=null&&(e.current=n)},Pm=function(e){return e.reduce(function(n,o){var i=o[0],l=o[1];return n[i]=l,n},{})},Nm=typeof window<"u"&&window.document&&window.document.createElement?jm.useLayoutEffect:jm.useEffect,kn="top",Jn="bottom",er="right",On="left",Pf="auto",Rs=[kn,Jn,er,On],ni="start",ms="end",MS="clippingParents",Nv="viewport",Zi="popper",BS="reference",Lm=Rs.reduce(function(t,e){return t.concat([e+"-"+ni,e+"-"+ms])},[]),Lv=[].concat(Rs,[Pf]).reduce(function(t,e){return t.concat([e,e+"-"+ni,e+"-"+ms])},[]),zS="beforeRead",$S="read",FS="afterRead",US="beforeMain",qS="main",HS="afterMain",VS="beforeWrite",XS="write",WS="afterWrite",QS=[zS,$S,FS,US,qS,HS,VS,XS,WS];function Pr(t){return t?(t.nodeName||"").toLowerCase():null}function Dn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ia(t){var e=Dn(t).Element;return t instanceof e||t instanceof Element}function Zn(t){var e=Dn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Nf(t){if(typeof ShadowRoot>"u")return!1;var e=Dn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function KS(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var o=e.styles[n]||{},i=e.attributes[n]||{},l=e.elements[n];!Zn(l)||!Pr(l)||(Object.assign(l.style,o),Object.keys(i).forEach(function(c){var u=i[c];u===!1?l.removeAttribute(c):l.setAttribute(c,u===!0?"":u)}))})}function GS(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(o){var i=e.elements[o],l=e.attributes[o]||{},c=Object.keys(e.styles.hasOwnProperty(o)?e.styles[o]:n[o]),u=c.reduce(function(f,m){return f[m]="",f},{});!Zn(i)||!Pr(i)||(Object.assign(i.style,u),Object.keys(l).forEach(function(f){i.removeAttribute(f)}))})}}const YS={name:"applyStyles",enabled:!0,phase:"write",fn:KS,effect:GS,requires:["computeStyles"]};function Ir(t){return t.split("-")[0]}var ra=Math.max,cc=Math.min,ri=Math.round;function Wd(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Dv(){return!/^((?!chrome|android).)*safari/i.test(Wd())}function oi(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var o=t.getBoundingClientRect(),i=1,l=1;e&&Zn(t)&&(i=t.offsetWidth>0&&ri(o.width)/t.offsetWidth||1,l=t.offsetHeight>0&&ri(o.height)/t.offsetHeight||1);var c=ia(t)?Dn(t):window,u=c.visualViewport,f=!Dv()&&n,m=(o.left+(f&&u?u.offsetLeft:0))/i,h=(o.top+(f&&u?u.offsetTop:0))/l,v=o.width/i,y=o.height/l;return{width:v,height:y,top:h,right:m+v,bottom:h+y,left:m,x:m,y:h}}function Lf(t){var e=oi(t),n=t.offsetWidth,o=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:o}}function Mv(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Nf(n)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function to(t){return Dn(t).getComputedStyle(t)}function ZS(t){return["table","td","th"].indexOf(Pr(t))>=0}function Bo(t){return((ia(t)?t.ownerDocument:t.document)||window.document).documentElement}function jc(t){return Pr(t)==="html"?t:t.assignedSlot||t.parentNode||(Nf(t)?t.host:null)||Bo(t)}function Dm(t){return!Zn(t)||to(t).position==="fixed"?null:t.offsetParent}function JS(t){var e=/firefox/i.test(Wd()),n=/Trident/i.test(Wd());if(n&&Zn(t)){var o=to(t);if(o.position==="fixed")return null}var i=jc(t);for(Nf(i)&&(i=i.host);Zn(i)&&["html","body"].indexOf(Pr(i))<0;){var l=to(i);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return i;i=i.parentNode}return null}function As(t){for(var e=Dn(t),n=Dm(t);n&&ZS(n)&&to(n).position==="static";)n=Dm(n);return n&&(Pr(n)==="html"||Pr(n)==="body"&&to(n).position==="static")?e:n||JS(t)||e}function Df(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function as(t,e,n){return ra(t,cc(e,n))}function eT(t,e,n){var o=as(t,e,n);return o>n?n:o}function Bv(){return{top:0,right:0,bottom:0,left:0}}function zv(t){return Object.assign({},Bv(),t)}function $v(t,e){return e.reduce(function(n,o){return n[o]=t,n},{})}var tT=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,zv(typeof e!="number"?e:$v(e,Rs))};function nT(t){var e,n=t.state,o=t.name,i=t.options,l=n.elements.arrow,c=n.modifiersData.popperOffsets,u=Ir(n.placement),f=Df(u),m=[On,er].indexOf(u)>=0,h=m?"height":"width";if(!(!l||!c)){var v=tT(i.padding,n),y=Lf(l),b=f==="y"?kn:On,x=f==="y"?Jn:er,S=n.rects.reference[h]+n.rects.reference[f]-c[f]-n.rects.popper[h],k=c[f]-n.rects.reference[f],A=As(l),L=A?f==="y"?A.clientHeight||0:A.clientWidth||0:0,U=S/2-k/2,X=v[b],ee=L-y[h]-v[x],D=L/2-y[h]/2+U,j=as(X,D,ee),P=f;n.modifiersData[o]=(e={},e[P]=j,e.centerOffset=j-D,e)}}function rT(t){var e=t.state,n=t.options,o=n.element,i=o===void 0?"[data-popper-arrow]":o;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||Mv(e.elements.popper,i)&&(e.elements.arrow=i))}const oT={name:"arrow",enabled:!0,phase:"main",fn:nT,effect:rT,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ai(t){return t.split("-")[1]}var aT={top:"auto",right:"auto",bottom:"auto",left:"auto"};function iT(t,e){var n=t.x,o=t.y,i=e.devicePixelRatio||1;return{x:ri(n*i)/i||0,y:ri(o*i)/i||0}}function Mm(t){var e,n=t.popper,o=t.popperRect,i=t.placement,l=t.variation,c=t.offsets,u=t.position,f=t.gpuAcceleration,m=t.adaptive,h=t.roundOffsets,v=t.isFixed,y=c.x,b=y===void 0?0:y,x=c.y,S=x===void 0?0:x,k=typeof h=="function"?h({x:b,y:S}):{x:b,y:S};b=k.x,S=k.y;var A=c.hasOwnProperty("x"),L=c.hasOwnProperty("y"),U=On,X=kn,ee=window;if(m){var D=As(n),j="clientHeight",P="clientWidth";if(D===Dn(n)&&(D=Bo(n),to(D).position!=="static"&&u==="absolute"&&(j="scrollHeight",P="scrollWidth")),D=D,i===kn||(i===On||i===er)&&l===ms){X=Jn;var q=v&&D===ee&&ee.visualViewport?ee.visualViewport.height:D[j];S-=q-o.height,S*=f?1:-1}if(i===On||(i===kn||i===Jn)&&l===ms){U=er;var fe=v&&D===ee&&ee.visualViewport?ee.visualViewport.width:D[P];b-=fe-o.width,b*=f?1:-1}}var me=Object.assign({position:u},m&&aT),ge=h===!0?iT({x:b,y:S},Dn(n)):{x:b,y:S};if(b=ge.x,S=ge.y,f){var ye;return Object.assign({},me,(ye={},ye[X]=L?"0":"",ye[U]=A?"0":"",ye.transform=(ee.devicePixelRatio||1)<=1?"translate("+b+"px, "+S+"px)":"translate3d("+b+"px, "+S+"px, 0)",ye))}return Object.assign({},me,(e={},e[X]=L?S+"px":"",e[U]=A?b+"px":"",e.transform="",e))}function sT(t){var e=t.state,n=t.options,o=n.gpuAcceleration,i=o===void 0?!0:o,l=n.adaptive,c=l===void 0?!0:l,u=n.roundOffsets,f=u===void 0?!0:u,m={placement:Ir(e.placement),variation:ai(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Mm(Object.assign({},m,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:c,roundOffsets:f})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Mm(Object.assign({},m,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const lT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:sT,data:{}};var Rl={passive:!0};function cT(t){var e=t.state,n=t.instance,o=t.options,i=o.scroll,l=i===void 0?!0:i,c=o.resize,u=c===void 0?!0:c,f=Dn(e.elements.popper),m=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&m.forEach(function(h){h.addEventListener("scroll",n.update,Rl)}),u&&f.addEventListener("resize",n.update,Rl),function(){l&&m.forEach(function(h){h.removeEventListener("scroll",n.update,Rl)}),u&&f.removeEventListener("resize",n.update,Rl)}}const uT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:cT,data:{}};var dT={left:"right",right:"left",bottom:"top",top:"bottom"};function Gl(t){return t.replace(/left|right|bottom|top/g,function(e){return dT[e]})}var fT={start:"end",end:"start"};function Bm(t){return t.replace(/start|end/g,function(e){return fT[e]})}function Mf(t){var e=Dn(t),n=e.pageXOffset,o=e.pageYOffset;return{scrollLeft:n,scrollTop:o}}function Bf(t){return oi(Bo(t)).left+Mf(t).scrollLeft}function pT(t,e){var n=Dn(t),o=Bo(t),i=n.visualViewport,l=o.clientWidth,c=o.clientHeight,u=0,f=0;if(i){l=i.width,c=i.height;var m=Dv();(m||!m&&e==="fixed")&&(u=i.offsetLeft,f=i.offsetTop)}return{width:l,height:c,x:u+Bf(t),y:f}}function hT(t){var e,n=Bo(t),o=Mf(t),i=(e=t.ownerDocument)==null?void 0:e.body,l=ra(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=ra(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-o.scrollLeft+Bf(t),f=-o.scrollTop;return to(i||n).direction==="rtl"&&(u+=ra(n.clientWidth,i?i.clientWidth:0)-l),{width:l,height:c,x:u,y:f}}function zf(t){var e=to(t),n=e.overflow,o=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+o)}function Fv(t){return["html","body","#document"].indexOf(Pr(t))>=0?t.ownerDocument.body:Zn(t)&&zf(t)?t:Fv(jc(t))}function is(t,e){var n;e===void 0&&(e=[]);var o=Fv(t),i=o===((n=t.ownerDocument)==null?void 0:n.body),l=Dn(o),c=i?[l].concat(l.visualViewport||[],zf(o)?o:[]):o,u=e.concat(c);return i?u:u.concat(is(jc(c)))}function Qd(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function mT(t,e){var n=oi(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function zm(t,e,n){return e===Nv?Qd(pT(t,n)):ia(e)?mT(e,n):Qd(hT(Bo(t)))}function gT(t){var e=is(jc(t)),n=["absolute","fixed"].indexOf(to(t).position)>=0,o=n&&Zn(t)?As(t):t;return ia(o)?e.filter(function(i){return ia(i)&&Mv(i,o)&&Pr(i)!=="body"}):[]}function yT(t,e,n,o){var i=e==="clippingParents"?gT(t):[].concat(e),l=[].concat(i,[n]),c=l[0],u=l.reduce(function(f,m){var h=zm(t,m,o);return f.top=ra(h.top,f.top),f.right=cc(h.right,f.right),f.bottom=cc(h.bottom,f.bottom),f.left=ra(h.left,f.left),f},zm(t,c,o));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function Uv(t){var e=t.reference,n=t.element,o=t.placement,i=o?Ir(o):null,l=o?ai(o):null,c=e.x+e.width/2-n.width/2,u=e.y+e.height/2-n.height/2,f;switch(i){case kn:f={x:c,y:e.y-n.height};break;case Jn:f={x:c,y:e.y+e.height};break;case er:f={x:e.x+e.width,y:u};break;case On:f={x:e.x-n.width,y:u};break;default:f={x:e.x,y:e.y}}var m=i?Df(i):null;if(m!=null){var h=m==="y"?"height":"width";switch(l){case ni:f[m]=f[m]-(e[h]/2-n[h]/2);break;case ms:f[m]=f[m]+(e[h]/2-n[h]/2);break}}return f}function gs(t,e){e===void 0&&(e={});var n=e,o=n.placement,i=o===void 0?t.placement:o,l=n.strategy,c=l===void 0?t.strategy:l,u=n.boundary,f=u===void 0?MS:u,m=n.rootBoundary,h=m===void 0?Nv:m,v=n.elementContext,y=v===void 0?Zi:v,b=n.altBoundary,x=b===void 0?!1:b,S=n.padding,k=S===void 0?0:S,A=zv(typeof k!="number"?k:$v(k,Rs)),L=y===Zi?BS:Zi,U=t.rects.popper,X=t.elements[x?L:y],ee=yT(ia(X)?X:X.contextElement||Bo(t.elements.popper),f,h,c),D=oi(t.elements.reference),j=Uv({reference:D,element:U,strategy:"absolute",placement:i}),P=Qd(Object.assign({},U,j)),q=y===Zi?P:D,fe={top:ee.top-q.top+A.top,bottom:q.bottom-ee.bottom+A.bottom,left:ee.left-q.left+A.left,right:q.right-ee.right+A.right},me=t.modifiersData.offset;if(y===Zi&&me){var ge=me[i];Object.keys(fe).forEach(function(ye){var Y=[er,Jn].indexOf(ye)>=0?1:-1,be=[kn,Jn].indexOf(ye)>=0?"y":"x";fe[ye]+=ge[be]*Y})}return fe}function vT(t,e){e===void 0&&(e={});var n=e,o=n.placement,i=n.boundary,l=n.rootBoundary,c=n.padding,u=n.flipVariations,f=n.allowedAutoPlacements,m=f===void 0?Lv:f,h=ai(o),v=h?u?Lm:Lm.filter(function(x){return ai(x)===h}):Rs,y=v.filter(function(x){return m.indexOf(x)>=0});y.length===0&&(y=v);var b=y.reduce(function(x,S){return x[S]=gs(t,{placement:S,boundary:i,rootBoundary:l,padding:c})[Ir(S)],x},{});return Object.keys(b).sort(function(x,S){return b[x]-b[S]})}function bT(t){if(Ir(t)===Pf)return[];var e=Gl(t);return[Bm(t),e,Bm(e)]}function wT(t){var e=t.state,n=t.options,o=t.name;if(!e.modifiersData[o]._skip){for(var i=n.mainAxis,l=i===void 0?!0:i,c=n.altAxis,u=c===void 0?!0:c,f=n.fallbackPlacements,m=n.padding,h=n.boundary,v=n.rootBoundary,y=n.altBoundary,b=n.flipVariations,x=b===void 0?!0:b,S=n.allowedAutoPlacements,k=e.options.placement,A=Ir(k),L=A===k,U=f||(L||!x?[Gl(k)]:bT(k)),X=[k].concat(U).reduce(function(M,G){return M.concat(Ir(G)===Pf?vT(e,{placement:G,boundary:h,rootBoundary:v,padding:m,flipVariations:x,allowedAutoPlacements:S}):G)},[]),ee=e.rects.reference,D=e.rects.popper,j=new Map,P=!0,q=X[0],fe=0;fe<X.length;fe++){var me=X[fe],ge=Ir(me),ye=ai(me)===ni,Y=[kn,Jn].indexOf(ge)>=0,be=Y?"width":"height",se=gs(e,{placement:me,boundary:h,rootBoundary:v,altBoundary:y,padding:m}),we=Y?ye?er:On:ye?Jn:kn;ee[be]>D[be]&&(we=Gl(we));var ze=Gl(we),Ke=[];if(l&&Ke.push(se[ge]<=0),u&&Ke.push(se[we]<=0,se[ze]<=0),Ke.every(function(M){return M})){q=me,P=!1;break}j.set(me,Ke)}if(P)for(var Le=x?3:1,Je=function(G){var ue=X.find(function(ae){var K=j.get(ae);if(K)return K.slice(0,G).every(function(te){return te})});if(ue)return q=ue,"break"},ft=Le;ft>0;ft--){var I=Je(ft);if(I==="break")break}e.placement!==q&&(e.modifiersData[o]._skip=!0,e.placement=q,e.reset=!0)}}const xT={name:"flip",enabled:!0,phase:"main",fn:wT,requiresIfExists:["offset"],data:{_skip:!1}};function $m(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Fm(t){return[kn,er,Jn,On].some(function(e){return t[e]>=0})}function CT(t){var e=t.state,n=t.name,o=e.rects.reference,i=e.rects.popper,l=e.modifiersData.preventOverflow,c=gs(e,{elementContext:"reference"}),u=gs(e,{altBoundary:!0}),f=$m(c,o),m=$m(u,i,l),h=Fm(f),v=Fm(m);e.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:m,isReferenceHidden:h,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":v})}const ET={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:CT};function ST(t,e,n){var o=Ir(t),i=[On,kn].indexOf(o)>=0?-1:1,l=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,c=l[0],u=l[1];return c=c||0,u=(u||0)*i,[On,er].indexOf(o)>=0?{x:u,y:c}:{x:c,y:u}}function TT(t){var e=t.state,n=t.options,o=t.name,i=n.offset,l=i===void 0?[0,0]:i,c=Lv.reduce(function(h,v){return h[v]=ST(v,e.rects,l),h},{}),u=c[e.placement],f=u.x,m=u.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=f,e.modifiersData.popperOffsets.y+=m),e.modifiersData[o]=c}const _T={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:TT};function kT(t){var e=t.state,n=t.name;e.modifiersData[n]=Uv({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const OT={name:"popperOffsets",enabled:!0,phase:"read",fn:kT,data:{}};function RT(t){return t==="x"?"y":"x"}function AT(t){var e=t.state,n=t.options,o=t.name,i=n.mainAxis,l=i===void 0?!0:i,c=n.altAxis,u=c===void 0?!1:c,f=n.boundary,m=n.rootBoundary,h=n.altBoundary,v=n.padding,y=n.tether,b=y===void 0?!0:y,x=n.tetherOffset,S=x===void 0?0:x,k=gs(e,{boundary:f,rootBoundary:m,padding:v,altBoundary:h}),A=Ir(e.placement),L=ai(e.placement),U=!L,X=Df(A),ee=RT(X),D=e.modifiersData.popperOffsets,j=e.rects.reference,P=e.rects.popper,q=typeof S=="function"?S(Object.assign({},e.rects,{placement:e.placement})):S,fe=typeof q=="number"?{mainAxis:q,altAxis:q}:Object.assign({mainAxis:0,altAxis:0},q),me=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ge={x:0,y:0};if(D){if(l){var ye,Y=X==="y"?kn:On,be=X==="y"?Jn:er,se=X==="y"?"height":"width",we=D[X],ze=we+k[Y],Ke=we-k[be],Le=b?-P[se]/2:0,Je=L===ni?j[se]:P[se],ft=L===ni?-P[se]:-j[se],I=e.elements.arrow,M=b&&I?Lf(I):{width:0,height:0},G=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Bv(),ue=G[Y],ae=G[be],K=as(0,j[se],M[se]),te=U?j[se]/2-Le-K-ue-fe.mainAxis:Je-K-ue-fe.mainAxis,Ce=U?-j[se]/2+Le+K+ae+fe.mainAxis:ft+K+ae+fe.mainAxis,Re=e.elements.arrow&&As(e.elements.arrow),Ee=Re?X==="y"?Re.clientTop||0:Re.clientLeft||0:0,ot=(ye=me?.[X])!=null?ye:0,St=we+te-ot-Ee,Vt=we+Ce-ot,Ot=as(b?cc(ze,St):ze,we,b?ra(Ke,Vt):Ke);D[X]=Ot,ge[X]=Ot-we}if(u){var xt,lt=X==="x"?kn:On,Qt=X==="x"?Jn:er,mt=D[ee],wn=ee==="y"?"height":"width",rn=mt+k[lt],pn=mt-k[Qt],xn=[kn,On].indexOf(A)!==-1,ur=(xt=me?.[ee])!=null?xt:0,on=xn?rn:mt-j[wn]-P[wn]-ur+fe.altAxis,dr=xn?mt+j[wn]+P[wn]-ur-fe.altAxis:pn,nr=b&&xn?eT(on,mt,dr):as(b?on:rn,mt,b?dr:pn);D[ee]=nr,ge[ee]=nr-mt}e.modifiersData[o]=ge}}const IT={name:"preventOverflow",enabled:!0,phase:"main",fn:AT,requiresIfExists:["offset"]};function jT(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function PT(t){return t===Dn(t)||!Zn(t)?Mf(t):jT(t)}function NT(t){var e=t.getBoundingClientRect(),n=ri(e.width)/t.offsetWidth||1,o=ri(e.height)/t.offsetHeight||1;return n!==1||o!==1}function LT(t,e,n){n===void 0&&(n=!1);var o=Zn(e),i=Zn(e)&&NT(e),l=Bo(e),c=oi(t,i,n),u={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(o||!o&&!n)&&((Pr(e)!=="body"||zf(l))&&(u=PT(e)),Zn(e)?(f=oi(e,!0),f.x+=e.clientLeft,f.y+=e.clientTop):l&&(f.x=Bf(l))),{x:c.left+u.scrollLeft-f.x,y:c.top+u.scrollTop-f.y,width:c.width,height:c.height}}function DT(t){var e=new Map,n=new Set,o=[];t.forEach(function(l){e.set(l.name,l)});function i(l){n.add(l.name);var c=[].concat(l.requires||[],l.requiresIfExists||[]);c.forEach(function(u){if(!n.has(u)){var f=e.get(u);f&&i(f)}}),o.push(l)}return t.forEach(function(l){n.has(l.name)||i(l)}),o}function MT(t){var e=DT(t);return QS.reduce(function(n,o){return n.concat(e.filter(function(i){return i.phase===o}))},[])}function BT(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function zT(t){var e=t.reduce(function(n,o){var i=n[o.name];return n[o.name]=i?Object.assign({},i,o,{options:Object.assign({},i.options,o.options),data:Object.assign({},i.data,o.data)}):o,n},{});return Object.keys(e).map(function(n){return e[n]})}var Um={placement:"bottom",modifiers:[],strategy:"absolute"};function qm(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function $T(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,o=n===void 0?[]:n,i=e.defaultOptions,l=i===void 0?Um:i;return function(u,f,m){m===void 0&&(m=l);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Um,l),modifiersData:{},elements:{reference:u,popper:f},attributes:{},styles:{}},v=[],y=!1,b={state:h,setOptions:function(A){var L=typeof A=="function"?A(h.options):A;S(),h.options=Object.assign({},l,h.options,L),h.scrollParents={reference:ia(u)?is(u):u.contextElement?is(u.contextElement):[],popper:is(f)};var U=MT(zT([].concat(o,h.options.modifiers)));return h.orderedModifiers=U.filter(function(X){return X.enabled}),x(),b.update()},forceUpdate:function(){if(!y){var A=h.elements,L=A.reference,U=A.popper;if(qm(L,U)){h.rects={reference:LT(L,As(U),h.options.strategy==="fixed"),popper:Lf(U)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(fe){return h.modifiersData[fe.name]=Object.assign({},fe.data)});for(var X=0;X<h.orderedModifiers.length;X++){if(h.reset===!0){h.reset=!1,X=-1;continue}var ee=h.orderedModifiers[X],D=ee.fn,j=ee.options,P=j===void 0?{}:j,q=ee.name;typeof D=="function"&&(h=D({state:h,options:P,name:q,instance:b})||h)}}}},update:BT(function(){return new Promise(function(k){b.forceUpdate(),k(h)})}),destroy:function(){S(),y=!0}};if(!qm(u,f))return b;b.setOptions(m).then(function(k){!y&&m.onFirstUpdate&&m.onFirstUpdate(k)});function x(){h.orderedModifiers.forEach(function(k){var A=k.name,L=k.options,U=L===void 0?{}:L,X=k.effect;if(typeof X=="function"){var ee=X({state:h,name:A,instance:b,options:U}),D=function(){};v.push(ee||D)}})}function S(){v.forEach(function(k){return k()}),v=[]}return b}}var FT=[uT,OT,lT,YS,_T,xT,IT,oT,ET],UT=$T({defaultModifiers:FT}),qT=typeof Element<"u",HT=typeof Map=="function",VT=typeof Set=="function",XT=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Yl(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,o,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(o=n;o--!==0;)if(!Yl(t[o],e[o]))return!1;return!0}var l;if(HT&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(l=t.entries();!(o=l.next()).done;)if(!e.has(o.value[0]))return!1;for(l=t.entries();!(o=l.next()).done;)if(!Yl(o.value[1],e.get(o.value[0])))return!1;return!0}if(VT&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(l=t.entries();!(o=l.next()).done;)if(!e.has(o.value[0]))return!1;return!0}if(XT&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(o=n;o--!==0;)if(t[o]!==e[o])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[o]))return!1;if(qT&&t instanceof Element)return!1;for(o=n;o--!==0;)if(!((i[o]==="_owner"||i[o]==="__v"||i[o]==="__o")&&t.$$typeof)&&!Yl(t[i[o]],e[i[o]]))return!1;return!0}return t!==t&&e!==e}var WT=function(e,n){try{return Yl(e,n)}catch(o){if((o.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw o}};const QT=mc(WT),Ji=window.React,KT=window.ReactDOM;var GT=[],YT=function(e,n,o){o===void 0&&(o={});var i=Ji.useRef(null),l={onFirstUpdate:o.onFirstUpdate,placement:o.placement||"bottom",strategy:o.strategy||"absolute",modifiers:o.modifiers||GT},c=Ji.useState({styles:{popper:{position:l.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),u=c[0],f=c[1],m=Ji.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(b){var x=b.state,S=Object.keys(x.elements);KT.flushSync(function(){f({styles:Pm(S.map(function(k){return[k,x.styles[k]||{}]})),attributes:Pm(S.map(function(k){return[k,x.attributes[k]]}))})})},requires:["computeStyles"]}},[]),h=Ji.useMemo(function(){var y={onFirstUpdate:l.onFirstUpdate,placement:l.placement,strategy:l.strategy,modifiers:[].concat(l.modifiers,[m,{name:"applyStyles",enabled:!1}])};return QT(i.current,y)?i.current||y:(i.current=y,y)},[l.onFirstUpdate,l.placement,l.strategy,l.modifiers,m]),v=Ji.useRef();return Nm(function(){v.current&&v.current.setOptions(h)},[h]),Nm(function(){if(!(e==null||n==null)){var y=o.createPopper||UT,b=y(e,n,h);return v.current=b,function(){b.destroy(),v.current=null}}},[e,n,o.createPopper]),{state:v.current?v.current.state:null,styles:u.styles,attributes:u.attributes,update:v.current?v.current.update:null,forceUpdate:v.current?v.current.forceUpdate:null}};const Ua=window.React;var ZT=function(){},JT=function(){return Promise.resolve(null)},e_=[];function t_(t){var e=t.placement,n=e===void 0?"bottom":e,o=t.strategy,i=o===void 0?"absolute":o,l=t.modifiers,c=l===void 0?e_:l,u=t.referenceElement,f=t.onFirstUpdate,m=t.innerRef,h=t.children,v=Ua.useContext(Av),y=Ua.useState(null),b=y[0],x=y[1],S=Ua.useState(null),k=S[0],A=S[1];Ua.useEffect(function(){Xd(m,b)},[m,b]);var L=Ua.useMemo(function(){return{placement:n,strategy:i,onFirstUpdate:f,modifiers:[].concat(c,[{name:"arrow",enabled:k!=null,options:{element:k}}])}},[n,i,f,c,k]),U=YT(u||v,b,L),X=U.state,ee=U.styles,D=U.forceUpdate,j=U.update,P=Ua.useMemo(function(){return{ref:x,style:ee.popper,placement:X?X.placement:n,hasPopperEscaped:X&&X.modifiersData.hide?X.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:X&&X.modifiersData.hide?X.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:ee.arrow,ref:A},forceUpdate:D||ZT,update:j||JT}},[x,A,n,X,ee,j,D]);return jv(h)(P)}var n_=function(){},r_=n_;const o_=mc(r_),Al=window.React;function a_(t){var e=t.children,n=t.innerRef,o=Al.useContext(Iv),i=Al.useCallback(function(l){Xd(n,l),Pv(o,l)},[n,o]);return Al.useEffect(function(){return function(){return Xd(n,null)}},[]),Al.useEffect(function(){o_(!!o,"`Reference` should not be used outside of a `Manager` component.")},[o]),jv(e)({ref:i})}function Pc(t){return t.split("-")[0]}function Hm(t){return["left","right"].indexOf(t)!==-1}function Il(t){switch(t){case"top":return"bottom";case"left":return"right";case"bottom":return"top";default:return"left"}}function Vm(t){var e=t.split("-")[1];switch(e){case"start":return"left";case"end":return"right";default:return"center"}}function i_(t,e){var n=Pc(t);if(e===void 0)return Hm(n)?"".concat(Il(n)," ").concat(Vm(n)):"".concat(Vm(n)," ").concat(Il(n));var o=15;return Hm(n)?"".concat(Il(n)," ").concat(parseInt(e.top,10)+o,"px"):"".concat(parseInt(e.left,10)+o,"px ").concat(Il(n))}const jl=window.React,s_=window.Blueprint.Core.DISPLAYNAME_PREFIX;var l_="M8.11 6.302c1.015-.936 1.887-2.922 1.887-4.297v26c0-1.378-.868-3.357-1.888-4.297L.925 17.09c-1.237-1.14-1.233-3.034 0-4.17L8.11 6.302z",c_="M8.787 7.036c1.22-1.125 2.21-3.376 2.21-5.03V0v30-2.005c0-1.654-.983-3.9-2.21-5.03l-7.183-6.616c-.81-.746-.802-1.96 0-2.7l7.183-6.614z",u_=4,uc=30,d_=22;function f_(t){if(t==null)return 0;switch(Pc(t)){case"top":return-90;case"left":return 180;case"bottom":return 90;default:return 0}}function p_(t){var e=uc/2-u_;switch(Pc(t)){case"top":return{bottom:-e};case"left":return{right:-e};case"bottom":return{top:-e};default:return{left:-e}}}var qv=function(t){var e=t.arrowProps,n=e.ref,o=e.style,i=t.placement;return jl.createElement("div",{className:td,"data-popper-arrow":!0,ref:n,style:Dt(Dt({},o),p_(i))},jl.createElement("svg",{viewBox:"0 0 ".concat(uc," ").concat(uc),style:{transform:"rotate(".concat(f_(i),"deg)")}},jl.createElement("path",{className:td+"-border",d:l_}),jl.createElement("path",{className:td+"-fill",d:c_})))};qv.displayName="".concat(s_,".Popover2Arrow");const Wn=window.Blueprint.Core.PopoverPosition;function h_(t){switch(t){case Wn.TOP_LEFT:return"top-start";case Wn.TOP:return"top";case Wn.TOP_RIGHT:return"top-end";case Wn.RIGHT_TOP:return"right-start";case Wn.RIGHT:return"right";case Wn.RIGHT_BOTTOM:return"right-end";case Wn.BOTTOM_RIGHT:return"bottom-end";case Wn.BOTTOM:return"bottom";case Wn.BOTTOM_LEFT:return"bottom-start";case Wn.LEFT_BOTTOM:return"left-end";case Wn.LEFT:return"left";case Wn.LEFT_TOP:return"left-start";case"auto":case"auto-start":case"auto-end":return t;default:return m_(t)}}function m_(t){throw new Error("Unexpected position: "+t)}var oa=[],g_=function(){return oa.some(function(t){return t.activeTargets.length>0})},y_=function(){return oa.some(function(t){return t.skippedTargets.length>0})},Xm="ResizeObserver loop completed with undelivered notifications.",v_=function(){var t;typeof ErrorEvent=="function"?t=new ErrorEvent("error",{message:Xm}):(t=document.createEvent("Event"),t.initEvent("error",!1,!1),t.message=Xm),window.dispatchEvent(t)},ys;(function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"})(ys||(ys={}));var aa=function(t){return Object.freeze(t)},b_=function(){function t(e,n){this.inlineSize=e,this.blockSize=n,aa(this)}return t}(),Hv=function(){function t(e,n,o,i){return this.x=e,this.y=n,this.width=o,this.height=i,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,aa(this)}return t.prototype.toJSON=function(){var e=this,n=e.x,o=e.y,i=e.top,l=e.right,c=e.bottom,u=e.left,f=e.width,m=e.height;return{x:n,y:o,top:i,right:l,bottom:c,left:u,width:f,height:m}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),$f=function(t){return t instanceof SVGElement&&"getBBox"in t},Vv=function(t){if($f(t)){var e=t.getBBox(),n=e.width,o=e.height;return!n&&!o}var i=t,l=i.offsetWidth,c=i.offsetHeight;return!(l||c||t.getClientRects().length)},Wm=function(t){var e;if(t instanceof Element)return!0;var n=(e=t?.ownerDocument)===null||e===void 0?void 0:e.defaultView;return!!(n&&t instanceof n.Element)},w_=function(t){switch(t.tagName){case"INPUT":if(t.type!=="image")break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1},ss=typeof window<"u"?window:{},Pl=new WeakMap,Qm=/auto|scroll/,x_=/^tb|vertical/,C_=/msie|trident/i.test(ss.navigator&&ss.navigator.userAgent),_r=function(t){return parseFloat(t||"0")},Xa=function(t,e,n){return t===void 0&&(t=0),e===void 0&&(e=0),n===void 0&&(n=!1),new b_((n?e:t)||0,(n?t:e)||0)},Km=aa({devicePixelContentBoxSize:Xa(),borderBoxSize:Xa(),contentBoxSize:Xa(),contentRect:new Hv(0,0,0,0)}),Xv=function(t,e){if(e===void 0&&(e=!1),Pl.has(t)&&!e)return Pl.get(t);if(Vv(t))return Pl.set(t,Km),Km;var n=getComputedStyle(t),o=$f(t)&&t.ownerSVGElement&&t.getBBox(),i=!C_&&n.boxSizing==="border-box",l=x_.test(n.writingMode||""),c=!o&&Qm.test(n.overflowY||""),u=!o&&Qm.test(n.overflowX||""),f=o?0:_r(n.paddingTop),m=o?0:_r(n.paddingRight),h=o?0:_r(n.paddingBottom),v=o?0:_r(n.paddingLeft),y=o?0:_r(n.borderTopWidth),b=o?0:_r(n.borderRightWidth),x=o?0:_r(n.borderBottomWidth),S=o?0:_r(n.borderLeftWidth),k=v+m,A=f+h,L=S+b,U=y+x,X=u?t.offsetHeight-U-t.clientHeight:0,ee=c?t.offsetWidth-L-t.clientWidth:0,D=i?k+L:0,j=i?A+U:0,P=o?o.width:_r(n.width)-D-ee,q=o?o.height:_r(n.height)-j-X,fe=P+k+ee+L,me=q+A+X+U,ge=aa({devicePixelContentBoxSize:Xa(Math.round(P*devicePixelRatio),Math.round(q*devicePixelRatio),l),borderBoxSize:Xa(fe,me,l),contentBoxSize:Xa(P,q,l),contentRect:new Hv(v,f,P,q)});return Pl.set(t,ge),ge},Wv=function(t,e,n){var o=Xv(t,n),i=o.borderBoxSize,l=o.contentBoxSize,c=o.devicePixelContentBoxSize;switch(e){case ys.DEVICE_PIXEL_CONTENT_BOX:return c;case ys.BORDER_BOX:return i;default:return l}},E_=function(){function t(e){var n=Xv(e);this.target=e,this.contentRect=n.contentRect,this.borderBoxSize=aa([n.borderBoxSize]),this.contentBoxSize=aa([n.contentBoxSize]),this.devicePixelContentBoxSize=aa([n.devicePixelContentBoxSize])}return t}(),Qv=function(t){if(Vv(t))return 1/0;for(var e=0,n=t.parentNode;n;)e+=1,n=n.parentNode;return e},S_=function(){var t=1/0,e=[];oa.forEach(function(c){if(c.activeTargets.length!==0){var u=[];c.activeTargets.forEach(function(m){var h=new E_(m.target),v=Qv(m.target);u.push(h),m.lastReportedSize=Wv(m.target,m.observedBox),v<t&&(t=v)}),e.push(function(){c.callback.call(c.observer,u,c.observer)}),c.activeTargets.splice(0,c.activeTargets.length)}});for(var n=0,o=e;n<o.length;n++){var i=o[n];i()}return t},Gm=function(t){oa.forEach(function(n){n.activeTargets.splice(0,n.activeTargets.length),n.skippedTargets.splice(0,n.skippedTargets.length),n.observationTargets.forEach(function(i){i.isActive()&&(Qv(i.target)>t?n.activeTargets.push(i):n.skippedTargets.push(i))})})},T_=function(){var t=0;for(Gm(t);g_();)t=S_(),Gm(t);return y_()&&v_(),t>0},nd,Kv=[],__=function(){return Kv.splice(0).forEach(function(t){return t()})},k_=function(t){if(!nd){var e=0,n=document.createTextNode(""),o={characterData:!0};new MutationObserver(function(){return __()}).observe(n,o),nd=function(){n.textContent="".concat(e?e--:e++)}}Kv.push(t),nd()},O_=function(t){k_(function(){requestAnimationFrame(t)})},Zl=0,R_=function(){return!!Zl},A_=250,I_={attributes:!0,characterData:!0,childList:!0,subtree:!0},Ym=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Zm=function(t){return t===void 0&&(t=0),Date.now()+t},rd=!1,j_=function(){function t(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return t.prototype.run=function(e){var n=this;if(e===void 0&&(e=A_),!rd){rd=!0;var o=Zm(e);O_(function(){var i=!1;try{i=T_()}finally{if(rd=!1,e=o-Zm(),!R_())return;i?n.run(1e3):e>0?n.run(e):n.start()}})}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var e=this,n=function(){return e.observer&&e.observer.observe(document.body,I_)};document.body?n():ss.addEventListener("DOMContentLoaded",n)},t.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),Ym.forEach(function(n){return ss.addEventListener(n,e.listener,!0)}))},t.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),Ym.forEach(function(n){return ss.removeEventListener(n,e.listener,!0)}),this.stopped=!0)},t}(),Kd=new j_,Jm=function(t){!Zl&&t>0&&Kd.start(),Zl+=t,!Zl&&Kd.stop()},P_=function(t){return!$f(t)&&!w_(t)&&getComputedStyle(t).display==="inline"},N_=function(){function t(e,n){this.target=e,this.observedBox=n||ys.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var e=Wv(this.target,this.observedBox,!0);return P_(this.target)&&(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),L_=function(){function t(e,n){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=n}return t}(),Nl=new WeakMap,eg=function(t,e){for(var n=0;n<t.length;n+=1)if(t[n].target===e)return n;return-1},Ll=function(){function t(){}return t.connect=function(e,n){var o=new L_(e,n);Nl.set(e,o)},t.observe=function(e,n,o){var i=Nl.get(e),l=i.observationTargets.length===0;eg(i.observationTargets,n)<0&&(l&&oa.push(i),i.observationTargets.push(new N_(n,o&&o.box)),Jm(1),Kd.schedule())},t.unobserve=function(e,n){var o=Nl.get(e),i=eg(o.observationTargets,n),l=o.observationTargets.length===1;i>=0&&(l&&oa.splice(oa.indexOf(o),1),o.observationTargets.splice(i,1),Jm(-1))},t.disconnect=function(e){var n=this,o=Nl.get(e);o.observationTargets.slice().forEach(function(i){return n.unobserve(e,i.target)}),o.activeTargets.splice(0,o.activeTargets.length)},t}(),D_=function(){function t(e){if(arguments.length===0)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if(typeof e!="function")throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Ll.connect(this,e)}return t.prototype.observe=function(e,n){if(arguments.length===0)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Wm(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Ll.observe(this,e,n)},t.prototype.unobserve=function(e){if(arguments.length===0)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!Wm(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Ll.unobserve(this,e)},t.prototype.disconnect=function(){Ll.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();const od=window.React,M_=window.Blueprint.Core.AbstractPureComponent2,B_=window.Blueprint.Core.DISPLAYNAME_PREFIX;var tg=function(t){jf(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.targetRef=od.createRef(),n.prevElement=void 0,n.observer=new D_(function(o){var i,l;return(l=(i=n.props).onResize)===null||l===void 0?void 0:l.call(i,o)}),n}return e.prototype.render=function(){var n=od.Children.only(this.props.children);return this.props.targetRef!==void 0?n:od.cloneElement(n,{ref:this.targetRef})},e.prototype.componentDidMount=function(){this.observeElement()},e.prototype.componentDidUpdate=function(n){this.observeElement(this.props.observeParents!==n.observeParents)},e.prototype.componentWillUnmount=function(){this.observer.disconnect()},e.prototype.observeElement=function(n){if(n===void 0&&(n=!1),!(this.targetRef.current instanceof Element)){this.observer.disconnect();return}if(!(this.targetRef.current===this.prevElement&&!n)&&(this.observer.disconnect(),this.prevElement=this.targetRef.current,this.observer.observe(this.targetRef.current),this.props.observeParents))for(var o=this.targetRef.current.parentElement;o!=null;)this.observer.observe(o),o=o.parentElement},e.displayName="".concat(B_,".ResizeSensor2"),e}(M_);const Jl=window.React;var z_=function(){return null},Ff=Jl.createContext([{},z_]),$_=function(t,e){switch(e.type){case"FORCE_DISABLED_STATE":return{forceDisabled:!0};case"RESET_DISABLED_STATE":return{};default:return t}},Gv=function(t){var e=t.children,n=t.forceDisable,o=Jl.useReducer($_,{}),i=o[0],l=o[1];return Jl.useEffect(function(){l(n?{type:"FORCE_DISABLED_STATE"}:{type:"RESET_DISABLED_STATE"})},[n]),Jl.createElement(Ff.Provider,{value:[i,l]},typeof e=="function"?e(i):e)};const Dl=window.React,ng=window.Blueprint.Core.Classes,F_=window.Blueprint.Core.DISPLAYNAME_PREFIX;var Yv=function(t){jf(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.popover=null,n.renderPopover=function(o){var i,l,c=n.props,u=c.children,f=c.disabled,m=c.intent,h=c.popoverClassName,v=Ov(c,["children","disabled","intent","popoverClassName"]),y=Va(_S,(i={},i[ng.MINIMAL]=n.props.minimal,i),ng.intentClass(m),h);return Dl.createElement(ci,Dt({interactionKind:kr.HOVER_TARGET_ONLY,modifiers:{arrow:{enabled:!n.props.minimal},offset:{options:{offset:[0,d_/2]}}}},v,{autoFocus:!1,canEscapeKeyClose:!1,disabled:(l=o.forceDisabled)!==null&&l!==void 0?l:f,enforceFocus:!1,lazy:!0,popoverClassName:y,portalContainer:n.props.portalContainer,ref:function(b){return n.popover=b}}),u)},n}return e.prototype.render=function(){var n=this;return Dl.createElement(Ff.Consumer,null,function(o){var i=o[0];return Dl.createElement(Gv,Dt({},i),n.renderPopover)})},e.prototype.reposition=function(){this.popover!=null&&this.popover.reposition()},e.displayName="".concat(F_,".Tooltip2"),e.defaultProps={hoverCloseDelay:0,hoverOpenDelay:100,minimal:!1,transitionDuration:100},e}(Dl.PureComponent);const _n=window.React,U_=window.Blueprint.Core.AbstractPureComponent2,Qn=window.Blueprint.Core.Classes,q_=window.Blueprint.Core.DISPLAYNAME_PREFIX,rg=window.Blueprint.Core.Keys,H_=window.Blueprint.Core.refHandler,V_=window.Blueprint.Core.mergeRefs,X_=window.Blueprint.Core.Overlay,Ml=window.Blueprint.Core.Utils;var kr={CLICK:"click",CLICK_TARGET_ONLY:"click-target",HOVER:"hover",HOVER_TARGET_ONLY:"hover-target"},ci=function(t){jf(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state={hasDarkParent:!1,isOpen:n.getIsOpen(n.props)},n.popoverElement=null,n.targetElement=null,n.popoverRef=H_(n,"popoverElement",n.props.popoverRef),n.targetRef=function(o){return n.targetElement=o},n.isMouseInTargetOrPopover=!1,n.lostFocusOnSamePage=!0,n.isControlled=function(){return n.props.isOpen!==void 0},n.isArrowEnabled=function(){var o,i;return!n.props.minimal&&((i=(o=n.props.modifiers)===null||o===void 0?void 0:o.arrow)===null||i===void 0?void 0:i.enabled)!==!1},n.isHoverInteractionKind=function(){return n.props.interactionKind===kr.HOVER||n.props.interactionKind===kr.HOVER_TARGET_ONLY},n.reposition=function(){var o;return(o=n.popperScheduleUpdate)===null||o===void 0?void 0:o.call(n)},n.renderTarget=function(o){var i,l,c,u=o.ref,f=n.props,m=f.children,h=f.className,v=f.fill,y=f.openOnTargetFocus,b=f.renderTarget,x=n.state.isOpen,S=n.isControlled(),k=n.isHoverInteractionKind(),A=n.props.targetTagName;v&&(A="div");var L=V_(u,n.targetRef),U=k?{onBlur:n.handleTargetBlur,onContextMenu:n.handleTargetContextMenu,onFocus:n.handleTargetFocus,onMouseEnter:n.handleMouseEnter,onMouseLeave:n.handleMouseLeave}:{onClick:n.handleTargetClick,onKeyDown:function(me){return rg.isKeyboardClick(me.keyCode)&&n.handleTargetClick(me)}},X=y&&k?0:void 0,ee=Dt({"aria-haspopup":"true",className:Va(h,SS,(i={},i[xS]=x,i[Qn.ACTIVE]=!S&&x&&!k,i)),ref:L},U),D;if(b!==void 0)D=b(Dt(Dt({},ee),{isOpen:x,tabIndex:X}));else{var j=Ml.ensureElement(_n.Children.toArray(m)[0]);if(j===void 0)return null;var P=(l={},l[Qn.ACTIVE]=x&&!S&&!k,l[Qn.FILL]=v,l),q=_n.cloneElement(j,{className:Va(j.props.className,P),disabled:x&&Ml.isElementOfType(j,Yv)?!0:j.props.disabled,tabIndex:(c=j.props.tabIndex)!==null&&c!==void 0?c:X}),fe=_n.createElement(A,ee,q);D=fe}return _n.createElement(tg,{targetRef:L,onResize:n.reposition},D)},n.renderPopover=function(o){var i,l,c=n.props,u=c.interactionKind,f=c.shouldReturnFocusOnClose,m=c.usePortal,h=n.state.isOpen,v=i_(o.placement,n.isArrowEnabled()?o.arrowProps.style:void 0);n.popperScheduleUpdate=o.update;var y={onClick:n.handlePopoverClick,onKeyDown:function(k){return rg.isKeyboardClick(k.keyCode)&&n.handlePopoverClick(k)}};(u===kr.HOVER||!m&&u===kr.HOVER_TARGET_ONLY)&&(y.onMouseEnter=n.handleMouseEnter,y.onMouseLeave=n.handleMouseLeave);var b=Pc(o.placement),x=Va(bn,(i={},i[Qn.DARK]=n.props.inheritDarkTheme&&n.state.hasDarkParent,i[Qn.MINIMAL]=n.props.minimal,i[Im]=n.props.captureDismiss,i[ES]=o.isReferenceHidden===!0,i[CS]=o.hasPopperEscaped===!0,i),"".concat(bS,"-").concat(b),n.props.popoverClassName),S=n.isHoverInteractionKind()?!1:void 0;return _n.createElement(X_,{autoFocus:(l=n.props.autoFocus)!==null&&l!==void 0?l:S,backdropClassName:yS,backdropProps:n.props.backdropProps,canEscapeKeyClose:n.props.canEscapeKeyClose,canOutsideClickClose:n.props.interactionKind===kr.CLICK,enforceFocus:n.props.enforceFocus,hasBackdrop:n.props.hasBackdrop,isOpen:h,onClose:n.handleOverlayClose,onClosed:n.props.onClosed,onClosing:n.props.onClosing,onOpened:n.props.onOpened,onOpening:n.props.onOpening,transitionDuration:n.props.transitionDuration,transitionName:bn,usePortal:n.props.usePortal,portalClassName:n.props.portalClassName,portalContainer:n.props.portalContainer,shouldReturnFocusOnClose:n.isHoverInteractionKind()?!1:f},_n.createElement("div",{className:TS,ref:o.ref,style:o.style},_n.createElement(tg,{onResize:n.reposition},_n.createElement("div",Dt({className:x,style:{transformOrigin:v},ref:n.popoverRef},y),n.isArrowEnabled()&&_n.createElement(qv,{arrowProps:o.arrowProps,placement:o.placement}),_n.createElement("div",{className:vS},n.props.content)))))},n.handleTargetFocus=function(o){if(n.props.openOnTargetFocus&&n.isHoverInteractionKind()){if(o.relatedTarget==null&&!n.lostFocusOnSamePage)return;n.handleMouseEnter(o)}},n.handleTargetBlur=function(o){n.props.openOnTargetFocus&&n.isHoverInteractionKind()&&(o.relatedTarget!=null?o.relatedTarget!==n.popoverElement&&!n.isElementInPopover(o.relatedTarget)&&n.handleMouseLeave(o):n.handleMouseLeave(o)),n.lostFocusOnSamePage=o.relatedTarget!=null},n.handleTargetContextMenu=function(o){o.defaultPrevented&&n.setOpenState(!1,o)},n.handleMouseEnter=function(o){n.isMouseInTargetOrPopover=!0,!n.props.usePortal&&n.isElementInPopover(o.target)&&n.props.interactionKind===kr.HOVER_TARGET_ONLY&&!n.props.openOnTargetFocus?n.handleMouseLeave(o):n.props.disabled||n.setOpenState(!0,o,n.props.hoverOpenDelay)},n.handleMouseLeave=function(o){n.isMouseInTargetOrPopover=!1,n.setTimeout(function(){n.isMouseInTargetOrPopover||n.setOpenState(!1,o,n.props.hoverCloseDelay)})},n.handlePopoverClick=function(o){var i,l,c,u,f=o.target,m=f.closest(".".concat(bn)),h=f.closest(".".concat(Qn.POPOVER)),v=(m??h)===n.getPopoverElement(),y=(l=(i=m?.classList.contains(Im))!==null&&i!==void 0?i:h?.classList.contains(Qn.POPOVER_CAPTURING_DISMISS))!==null&&l!==void 0?l:!1,b=f.closest(".".concat(Hd,", .").concat(wS)),x=f.closest(".".concat(Qn.POPOVER_DISMISS,", .").concat(Qn.POPOVER_DISMISS_OVERRIDE)),S=(u=(c=b?.classList.contains(Hd))!==null&&c!==void 0?c:x?.classList.contains(Qn.POPOVER_DISMISS))!==null&&u!==void 0?u:!1,k=f.closest(":disabled, .".concat(Qn.DISABLED))!=null;S&&!k&&(!y||v)&&n.setOpenState(!1,o)},n.handleOverlayClose=function(o){if(!(n.targetElement===null||o===void 0)){var i=o.target;(!Ml.elementIsOrContains(n.targetElement,i)||o.nativeEvent instanceof KeyboardEvent)&&n.setOpenState(!1,o)}},n.handleTargetClick=function(o){!n.props.disabled&&!n.isElementInPopover(o.target)&&(n.props.isOpen==null?n.setState(function(i){return{isOpen:!i.isOpen}}):n.setOpenState(!n.props.isOpen,o))},n}return e.prototype.getPopoverElement=function(){var n;return(n=this.popoverElement)===null||n===void 0?void 0:n.querySelector(".".concat(bn))},e.prototype.getIsOpen=function(n){var o;return n.disabled?!1:(o=n.isOpen)!==null&&o!==void 0?o:n.defaultIsOpen},e.prototype.render=function(){var n=this.props,o=n.disabled,i=n.content,l=n.placement,c=n.position,u=c===void 0?"auto":c,f=n.positioningStrategy,m=this.state.isOpen,h=i==null||typeof i=="string"&&i.trim()==="";return h?(!o&&m!==!1&&!Ml.isNodeEnv("production")&&console.warn(IS),this.renderTarget({ref:W_})):_n.createElement(DS,null,_n.createElement(a_,null,this.renderTarget),_n.createElement(t_,{innerRef:this.popoverRef,placement:l??h_(u),strategy:f,modifiers:this.getPopperModifiers()},this.renderPopover))},e.prototype.componentDidMount=function(){this.updateDarkParent()},e.prototype.componentDidUpdate=function(n,o){t.prototype.componentDidUpdate.call(this,n,o),this.updateDarkParent();var i=this.getIsOpen(this.props);this.props.isOpen!=null&&i!==this.state.isOpen?(this.setOpenState(i),this.setState({isOpen:i})):this.props.disabled&&this.state.isOpen&&this.props.isOpen==null&&this.setOpenState(!1)},e.prototype.validateProps=function(n){n.isOpen==null&&n.onInteraction!=null&&console.warn(NS),n.hasBackdrop&&!n.usePortal&&console.warn(jS),n.hasBackdrop&&n.interactionKind!==kr.CLICK&&console.warn(OS),n.placement!==void 0&&n.position!==void 0&&console.warn(PS);var o=_n.Children.count(n.children),i=n.renderTarget!==void 0;o===0&&!i&&console.warn(kS),o>1&&console.warn(RS),o>0&&i&&console.warn(AS)},e.prototype.getPopperModifiers=function(){var n,o,i,l,c=this.props.modifiers;return[Dt({enabled:this.isArrowEnabled(),name:"arrow"},c?.arrow),Dt(Dt({name:"computeStyles"},c?.computeStyles),{options:Dt({adaptive:!0,gpuAcceleration:!1},(n=c?.computeStyles)===null||n===void 0?void 0:n.options)}),Dt(Dt({enabled:this.isArrowEnabled(),name:"offset"},c?.offset),{options:Dt({offset:[0,uc/2]},(o=c?.offset)===null||o===void 0?void 0:o.options)}),Dt(Dt({name:"flip"},c?.flip),{options:Dt({boundary:this.props.boundary,rootBoundary:this.props.rootBoundary},(i=c?.flip)===null||i===void 0?void 0:i.options)}),Dt(Dt({name:"preventOverflow"},c?.preventOverflow),{options:Dt({boundary:this.props.boundary,rootBoundary:this.props.rootBoundary},(l=c?.preventOverflow)===null||l===void 0?void 0:l.options)})]},e.prototype.setOpenState=function(n,o,i){var l=this,c,u,f,m,h;(c=this.cancelOpenTimeout)===null||c===void 0||c.call(this),i!==void 0&&i>0?this.cancelOpenTimeout=this.setTimeout(function(){return l.setOpenState(n,o)},i):(this.props.isOpen==null?this.setState({isOpen:n}):(f=(u=this.props).onInteraction)===null||f===void 0||f.call(u,n,o),n||(h=(m=this.props).onClose)===null||h===void 0||h.call(m,o))},e.prototype.updateDarkParent=function(){if(this.props.usePortal&&this.state.isOpen){var n=this.targetElement!=null&&this.targetElement.closest(".".concat(Qn.DARK))!=null;this.setState({hasDarkParent:n})}},e.prototype.isElementInPopover=function(n){var o,i;return(i=(o=this.getPopoverElement())===null||o===void 0?void 0:o.contains(n))!==null&&i!==void 0?i:!1},e.displayName="".concat(q_,".Popover2"),e.defaultProps={boundary:"clippingParents",captureDismiss:!1,defaultIsOpen:!1,disabled:!1,fill:!1,hasBackdrop:!1,hoverCloseDelay:300,hoverOpenDelay:150,inheritDarkTheme:!0,interactionKind:kr.CLICK,minimal:!1,openOnTargetFocus:!0,positioningStrategy:"absolute",renderTarget:void 0,shouldReturnFocusOnClose:!1,targetTagName:"span",transitionDuration:300,usePortal:!0},e}(U_);function W_(){}const Xt=window.React,Q_=window.Blueprint.Core.Classes,K_=window.Blueprint.Core.Portal,Bl=window.Blueprint.Core.Utils,G_=window.Blueprint.Core.mergeRefs;var Zv=Xt.forwardRef(function(t,e){var n,o,i=t.className,l=t.children,c=t.content,u=t.disabled,f=u===void 0?!1:u,m=t.onContextMenu,h=t.popoverProps,v=t.tagName,y=v===void 0?"div":v,b=Ov(t,["className","children","content","disabled","onContextMenu","popoverProps","tagName"]),x=Xt.useContext(Ff),S=x[1],k=Xt.useState(void 0),A=k[0],L=k[1],U=Xt.useState(),X=U[0],ee=U[1],D=Xt.useState(!1),j=D[0],P=D[1],q=Xt.useRef(null);Xt.useEffect(function(){P(!1),S({type:"RESET_DISABLED_STATE"})},[f]);var fe=Xt.useCallback(function(Le){return Le.preventDefault()},[]),me=Xt.useCallback(function(Le){Le||(P(!1),ee(void 0),S({type:"RESET_DISABLED_STATE"}))},[]),ge=Xt.useCallback(function(Le){var Je=Le.ref;return Xt.createElement(K_,null,Xt.createElement("div",{className:hS,style:A,ref:Je}))},[A]),ye=Xt.useMemo(function(){return Bl.isDarkTheme(q.current)},[q,j]),Y={isOpen:j,mouseEvent:X,targetOffset:A},be=f?void 0:Bl.isFunction(c)?c(Y):c,se=be===void 0?void 0:Xt.createElement(ci,Dt({},h,{content:Xt.createElement("div",{onContextMenu:fe},be),enforceFocus:!1,key:Y_(A),hasBackdrop:!0,backdropProps:{className:gS},isOpen:j,minimal:!0,onInteraction:me,popoverClassName:Va(mS,h?.popoverClassName,(n={},n[Q_.DARK]=ye,n)),placement:"right-start",positioningStrategy:"fixed",rootBoundary:"viewport",renderTarget:ge,transitionDuration:(o=h?.transitionDuration)!==null&&o!==void 0?o:100})),we=Xt.useCallback(function(Le){if(!Le.defaultPrevented){var Je=!f&&(Bl.isFunction(l)||se!==void 0);Je&&(Le.preventDefault(),Le.persist(),ee(Le),L({left:Le.clientX,top:Le.clientY}),P(!0),S({type:"FORCE_DISABLED_STATE"})),m?.(Le)}},[m,f]),ze=Va(i,Ic),Ke=Bl.isFunction(l)?l({className:ze,contentProps:Y,onContextMenu:we,popover:se,ref:q}):Xt.createElement(Xt.Fragment,null,se,Xt.createElement(y,Dt({className:ze,onContextMenu:we,ref:G_(q,e)},b),l));return Xt.createElement(Gv,{forceDisable:j},Ke)});Zv.displayName="Blueprint.ContextMenu2";function Y_(t){return t===void 0?"default":"".concat(t.left,"x").concat(t.top)}const Z_=window.React.memo,es=window.React.useCallback,zl=window.React.useMemo,J_=window.Blueprint.Core.Button,ek=window.Blueprint.Core.Intent,og=window.Blueprint.Core.Menu,ad=window.Blueprint.Core.MenuDivider,Jo=window.Blueprint.Core.MenuItem,tk={autoFocus:!0,boundary:"window",className:"zr-library-item-popover",interactionKind:kr.HOVER,lazy:!0,placement:"right-start",popoverClassName:W.POPOVER},Is=Z_(function(e){const{closeDialog:n,inGraph:o,item:i,notes:l=[],pdfs:c=[]}=e,[u]=ks(),[f]=_c(),[m]=si(),[h]=li(),[,v]=Do(),y=es(()=>{n&&n()},[n]),b=zl(()=>o?{className:W.TEXT_SMALL,onClick:()=>qd(o)}:{className:[W.TEXT_SMALL,W.TEXT_AUXILIARY].join(" ")},[o]),x=zl(()=>d.jsxs(d.Fragment,{children:[d.jsx(Jo,{icon:"application",text:"Open in Zotero (app)",href:Es(i,{format:"target"}),target:"_blank"}),d.jsx(Jo,{icon:"cloud",text:"Open in Zotero (web)",href:Ss(i,{format:"target"}),target:"_blank"})]}),[i]),S=es(async()=>{const ee=await kc({item:i,pdfs:c,notes:l},o,f,h,m,u);return ee.success&&ee.page.new&&v(),ee},[u,o,i,f,c,l,m,h,v]),k=es(async()=>{const{success:ee,args:{uid:D}}=await S();ee&&_m(D)},[S]),A=es(()=>{o!=!1&&(qd(o),y())},[y,o]),L=es(()=>{o!=!1&&_m(o)},[o]),U=zl(()=>{if(c.length>0){const ee=i.library.type=="group"?"groups/"+i.library.id:"library";return d.jsxs(d.Fragment,{children:[d.jsx(ad,{title:"PDF Attachments"}),c.map((D,j)=>{const P=["linked_file","imported_file","imported_url"].includes(D.data.linkMode)?`zotero://open-pdf/${ee}/items/${D.data.key}`:D.data.url;return d.jsx(Jo,{href:P,icon:"paperclip",rel:"noreferrer",target:"_blank",text:D.data.filename||D.data.title},j)})]})}else return null},[i.library,c]),X=zl(()=>o?d.jsxs(og,{className:W.TEXT_SMALL,children:[d.jsx(Jo,{icon:"arrow-right",text:"Go to Roam page",onClick:A}),d.jsx(Jo,{icon:"inheritance",text:"Open in sidebar",onClick:L}),d.jsx(ad,{}),x,U]}):d.jsxs(og,{className:W.TEXT_SMALL,children:[d.jsx(Jo,{icon:"add",text:"Import metadata",onClick:S}),d.jsx(Jo,{icon:"inheritance",text:"Import & open in sidebar",onClick:k}),d.jsx(ad,{}),x,U]}),[S,k,o,A,L,U,x]);return d.jsx(ci,{...tk,content:X,children:d.jsx(J_,{intent:o!=!1?ek.SUCCESS:void 0,minimal:!0,rightIcon:"chevron-right",small:!0,text:"@"+i.key,...b})})});const nk=window.Blueprint.Core.Button,rk=window.Blueprint.Core.Classes,ok=window.Blueprint.Core.Drawer,ak=window.Blueprint.Core.Tab,ag=window.Blueprint.Core.Tabs;function ik({item:t}){return d.jsx("pre",{className:[rk.CODE_BLOCK,W.TEXT_AUXILIARY].join(" "),children:JSON.stringify(t,null,"  ")})}function Uf({item:t,isOpen:e,onClose:n}){return d.jsx(ok,{canEscapeKeyClose:!1,canOutsideClickClose:!0,className:W.PREFIX_DRAWER+"data",isOpen:e,lazy:!1,onClose:n,size:"40%",children:d.jsx(Mn,{children:d.jsxs(ag,{animate:!1,className:W.TABS_MINIMAL,id:"zr-drawer--data",children:[d.jsx(ak,{id:"item",panel:d.jsx(ik,{item:t}),title:"Item"}),d.jsx(ag.Expander,{}),d.jsx(nk,{icon:"cross",minimal:!0,onClick:n})]})})})}const sk=window.React.memo,dc=window.React.useMemo,Jv=window.Blueprint.Core.Button,eb=window.Blueprint.Core.ButtonGroup,Gd=window.Blueprint.Core.Classes,lk=window.Blueprint.Core.Dialog,ck=window.Blueprint.Core.Drawer,uk=window.Blueprint.Core.Icon,ig=window.Blueprint.Core.Tab,sg=window.Blueprint.Core.Tabs,tb=window.Blueprint.Core.Tag;function nb({item:t}){const[e,{on:n,off:o}]=Pt(!1);return d.jsxs(d.Fragment,{children:[d.jsx(Jv,{icon:"eye-open",minimal:!0,onClick:n}),d.jsx(lk,{canEscapeKeyClose:!1,className:"zr-raw-item-dialog",isOpen:e,lazy:!0,onClose:o,children:d.jsx("div",{className:Gd.DIALOG_BODY,children:d.jsx("pre",{className:[Gd.CODE_BLOCK,W.TEXT_AUXILIARY].join(" "),children:JSON.stringify(t,null,"  ")})})})]})}function dk({annot:t}){const{color:e,comment:n,date_modified:o,link_page:i,link_pdf:l,page_label:c,raw:u,tags:f,text:m,type:h}=t,v=dc(()=>({backgroundImage:`linear-gradient(120deg, ${e}50 0%, ${e}50 100%)`}),[e]);return d.jsxs("div",{className:[W.PREFIX_DRAWER+"notes-card",W.TEXT_SMALL].join(" "),children:[d.jsxs("div",{"zr-role":"card-header",children:[d.jsx("span",{children:f.map((y,b)=>d.jsx(tb,{minimal:!0,children:y},b))}),d.jsxs(eb,{minimal:!0,children:[d.jsx(nb,{item:u}),d.jsx(Or,{className:W.TEXT_SMALL,href:l,icon:"paperclip",children:"PDF"}),d.jsxs(Or,{className:W.TEXT_SMALL,href:i,children:["Page ",c]})]})]}),d.jsxs("div",{className:"zr-annotation--highlight",children:[m&&d.jsx("span",{style:v,children:m}),h=="image"&&d.jsx("code",{className:Gd.CODE,children:"Images are currently not supported"})]}),n&&d.jsxs("div",{className:"zr-annotation--comment",children:[d.jsx(uk,{icon:"nest",intent:"primary",size:14}),n]}),d.jsx("div",{"zr-role":"card-footer",children:d.jsx("span",{className:W.TEXT_SECONDARY,children:kf(o)})})]})}function fk({note:t}){const{date_modified:e,link_note:n,raw:o,tags:i}=t,[l]=si(),c=dc(()=>cv([o],l),[l,o]);return d.jsxs("div",{className:[W.PREFIX_DRAWER+"notes-card",W.TEXT_SMALL].join(" "),children:[d.jsxs("div",{"zr-role":"card-header",children:[d.jsx("span",{children:i.map((u,f)=>d.jsx(tb,{minimal:!0,children:u},f))}),d.jsxs(eb,{minimal:!0,children:[d.jsx(nb,{item:o}),d.jsx(Or,{className:W.TEXT_SMALL,href:n,icon:"comment",children:"View in Zotero"})]})]}),c.map((u,f)=>d.jsx("div",{className:"zr-note--contents",children:u},f)),d.jsx("div",{"zr-role":"card-footer",children:d.jsx("span",{className:W.TEXT_SECONDARY,children:kf(e)})})]})}function pk({annots:t}){const e=Tc(t).sort((n,o)=>Sf(n.sortIndex,o.sortIndex));return d.jsx(d.Fragment,{children:e.map(n=>d.jsx(dk,{annot:n},n.key))})}function hk({notes:t}){const e=AC(t);return d.jsx(d.Fragment,{children:e.map(n=>d.jsx(fk,{note:n},n.key))})}const Nc=sk(function(e){const{isOpen:n,notes:o,onClose:i}=e,l=dc(()=>o.filter(Ec),[o]),c=dc(()=>o.filter(Sc),[o]);return d.jsx(ck,{canEscapeKeyClose:!1,canOutsideClickClose:!0,className:W.PREFIX_DRAWER+"notes",isOpen:n,lazy:!1,onClose:i,size:"40%",children:d.jsx(Mn,{children:d.jsxs(sg,{animate:!1,className:W.TABS_MINIMAL,id:"zr-drawer--notes",children:[l.length>0&&d.jsx(ig,{id:"annotations",panel:d.jsx(pk,{annots:l}),title:"Annotations"}),c.length>0&&d.jsx(ig,{id:"notes",panel:d.jsx(hk,{notes:c}),title:"Notes"}),d.jsx(sg.Expander,{}),d.jsx(Jv,{icon:"cross",minimal:!0,onClick:i})]})})})}),lg=window.Blueprint.Core.Button;function mk({item:t,onClose:e}){const{children:n,inGraph:o,itemType:i,meta:l,publication:c,raw:u,title:f}=t,[m,{on:h,off:v}]=Pt(!1),[y,{on:b,off:x}]=Pt(!1);return d.jsxs(d.Fragment,{children:[d.jsx(No,{className:"zr-query--result",children:d.jsxs("div",{"zr-role":"item-header",children:[d.jsxs("div",{"zr-role":"item-details",children:[d.jsx("span",{className:W.TEXT_AUXILIARY,"data-item-type":i,"zr-role":"item-title",children:f}),d.jsx("span",{className:W.TEXT_ACCENT_1,children:l}),d.jsx("span",{className:W.TEXT_SECONDARY,children:c}),d.jsx(lg,{icon:"eye-open",minimal:!0,onClick:h,title:"Show the item's raw metadata"}),n.notes.length>0?d.jsx(lg,{className:W.TEXT_SMALL,icon:"duplicate",minimal:!0,text:fn(n.notes.length,"linked note"),onClick:b,title:"Show the item's linked notes"}):null]}),d.jsx(Is,{closeDialog:e,inGraph:o,item:u,notes:n.notes,pdfs:n.pdfs})]})}),d.jsx(Uf,{item:u,isOpen:m,onClose:v}),n.notes.length>0&&d.jsx(Nc,{notes:n.notes,isOpen:y,onClose:x})]})}var Jt=(t=>(t.DATE="date",t.DATE_RANGE="date-range",t.ITEM_TAGS="tags",t.ITEM_TYPE="item-type",t.SELECT="select",t.TEXT="text",t))(Jt||{});const cg=window.React.useCallback,gk=window.React.useMemo;function yk({value:t,setValue:e}){const[n]=li(),o=gk(()=>Object.keys(n).map(i=>({value:i,label:n[i]})),[n]);return d.jsx(RE,{options:o,value:t,setValue:e})}function vk({value:t,setValue:e}){const n=cg(i=>e([...t,i]),[e,t]),o=cg(i=>e(t.filter(l=>l!=i)),[e,t]);return d.jsx(_v,{onRemove:o,onSelect:n,selectedTags:t})}function bk({inputType:t,...e}){switch(t){case Jt.ITEM_TYPE:return d.jsx(yk,{...e});case Jt.ITEM_TAGS:return d.jsx(vk,{...e});case Jt.DATE:return d.jsx(CE,{...e});case Jt.DATE_RANGE:return d.jsx(EE,{...e});case Jt.TEXT:return d.jsx(jE,{...e});case null:default:return null}}const qf={property:"Citekey",relationship:"exists",value:null},ea={Abstract:{contains:{checkInput:t=>t?.constructor===String,defaultInput:"",inputType:Jt.TEXT,testItem:(t,e="")=>t.abstract?Ln(e,t.abstract):!1},"does not contain":{checkInput:t=>t?.constructor===String,defaultInput:"",inputType:Jt.TEXT,testItem:(t,e="")=>t.abstract?e?!Ln(e,t.abstract):!0:!1},"does not exist":{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>!t.abstract},exists:{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>!!t.abstract}},Citekey:{exists:{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>!!t.raw.has_citekey},"does not exist":{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>!t.raw.has_citekey}},DOI:{exists:{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>!!t.raw.data.DOI},"does not exist":{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>!t.raw.data.DOI}},"Item added":{before:{checkInput:t=>t instanceof Date,defaultInput:new Date,inputType:Jt.DATE,stringify:t=>Ar(t,{brackets:!1}),testItem:(t,e)=>{if(e==null)return!0;{const n=e;return n.setHours(0,0,0),new Date(t.raw.data.dateAdded)<n}}},after:{checkInput:t=>t instanceof Date,defaultInput:new Date,inputType:Jt.DATE,stringify:t=>Ar(t,{brackets:!1}),testItem:(t,e)=>{if(e==null)return!0;{const n=e;return n.setHours(0,0,0),new Date(t.raw.data.dateAdded)>n}}},between:{checkInput:t=>t?.constructor===Array&&t.length==2&&t.every(e=>e==null||e?.constructor===Date),defaultInput:[null,null],inputType:Jt.DATE_RANGE,stringify:t=>t.map(e=>e?Ar(e,{brackets:!1}):"...").join("-"),testItem:(t,e)=>{const[n,o]=e;let i,l;if(n==null)i=!0;else{const c=n;c.setHours(0,0,0),i=new Date(t.raw.data.dateAdded)>c}if(o==null)l=!0;else{const c=o;c.setHours(0,0,0),l=new Date(t.raw.data.dateAdded)<c}return i&&l}}},"Item type":{"is any of":{checkInput:t=>t?.constructor===Array&&t.length>0&&t.every(e=>e?.constructor===String),defaultInput:[],inputType:Jt.ITEM_TYPE,stringify:t=>t.join(", "),testItem:(t,e)=>e.includes(t.itemType)},"is not":{checkInput:t=>t?.constructor===Array&&t.length>0&&t.every(e=>e?.constructor===String),defaultInput:[],inputType:Jt.ITEM_TYPE,stringify:t=>t.join(", "),testItem:(t,e)=>!e.includes(t.itemType)}},Notes:{exist:{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>t.children.notes.length>0},"do not exist":{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>t.children.notes.length==0}},PDF:{exists:{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>t.children.pdfs.length>0},"does not exist":{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>t.children.pdfs.length==0}},"Roam page":{exists:{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>!!t.inGraph},"does not exist":{checkInput:()=>!1,defaultInput:null,inputType:null,testItem:t=>t.inGraph==!1}},Tags:{include:{checkInput:t=>t?.constructor===Array&&(t.length==0||t.every(e=>e?.constructor===String)),defaultInput:[],inputType:Jt.ITEM_TAGS,stringify:t=>t.join(", "),testItem:(t,e=[])=>t.tags.length==0||e.length==0?!1:e.every(n=>Ln(n,t.tags,{match:"exact"}))},"include any of":{checkInput:t=>t?.constructor===Array&&(t.length==0||t.every(e=>e?.constructor===String)),defaultInput:[],inputType:Jt.ITEM_TAGS,stringify:t=>t.join(", "),testItem:(t,e=[])=>t.tags.length==0||e.length==0?!1:e.some(n=>Ln(n,t.tags,{match:"exact"}))},"do not include":{checkInput:t=>t?.constructor===Array&&(t.length==0||t.every(e=>e?.constructor===String)),defaultInput:[],inputType:Jt.ITEM_TAGS,stringify:t=>t.join(", "),testItem:(t,e)=>t.tags.length==0||e.length==0?!0:e.every(n=>!Ln(n,t.tags,{match:"exact"}))}},Title:{contains:{checkInput:t=>t?.constructor===String,defaultInput:"",inputType:Jt.TEXT,testItem:(t,e="")=>Ln(e,t.title)},"does not contain":{checkInput:t=>t?.constructor===String,defaultInput:"",inputType:Jt.TEXT,testItem:(t,e)=>!Ln(e,t.title)}}};function ug(t,e=!1,n){if(Array.isArray(t))return rb(t,e,n);if(typeof t=="object"){const{property:o,relationship:i,value:l}=t;if(!o||!i)return!0;{const c=ea[o][i];return c.inputType===null?c.testItem(n):c.testItem(n,l)}}else throw new Error(`Unexpected query input of type ${typeof t}, expected Array or Object`)}function rb(t=[],e=!0,n){return t.length==0?!0:e?t.some(o=>ug(o,!e,n)):t.every(o=>ug(o,!e,n))}function Hf(t,e){return Array.isArray(t)?sv(t,e):[t,e]}const qa=window.React.useCallback,$l=window.Blueprint.Core.Button,wk=window.Blueprint.Core.Intent,xk=window.Blueprint.Core.MenuItem,dg=window.Blueprint.Select.Select,ob={minimal:!0,placement:"bottom",popoverClassName:W.POPOVER},Ck={...ob,targetProps:{title:"Select a property to query"}},Ek={...ob,targetProps:{title:"Select a relationship to test for the property"}};function fg(t,e){const{handleClick:n}=e;return d.jsx(xk,{onClick:n,text:t},t)}function Sk({dispatch:t,isFirstChild:e,isOnlyChild:n,term:o,useOR:i=!1}){const{property:l,relationship:c,value:u=""}=o,f=qa(()=>{t({type:"updateSelf",value:Hf(o,qf)})},[t,o]),m=qa(()=>t({type:"removeSelf"}),[t]),h=qa(x=>{t({type:"updateSelf",value:{...o,...x}})},[t,o]),v=qa(x=>{const S={property:x},k=ea[x];if(c in k||(S.relationship=Object.keys(k)[0]),S.relationship){const A=k[S.relationship];A.checkInput(u)||(S.value=A.defaultInput)}h(S)},[h,c,u]),y=qa(x=>{const S={relationship:x},k=ea[l][x];k.checkInput(u)||(S.value=k.defaultInput),h(S)},[h,l,u]),b=qa(x=>h({value:x}),[h]);return d.jsxs("div",{className:"zr-query-entry",children:[!e&&d.jsx("span",{"zr-role":"query-entry-operator",children:i?"AND":"OR"}),d.jsxs("div",{children:[d.jsx(dg,{filterable:!1,itemRenderer:fg,items:Object.keys(ea),onItemSelect:v,popoverProps:Ck,children:d.jsx($l,{minimal:!0,rightIcon:"caret-down",text:l})}),d.jsx(dg,{filterable:!1,itemRenderer:fg,items:Object.keys(ea[l]),onItemSelect:y,popoverProps:Ek,children:d.jsx($l,{minimal:!0,rightIcon:"caret-down",text:c})}),d.jsx(bk,{inputType:ea[l][c].inputType,value:u,setValue:b})]}),n?null:d.jsxs("div",{children:[d.jsx($l,{className:["zr-query-entry--add-sibling",W.TEXT_SMALL].join(" "),icon:"small-plus",minimal:!0,onClick:f,small:!0,text:i?"OR":"AND"}),d.jsx($l,{className:"zr-query-entry--remove-self",icon:n?"cross":"small-cross",intent:n?void 0:wk.DANGER,minimal:!0,onClick:m,title:"Remove query term"})]})]})}const Tk=window.React.Fragment,id=window.React.useCallback,pg=window.Blueprint.Core.Button;function Vf({dispatch:t,isFirstChild:e,isOnlyChild:n,terms:o=[],useOR:i=!0}){const l=id(()=>t({type:"removeSelf"}),[t]),c=id(()=>t({type:"updateSelf",value:Hf(o,qf)}),[t,o]),u=id((f,m)=>{switch(m.type){case"removeSelf":return t({type:"updateSelf",value:xf(o,f)});case"updateSelf":return t({type:"updateSelf",value:Cf(o,f,m.value)});default:return}},[t,o]);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"zr-query-box",children:[!e&&d.jsx("span",{"zr-role":"query-entry-operator",children:i?"OR":"AND"}),d.jsx("div",{children:o.map((f,m)=>{const h={dispatch:v=>u(m,v),isFirstChild:m==0,isOnlyChild:o.length==1,useOR:!i};return d.jsx(Tk,{children:Array.isArray(f)?d.jsx(Vf,{terms:f,...h}):d.jsx(Sk,{term:f,...h})},m)})}),!n&&d.jsx(pg,{className:"zr-query-box--remove-self",icon:"cross",minimal:!0,onClick:l,title:"Remove query group"})]}),d.jsx(pg,{className:["zr-query-box--add-sibling",W.TEXT_SMALL].join(" "),minimal:!0,onClick:c,rightIcon:"small-plus",small:!0,text:i?"OR":"AND"})]})}const Jr=window.React.useCallback,_k=window.React.useState,Wa=window.Blueprint.Core.Button,Qa=window.Blueprint.Core.Classes,ab=window.Blueprint.Core.Dialog,kk=window.Blueprint.Core.Tag;function Ok({property:t,relationship:e,value:n}){return n==null?"":ea[t][e].stringify?.(n)||`${n}`}function Rk(t){const{property:e,relationship:n}=t,o=Ok(t);return[e,n,o].filter(Bt).join(" ")}function ib(t,e,{parentheses:n=!0}={}){if(Array.isArray(t)){const o=t.map(i=>ib(i,!e)).join(e?" or ":" and ");return n?`(${o})`:o}else return Rk(t)}function sb({addTerm:t,buttonProps:e={},useOR:n}){const[o,{on:i,off:l}]=Pt(!1),[c,u]=_k([qf]),f=Jr(h=>{switch(h.type){case"removeSelf":return;case"updateSelf":return u(h.value);default:return}},[]),m=Jr(()=>{t(c),l()},[t,l,c]);return d.jsxs(d.Fragment,{children:[d.jsx(Wa,{className:W.TEXT_SMALL,minimal:!0,onClick:i,rightIcon:"small-plus",small:!0,...e}),d.jsxs(ab,{canEscapeKeyClose:!1,className:"zr-query-term-dialog",isOpen:o,lazy:!0,onClose:l,children:[d.jsx("div",{className:Qa.DIALOG_BODY,children:d.jsx(Vf,{dispatch:f,isFirstChild:!0,isOnlyChild:!0,terms:c,useOR:!n})}),d.jsx("div",{className:Qa.DIALOG_FOOTER,children:d.jsxs("div",{className:Qa.DIALOG_FOOTER_ACTIONS,children:[d.jsx(Wa,{minimal:!0,onClick:l,text:"Cancel"}),d.jsx(Wa,{intent:"primary",minimal:!0,onClick:m,text:"OK"})]})})]})]})}function Ak({dispatch:t,isLast:e,term:n,useOR:o}){const[i,{on:l,off:c}]=Pt(!1),u=Jr(()=>{c(),t({type:"removeSelf"})},[c,t]),f=Jr(m=>{switch(m.type){case"removeSelf":u();break;case"updateSelf":return t({type:"updateSelf",value:m.value});default:return}},[t,u]);return d.jsxs(d.Fragment,{children:[d.jsx(kk,{"zr-role":"filter-tag",interactive:!0,minimal:!0,onClick:l,onRemove:u,children:ib(n,!o,{parentheses:!1})}),!e&&d.jsx("span",{className:W.TEXT_AUXILIARY,"zr-role":"filter-operator",children:o?"OR":"AND"}),d.jsxs(ab,{canEscapeKeyClose:!1,className:"zr-query-term-dialog",isOpen:i,lazy:!0,onClose:c,children:[d.jsx("div",{className:Qa.DIALOG_BODY,children:d.jsx(Vf,{dispatch:f,isFirstChild:!0,isOnlyChild:!0,terms:n,useOR:!o})}),d.jsx("div",{className:Qa.DIALOG_FOOTER,children:d.jsxs("div",{className:Qa.DIALOG_FOOTER_ACTIONS,children:[d.jsx(Wa,{minimal:!0,onClick:u,text:"Remove term"}),d.jsx(Wa,{intent:"primary",minimal:!0,onClick:c,text:"OK"})]})})]})]})}function Ik({dispatch:t,filter:e,isOnlyChild:n,useOR:o}){const i=Jr(u=>t({type:"add",value:u}),[t]),l=Jr(()=>t({type:"removeSelf"}),[t]),c=Jr((u,f)=>{switch(f.type){case"updateSelf":return t({type:"update",index:u,value:f.value});case"removeSelf":return e.length==1?t({type:"removeSelf"}):t({type:"remove",index:u});default:return}},[t,e.length]);return d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"zr-query-filter--elements",children:[e.map((u,f)=>d.jsx(Ak,{dispatch:m=>c(f,m),isLast:f==e.length-1,term:u,useOR:o},f)),d.jsx(sb,{addTerm:i,buttonProps:{intent:"primary",text:o?"OR":"AND"},useOR:!o})]}),!n&&d.jsx(Wa,{className:"zr-filter--remove-self",icon:"small-cross",minimal:!0,onClick:l,title:"Remove query group"})]})}function jk({dispatch:t,terms:e,useOR:n}){const o=Jr(l=>t({type:"add",value:l}),[t]),i=Jr((l,c)=>{const u=e[l];switch(c.type){case"removeSelf":return t({type:"remove",index:l});case"add":return t({type:"update",index:l,value:[Hf(u,c.value)]});case"remove":return t({type:"update",index:l,value:xf(u,c.index)});case"update":return t({type:"update",index:l,value:Cf(u,c.index,c.value)});default:return}},[t,e]);return d.jsxs("div",{className:"zr-query-filters",children:[e.map((l,c)=>d.jsxs("div",{className:"zr-query-filter",children:[c>0&&d.jsx("span",{"zr-role":"filter-list-operator",children:n?"OR":"AND"}),d.jsx(Ik,{dispatch:u=>i(c,u),isOnlyChild:e.length==1,filter:l,useOR:!n})]},c)),d.jsx(sb,{addTerm:o,buttonProps:{text:e.length==0?"Set filter":n?"OR":"AND"},useOR:!n})]})}const lb=window.React.useEffect,Pk=window.React.useMemo,cb=window.React.useState,Nk=window.Blueprint.Core.NonIdealState,Lk=window.Blueprint.Core.Spinner;function Dk(t,e){return new Promise(n=>{setTimeout(()=>{const o=t.items.map(i=>{const l=i.data.key,c=i.library.type+"s/"+i.library.id,{pdfs:u,notes:f}=ua(l,c,{pdfs:t.pdfs,notes:t.notes});return Ef(i,u,f,e)});n(o)},0)})}const hg=20;function Mk({items:t,onClose:e}){const{currentPage:n,pageLimits:o,setCurrentPage:i}=_s({itemsPerPage:hg}),[l]=cb(!0),[c,u]=QC([]),f=Pk(()=>t.filter(m=>rb(c,l,m)),[t,c,l]);return lb(()=>{i(1)},[t,f,i]),d.jsxs("div",{className:"zr-query-builder",children:[d.jsx(eo,{children:d.jsx(jk,{dispatch:u,terms:c,useOR:l})}),d.jsx("div",{className:"zr-queryitems--datalist",children:f.length==0?d.jsx(Nk,{className:W.TEXT_AUXILIARY,description:"No items to display"}):d.jsx(Lo,{children:f.slice(...o).map(m=>d.jsx(mk,{item:m,onClose:e},[m.location,m.key].join("-")))})}),d.jsx(eo,{children:d.jsx(Os,{arrows:"first",currentPage:n,itemsPerPage:hg,nbItems:f.length,setCurrentPage:i})})]})}function Bk({itemList:t,onClose:e}){const[n]=Do(),[o,i]=cb(null);return lb(()=>{t&&Dk(t,n).then(l=>{i(l)})},[t,n]),o==null?d.jsx(Lk,{size:15}):d.jsx(Mk,{items:o,onClose:e})}const zk=window.React.useEffect,$k=window.React.useState,Fk=window.Blueprint.Core.Spinner;function Uk({items:t}){return d.jsx(Lo,{children:t.slice(0,20).map((e,n)=>d.jsx(No,{children:e.key},e.key+"-"+n))})}function qk({itemList:t}){const[e,n]=$k(null);return zk(()=>{t&&n(t.notes)},[t]),e==null?d.jsx(Fk,{size:15}):d.jsx(Uk,{items:e})}const mg=window.Blueprint.Core.Button;function Hk({item:t}){const[e,{on:n,off:o}]=Pt(!1),[i,{on:l,off:c}]=Pt(!1);return d.jsxs(d.Fragment,{children:[d.jsx(No,{className:"zr-query--result",children:d.jsxs("div",{"zr-role":"item-header",children:[d.jsxs("div",{"zr-role":"item-details",children:[d.jsx("span",{className:W.TEXT_AUXILIARY,"zr-role":"item-title",children:t.title}),t.parent.key&&d.jsxs("span",{className:W.TEXT_ACCENT_1,children:["@",t.parent.key]}),d.jsx(mg,{className:W.TEXT_SMALL,icon:"eye-open",minimal:!0,onClick:n,title:"Show the item's raw metadata"}),t.annotations.length>0?d.jsx(mg,{className:W.TEXT_SMALL,icon:"duplicate",minimal:!0,text:fn(t.annotations.length,"linked note"),onClick:l}):null]}),d.jsx(Or,{className:W.TEXT_SMALL,href:t.link,icon:"paperclip",children:"Open PDF"})]})}),d.jsx(Uf,{item:t.raw,isOpen:e,onClose:o}),t.annotations.length>0&&d.jsx(Nc,{notes:t.annotations,isOpen:i,onClose:c})]})}const ub=window.React.useEffect,Vk=window.React.useState,Xk=window.Blueprint.Core.NonIdealState,Wk=window.Blueprint.Core.Spinner;function Qk(t){return new Promise(e=>{setTimeout(()=>{const n=t.pdfs.map(o=>{const i=o.data.key,l=o.data.parentItem,c=o.library.type+"s/"+o.library.id,{parent:u,annotations:f}=TC(i,l,c,{items:t.items,notes:t.notes});return vC(o,u,f)});e(n)},0)})}const gg=20;function Kk({items:t}){const{currentPage:e,pageLimits:n,setCurrentPage:o}=_s({itemsPerPage:gg});return ub(()=>{o(1)},[t,o]),d.jsxs("div",{className:"zr-query-builder",children:[d.jsx("div",{className:"zr-querypdfs--datalist",children:t.length==0?d.jsx(Xk,{className:W.TEXT_AUXILIARY,description:"No items to display"}):d.jsx(Lo,{children:t.slice(...n).map((i,l)=>d.jsx(Hk,{item:i},[i.key,l].join("-")))})}),d.jsx(eo,{children:d.jsx(Os,{arrows:"first",currentPage:e,itemsPerPage:gg,nbItems:t.length,setCurrentPage:o})})]})}function Gk({itemList:t}){const[e,n]=Vk(null);return ub(()=>{t&&Qk(t).then(o=>{n(o)})},[t]),e==null?d.jsx(Wk,{size:15}):d.jsx(Kk,{items:e})}const ls=window.React.useMemo;async function Yk(t,e){const{apikey:n,library:{path:o},...i}=t,l=["items",o,{...i}],{data:c=[],lastUpdated:u=0}=e.getQueryData(l)||{};return await MC({...t,since:u},{match:c},e)}const db=(t,e={})=>{const{cacheTime:n=1/0,retry:o=(u,f)=>u<1&&f.toJSON().status!=404,staleTime:i=1e3*60*10,...l}=e,c=t.map(u=>({queryKey:["citoid",{url:u}],queryFn:m=>LC(u),cacheTime:n,retry:o,staleTime:i,...l}));return ws({queries:c})},fb=(t,e={})=>{const{staleTime:n=1e3*60*5,refetchInterval:o=1e3*60*5,...i}=e,l=Io(),c=t.map(u=>{const{path:f}=u,m=["collections",{library:f}],{data:h,lastUpdated:v}=l.getQueryData(m)||{};return{queryKey:m,queryFn:y=>DC(u,v,{match:h}),staleTime:n,refetchInterval:o,...i}});return ws({queries:c})},ro=(t,e={})=>{const n=Io(),o=ls(()=>{const{staleTime:i=1e3*60,refetchInterval:l=1e3*60,...c}=e;return t.map(u=>{const{apikey:f,library:{path:m},...h}=u;return{queryKey:["items",m,{...h}],queryFn:y=>Yk(u,n),staleTime:i,refetchInterval:l,...c}})},[t,n,e]);return ws({queries:o})},pb=(t,e={})=>{const{staleTime:n=1e3*60*60,refetchInterval:o=1e3*60*60,...i}=e,l=t.map(c=>({queryKey:["permissions",{apikey:c}],queryFn:f=>BC(c),staleTime:n,refetchInterval:o,...i}));return ws({queries:l})},Zk=(t,e={})=>{const{cacheTime:n=1/0,...o}=e;return I0({queryKey:["semantic",{doi:t}],queryFn:l=>zC(t),cacheTime:n,...o})},hb=(t,e={})=>{const n=ls(()=>{const{staleTime:o=18e4,...i}=e;return t.map(l=>{const{apikey:c,path:u}=l;return{queryKey:["tags",{library:u}],queryFn:m=>$C({apikey:c,path:u}),staleTime:o,...i}})},[t,e]);return ws({queries:n})},mb=t=>{const e=ls(()=>Array.from(new Set(t.map(c=>c.apikey))),[t]),n=pb(e,{notifyOnChangeProps:["data","isLoading"]}),o=n.some(c=>c.isLoading),i=ls(()=>n.map(c=>c.data||[]).flat(1),[n]);return{data:ls(()=>t.filter(c=>{const u=i.find(f=>f.key==c.apikey);if(u){const{access:f}=u,[m,h]=c.path.split("/");return((m=="users"?f.user:f.groups?.[h]||f.groups?.all)||{}).write||!1}else return!1}),[t,i]),isLoading:o}};const Jk=window.React.useCallback,yg=window.React.useMemo,e1=window.React.useState,t1=window.Blueprint.Core.Spinner,n1=window.Blueprint.Core.Tab,r1=window.Blueprint.Core.Tabs,o1=[{show:"items",title:"Items"},{show:"pdfs",title:"PDFs"}];function a1({itemList:t,onClose:e,show:n}){return n=="items"?d.jsx(Bk,{itemList:t,onClose:e}):n=="pdfs"?d.jsx(Gk,{itemList:t}):d.jsx(qk,{itemList:t})}function i1({itemList:t,onClose:e}){const[n,o]=e1("items"),i=Jk((l,c,u)=>o(l),[]);return d.jsx(r1,{animate:!1,className:W.TABS_MINIMAL,id:"explorer-lists",onChange:i,renderActiveTabPanelOnly:!1,selectedTabId:n,children:o1.map(l=>d.jsx(n1,{id:l.show,panel:d.jsx(a1,{itemList:t,onClose:e,show:l.show}),title:l.title},l.show))})}function s1({onClose:t}){const[{dataRequests:e}]=cr(),n=ro(e,{notifyOnChangeProps:["data"],select:c=>c.data}),o=n.some(c=>c.isLoading),i=yg(()=>n.map(c=>c.data||[]).flat(1),[n]),l=yg(()=>ca(i),[i]);return d.jsx(Mn,{children:d.jsx("div",{children:o?d.jsx(t1,{}):d.jsx(i1,{itemList:l,onClose:t})})})}const l1=window.React.memo,c1=window.React.useEffect,u1=window.Blueprint.Core.Button;function d1({abstract:t,allAbstractsShown:e}){const[n,{set:o,toggle:i}]=Pt(e);return c1(()=>{o(e)},[e,o]),t?d.jsxs("div",{className:"zr-log-item--abstract",children:[d.jsx(u1,{className:W.TEXT_SMALL,"zr-role":"abstract-toggle",icon:n?"chevron-down":"chevron-right",onClick:i,minimal:!0,small:!0,children:"Abstract"}),n?d.jsx("span",{"zr-role":"abstract-text",className:[W.TEXT_SMALL,W.TEXT_AUXILIARY].join(" "),children:t}):null]}):null}const f1=l1(function({allAbstractsShown:e,item:n,onClose:o}){const{abstract:i,children:l,inGraph:c,itemType:u,meta:f,publication:m,raw:h,title:v}=n;return d.jsxs(No,{className:"zr-log-entry","data-in-graph":(c!=!1).toString(),children:[d.jsxs("div",{"zr-role":"item-header",children:[d.jsxs("div",{"zr-role":"item-details",children:[d.jsx("span",{className:W.TEXT_AUXILIARY,"data-item-type":u,"zr-role":"item-title",children:v}),d.jsx("span",{className:W.TEXT_ACCENT_1,children:f}),d.jsx("span",{className:W.TEXT_SECONDARY,children:m})]}),d.jsx(Is,{closeDialog:o,inGraph:c,item:h,notes:l.notes,pdfs:l.pdfs})]}),d.jsx(d1,{abstract:i,allAbstractsShown:e})]})}),p1=f1;function h1(t,{edited:e,inGraph:n,notes:o,pdfs:i}){const l=t.key,c=t.library.type+"s/"+t.library.id,u=t.meta.creatorSummary||"",f=t.meta.parsedDate?`(${new Date(t.meta.parsedDate).getUTCFullYear()})`:"",m=ua(l,c,{pdfs:i,notes:o});return{abstract:t.data.abstractNote||"",children:m,edited:e,inGraph:n,itemType:t.data.itemType,key:l,location:c,meta:[u,f].filter(Bt).join(" "),publication:t.data.publicationTitle||t.data.bookTitle||t.data.university||"",raw:t,title:t.data.title||""}}function m1(t,e=7){return new Promise(n=>{setTimeout(()=>{const{items:o=[],pdfs:i=[],notes:l=[]}=t,c=qE(),u=new Date;u.setHours(0,0,0);const f=new Date;f.setDate(u.getDate()-1),f.setHours(0,0,0);const m=new Date;m.setDate(u.getDate()-e),m.setHours(0,0,0);const h=o.reduce((v,y)=>{const b=c.get("@"+y.key),{edited:x=null,uid:S=!1}=b||{},k=new Date(y.data.dateModified),A=new Date(Math.max(...[x,k].filter(Bt).map(L=>Number(L))));if(A<=m)return v;{const L=h1(y,{edited:A,inGraph:S,notes:l,pdfs:i});return A>u?(v.today.push(L),v.numItems+=1):A>f?(v.yesterday.push(L),v.numItems+=1):A>m&&(v.recent.push(L),v.numItems+=1),v}},{today:[],yesterday:[],recent:[],numItems:0});Object.values(h).filter(Array.isArray).forEach(v=>v.sort((y,b)=>y.edited<b.edited?1:-1)),n(h)},0)})}const Xf=window.React.memo,g1=window.React.useEffect,vg=window.React.useMemo,bg=window.React.useState,y1=window.Blueprint.Core.NonIdealState,v1=window.Blueprint.Core.Slider,gb=window.Blueprint.Core.Spinner,b1=window.Blueprint.Core.Switch,sd=Xf(function({allAbstractsShown:e,items:n,label:o,onClose:i}){return n.length==0?null:d.jsxs(d.Fragment,{children:[d.jsx("h5",{children:o}),n.map(l=>d.jsx(p1,{allAbstractsShown:e,item:l,onClose:i},[l.location,l.key].join("/")))]})}),w1={labelRenderer:(t,e={isHandleTooltip:!1})=>e.isHandleTooltip?`Last ${t} days`:"",min:3,max:30,stepSize:1},x1=Xf(function({itemList:e,onClose:n}){const[o,i]=bg(7),[l,{toggle:c}]=Pt(!1),[u,f]=bg(null);return g1(()=>{e&&m1(e,o).then(m=>f(m))},[o,e]),u==null?d.jsx(gb,{size:15}):d.jsxs("div",{className:"zr-recentitems--datalist",children:[u.numItems==0?d.jsx(y1,{className:W.TEXT_AUXILIARY,description:"No items to display"}):d.jsxs(Lo,{children:[d.jsx(sd,{allAbstractsShown:l,items:u.today,label:"Today",onClose:n}),d.jsx(sd,{allAbstractsShown:l,items:u.yesterday,label:"Yesterday",onClose:n}),d.jsx(sd,{allAbstractsShown:l,items:u.recent,label:"Recently",onClose:n})]}),d.jsxs(eo,{children:[d.jsx(v1,{onChange:i,value:o,...w1}),d.jsx(b1,{"aria-checked":l,checked:l,label:"Show all abstracts",role:"switch",onChange:c})]})]})}),C1=Xf(function({onClose:e}){const[{dataRequests:n}]=cr(),o=ro(n,{notifyOnChangeProps:["data"],select:u=>u.data}),i=o.some(u=>u.isLoading),l=vg(()=>o.map(u=>u.data||[]).flat(1),[o]),c=vg(()=>ca(l),[l]);return d.jsx(Mn,{children:d.jsx("div",{style:{height:"100%"},children:i?d.jsx(gb,{}):d.jsx(x1,{itemList:c,onClose:e})})})}),E1=C1,S1=window.React.memo,T1=window.Blueprint.Core.Button,_1=window.Blueprint.Core.MenuItem,k1=window.Blueprint.Select.Select,O1={filterable:!1,itemRenderer:(t,e)=>{const{handleClick:n}=e;return d.jsx(_1,{onClick:n,text:t},t)},matchTargetWidth:!0,popoverProps:{minimal:!0,placement:"bottom-right",popoverClassName:W.POPOVER}},R1=S1(function({libProps:e}){const{currentLibrary:{path:n},onSelect:o,options:i}=e;return d.jsx(k1,{items:i,onItemSelect:o,...O1,children:d.jsx(T1,{className:["zr-dashboard--library-select",W.TEXT_AUXILIARY,W.TEXT_SMALL].join(" "),icon:"folder-open",minimal:!0,text:n})})}),A1=R1;const I1=window.React.useCallback,j1=window.Blueprint.Core.ButtonGroup,P1=window.Blueprint.Core.Icon;function N1(t){const{icon:e=null,isSelected:n,label:o,name:i,onClick:l,value:c}=t,u=[i,c].join("_"),f=I1(()=>l(c),[l,c]);return d.jsxs("span",{className:"zr-sort-option",onClick:f,children:[d.jsx("input",{type:"radio",checked:n,disabled:n,id:u,name:i,onChange:()=>{},value:c}),d.jsx(P1,{icon:e}),d.jsx("label",{className:W.TEXT_SMALL,htmlFor:u,children:o})]})}function L1(t){const{name:e,onSelect:n,options:o,selectedOption:i}=t;return d.jsx(j1,{minimal:!0,children:o.map(l=>d.jsx(N1,{isSelected:l.value==i,name:e,onClick:n,...l},l.value))})}const D1=()=>{const t=Io();return hf(e=>{const{library:{apikey:n,path:o},tags:i}=e,{lastUpdated:l=0}=t.getQueryData(["tags",{library:o}])||{};return PC(i,{apikey:n,path:o},l)},{onSettled:(e,n,o,i)=>{const{library:{path:l},tags:c}=o;n||t.invalidateQueries(["items",l],{refetchType:"all"},{throwOnError:!0}),jr({args:{tags:c},error:n,library:l,_type:"tags-deleted"})}})},M1=()=>{const t=Io();return hf(e=>{const{collections:n=[],items:o,library:i,tags:l=[]}=e,c=l.map(f=>({tag:f})),u=o.map(f=>{const{key:m,version:h,...v}=f;return{...v,collections:n,tags:c}});return mv(u,i)},{onSettled:(e=[],n,o,i)=>{const{collections:l,items:c,library:{path:u},tags:f}=o,m=e.reduce((h,v)=>(nv(v)?h.successful.push(v.value.data):h.failed.push(v.reason),h),{successful:[],failed:[]});!n&&m.successful.length>0&&t.invalidateQueries(["items",u],{refetchType:"all"}),jr({_type:"write",args:{collections:l,items:c,tags:f},data:m,error:n,library:u})}})},Wf=()=>{const t=Io();return hf(e=>{const{into:n,library:{apikey:o,path:i},tags:l}=e,c=[];return t.getQueriesData(["items",i]).map(f=>(f[1]||{}).data||[]).flat(1).filter(iv).filter(f=>f.data.tags.length>0).forEach(f=>{const m=f.data.tags,h=m.findIndex(y=>y.tag==n&&(y.type==0||!y.type));h>-1&&m.splice(h,1);const v=m.filter(y=>!l.includes(y.tag));v.length<m.length&&(v.push({tag:n,type:0}),c.push({key:f.data.key,version:f.version,tags:v}))}),mv(c,{apikey:o,path:i})},{onSettled:(e=[],n,o,i)=>{const{into:l,library:{path:c},tags:u}=o,f=e.reduce((m,h)=>(nv(h)?m.successful.push(h.value.data):m.failed.push(h.reason),m),{successful:[],failed:[]});f.successful.length>0&&t.invalidateQueries(["items",c],{refetchType:"all"}),jr({args:{into:l,tags:u},data:f,error:n,library:c,_type:"tags-modified"})}})},yb=window.React.useCallback,B1=window.React.useEffect,wg=window.React.useMemo,z1=window.React.useRef,$1=window.Blueprint.Core.Button,ld=window.Blueprint.Core.Classes,F1=window.Blueprint.Core.Dialog,U1=window.Blueprint.Core.InputGroup,q1=window.Blueprint.Core.MenuDivider,Yd=window.Blueprint.Core.MenuItem,H1=window.Blueprint.Core.Tag,V1=window.Blueprint.Core.UL;function X1({handleChange:t,status:e,value:n}){const o=z1(null);return B1(()=>{o?.current?.focus()},[]),d.jsx(U1,{disabled:e=="loading",fill:!0,inputRef:o,onChange:t,placeholder:"Enter a value",value:n})}function W1({disabled:t,library:e,tags:n}){const[o,{on:i,off:l}]=Pt(!1),[c,u]=yv(""),{mutate:f,status:m}=Wf(),h=yb(()=>{f({into:c,library:e,tags:n},{onSuccess:()=>l()})},[l,e,f,n,c]);return d.jsxs(d.Fragment,{children:[d.jsx(Yd,{disabled:t,htmlTitle:"Choose custom value...",intent:"primary",multiline:!0,onClick:i,shouldDismissPopover:!1,text:"Choose custom value..."}),d.jsxs(F1,{isOpen:o,lazy:!0,onClose:l,children:[d.jsxs("div",{className:ld.DIALOG_BODY,children:["The following tags will be merged :",d.jsx(V1,{children:n.map(v=>d.jsx("li",{children:v},v))}),d.jsx(X1,{handleChange:u,status:m,value:c})]}),d.jsx("div",{className:ld.DIALOG_FOOTER,children:d.jsx("div",{className:ld.DIALOG_FOOTER_ACTIONS,children:d.jsx($1,{disabled:c.length==0,loading:m=="loading",minimal:!0,onClick:h,text:"OK",title:"Confirm modification of tag(s)"})})})]})]})}function vb({library:t,options:e}){const{roam:n=[],zotero:o=[]}=e,i=wg(()=>[...n,...o],[n,o]),{mutate:l,status:c}=Wf(),u=wg(()=>["error","success","loading"].includes(c),[c]),f=yb(m=>{l({into:m,library:t,tags:i})},[t,l,i]);return d.jsxs(d.Fragment,{children:[n.map(m=>d.jsx(Yd,{disabled:u,labelElement:d.jsx(H1,{intent:"success",minimal:!0,children:"In Roam"}),multiline:!0,onClick:()=>f(m),text:m},m)),o.map(m=>d.jsx(Yd,{disabled:u,multiline:!0,onClick:()=>f(m),text:m},m)),d.jsx(q1,{}),d.jsx(W1,{disabled:["error","success","loading"].includes(c),library:t,tags:i})]})}const Q1=window.React.useCallback,K1=window.Blueprint.Core.Menu,xg=window.Blueprint.Core.MenuItem;function bb({deleteTags:t=!0,library:e,mergeAs:n=!0,suggestion:o}){const{mutate:i,status:l}=D1(),c=Q1(()=>{i({library:e,tags:[...o.use.roam,...o.use.zotero]})},[o.use,e,i]);return d.jsxs(K1,{className:W.TEXT_SMALL,children:[n&&o.type?d.jsx(xg,{disabled:["loading","success"].includes(l),icon:"group-objects",text:"Merge as",children:d.jsx(vb,{library:e,options:o.use})}):null,t?d.jsx(xg,{disabled:["loading","success"].includes(l),icon:l=="success"?"tick":"trash",intent:"danger",text:l=="success"?"Deleted":"Delete tag(s)",onClick:c}):null]})}const G1=window.Blueprint.Core.Tag;function Y1({text:t,uid:e=null}){return d.jsx(G1,{active:!0,intent:"primary",minimal:!0,multiline:!0,"data-tag-source":"roam","data-tag":t,"data-uid":e,children:t})}const Z1=window.Blueprint.Core.Tag;function J1({tagElement:t}){const{tag:e,meta:{numItems:n,type:o=0}}=t;return d.jsx(Z1,{active:!0,intent:"warning",minimal:!0,multiline:!1,"data-tag-source":"zotero","data-tag":e,"data-tag-type":o,children:e+" ("+n+")"})}var Ka=(t=>(t.ALL="all",t.SUGGESTIONS="suggestions",t))(Ka||{}),Zd=(t=>(t.ALL="all-items",t.SUGGESTIONS="suggestions",t))(Zd||{}),Ga=(t=>(t.ALPHABETICAL="alphabetical",t.ROAM="roam",t.USAGE="usage",t))(Ga||{});function eO(t){return t.map(e=>({nTags:e.zotero.length,nAuto:e.zotero.length==0?0:e.zotero.filter(n=>n.meta.type==1).length,in_roam:e.roam.length>0?1:0})).reduce((e,n)=>(e.nTags+=n.nTags,e.nAuto+=n.nAuto,e.nRoam+=n.in_roam,e),{nTags:0,nAuto:0,nRoam:0,nTotal:t.length})}function Jd(t,{count_roam:e=!1}={}){return t.zotero.reduce((n,o)=>n+o.meta.numItems,0)+(e?t.roam.length:0)}function wb(t){return t.zotero.length==1&&(t.roam.length==0||t.roam.length==1&&t.zotero[0].tag==t.roam[0].title)}function xb(t){const e=t.roam.map(i=>i.title),n=t.zotero.reduce((i,l)=>(e.includes(l.tag)||i.includes(l.tag)||i.push(l.tag),i),[]),o={roam:e,zotero:n};return e.length==0?t.zotero.length==1?{recommend:n[0],type:null,use:o}:n.length==1?{recommend:n[0],type:"auto",use:o}:{recommend:t.zotero.find(i=>i.meta.type==0)?.tag||null,type:"manual",use:o}:e.length==1?n.length==0?{recommend:e[0],type:t.zotero.length==1?null:"auto",use:o}:{recommend:e[0],type:"auto",use:o}:{recommend:null,type:"manual",use:o}}function tO(t){return new Promise(e=>{setTimeout(()=>{const n=Object.keys(t).map(o=>{const i=HE(Array.from(new Set([o,o.toUpperCase()]))).sort((c,u)=>c.title>u.title?-1:1),l=Array.from(t[o]);for(const c of i){const u=l.findIndex(f=>Ln(c.title,f.token,{match:"exact"}));if(u>=0){const{roam:f,...m}=l[u];l[u]={roam:[...f,c],...m}}}return l}).flat(1);e(n)},0)})}function nO(t,e=Ga.ALPHABETICAL){const n=[...t];switch(e){case"usage":return n.sort((o,i)=>Jd(o)>Jd(i)?-1:1);case"roam":return n.sort((o,i)=>o.roam.length>i.roam.length?-1:1);case"alphabetical":default:return n}}const rO=window.React.memo,Cg=window.Blueprint.Core.Icon,oO=rO(function({entry:e,library:n}){const o=wb(e),i=xb(e),l=Jd(e);return d.jsx(No,{className:"zr-tag-entry","data-token":e.token,"in-graph":(e.roam.length>0).toString(),children:d.jsxs("div",{"zr-role":"item-header",children:[d.jsxs("div",{"zr-role":"item-info",children:[e.roam.length>0?d.jsx(Cg,{htmlTitle:"This tag exists in Roam ("+e.roam.map(c=>c.title).join(", ")+")",icon:"tick-circle",intent:"success",size:14}):d.jsx(Cg,{icon:"blank"}),d.jsx("span",{className:W.TEXT_AUXILIARY,"zr-role":"title",children:e.token}),!o&&d.jsxs("span",{className:W.TEXT_SMALL,"zr-role":"item-additional",children:[e.roam.map(c=>d.jsx(Y1,{text:c.title,uid:c.uid},c.title)),e.zotero.map(c=>{const{tag:u,meta:{type:f}}=c;return d.jsx(J1,{tagElement:c},[u,f].join("_"))})]})]}),d.jsx("span",{className:[W.TEXT_SECONDARY,W.TEXT_SMALL].join(" "),"zr-role":"item-count",children:fn(l,"item")}),d.jsx("div",{"zr-role":"item-actions",children:d.jsx(bb,{deleteTags:!0,library:n,mergeAs:!0,suggestion:i})})]})})}),aO=oO,iO=window.React.useCallback,sO=window.React.useMemo,Qf=window.Blueprint.Core.Button,lO=window.Blueprint.Core.ButtonGroup,Eg=window.Blueprint.Core.Intent,cO=window.Blueprint.Core.Menu;function uO({library:t,suggestion:e}){const{recommend:n,use:o}=e,{mutate:i,status:l}=Wf(),c=iO(()=>{i({into:n,library:t,tags:[...o.roam,...o.zotero]})},[t,i,n,o]),u=sO(()=>l=="error"?{disabled:!0,icon:"warning",intent:Eg.DANGER}:l=="success"?{disabled:!0,icon:"tick",intent:Eg.SUCCESS,text:"Merged"}:{icon:"many-to-one"},[l]);return d.jsx(Qf,{active:!0,className:["zr-tag-suggestion--auto-merge",W.TEXT_SMALL].join(" "),intent:"primary",loading:l=="loading",onClick:c,text:"Auto-merge",title:"Suggestion : "+n,...u})}function dO({library:t,suggestion:e}){return d.jsx(ci,{content:d.jsx(cO,{children:d.jsx(vb,{library:t,options:e.use})}),interactionKind:"click",popoverClassName:W.POPOVER,children:d.jsx(Qf,{className:["zr-tag-suggestion--merge-as",W.TEXT_SMALL].join(" "),intent:"primary",rightIcon:"caret-down",text:"Merge as ..."})})}function fO({entry:t,library:e}){const n=xb(t);switch(n.type){case"auto":case"manual":return d.jsxs(lO,{minimal:!0,children:[n.type=="auto"&&d.jsx(uO,{library:e,suggestion:n}),n.type=="manual"&&d.jsx(dO,{library:e,suggestion:n}),d.jsx(ci,{content:d.jsx(bb,{library:e,mergeAs:n.type=="auto",suggestion:n}),interactionKind:"click",placement:"bottom-start",popoverClassName:W.POPOVER,children:d.jsx(Qf,{icon:"more"})})]});case null:default:return null}}const pO=window.React.memo,Sg=window.Blueprint.Core.Icon,hO=window.Blueprint.Core.Tag,mO=pO(function({entry:e,library:n}){return d.jsx(No,{className:"zr-tag-suggestion","data-token":e.token,"in-graph":(e.roam.length>0).toString(),children:d.jsxs("div",{"zr-role":"item-header",children:[d.jsxs("span",{"zr-role":"item-info",children:[e.roam.length>0?d.jsx(Sg,{htmlTitle:"This tag exists in Roam ("+e.roam.map(o=>o.title).join(", ")+")",icon:"tick-circle",intent:"success",size:14}):d.jsx(Sg,{icon:"blank",size:14}),d.jsx("span",{className:W.TEXT_AUXILIARY,"zr-role":"title",children:e.token})]}),d.jsx(hO,{htmlTitle:e.zotero.map(o=>o.tag).join(" - "),intent:"warning",icon:"tag",minimal:!0,"zr-role":"item-count",children:fn(e.zotero.length,"tag")}),d.jsx("div",{"zr-role":"item-actions",children:d.jsx(fO,{entry:e,library:n})})]})})}),gO=mO;const yO=window.React.memo,Tg=window.Blueprint.Core.ProgressBar,vO=yO(function({stats:e}){if(e){const{nTags:n,nRoam:o,nAuto:i,nTotal:l}=e,c=Math.round(i/n*100)/100,u=Math.round(o/l*100)/100;return d.jsxs("div",{className:[W.TEXT_AUXILIARY,W.TEXT_SMALL].join(" "),"zr-role":"list-stats",children:[d.jsxs("span",{"zr-role":"stats-text",children:["Zotero has ",n," tags, matched in ",l," groups"]}),d.jsxs("span",{"zr-role":"stats-figures",children:[d.jsxs("span",{"zr-role":"stats-bar",children:["Automatic : ",c*100,"%",d.jsx(Tg,{animate:!1,intent:"warning",stripes:!1,value:c})]}),d.jsxs("span",{"zr-role":"stats-bar",children:["In Roam : ",u*100,"%",d.jsx(Tg,{animate:!1,intent:"primary",stripes:!1,value:u})]})]})]})}else return null}),bO=vO;const wO=window.React.memo,xO=window.React.useCallback,CO=window.React.useEffect,_g=window.React.useMemo,cd=window.React.useState,EO=window.Blueprint.Core.NonIdealState,SO=window.Blueprint.Core.Spinner,kg=30,TO=[{icon:"sort-desc",label:"Most Used",value:Ga.USAGE},{icon:"sort-alphabetical",label:"Name",value:Ga.ALPHABETICAL},{icon:"star",label:"In Roam",value:Ga.ROAM}],_O=wO(function({filter:e,items:n,library:o}){const{currentPage:i,pageLimits:l,setCurrentPage:c}=_s({itemsPerPage:kg}),[u,f]=cd(Ga.USAGE),[m,h]=cd(),[v,y]=cd();CO(()=>{n&&(tO(n).then(k=>{h(k),y(()=>eO(k))}),c(1))},[n,c]);const b=_g(()=>m?e==Ka.SUGGESTIONS?m.filter(k=>!wb(k)):m:[],[e,m]),x=xO(k=>{f(()=>k),c(1)},[c]),S=_g(()=>nO(b,u),[b,u]);return m==null?d.jsx(SO,{size:15}):d.jsxs("div",{className:"zr-tagmanager--datalist",children:[d.jsxs(eo,{children:[d.jsx(L1,{name:"zr-tagmanager-sort-"+e,onSelect:x,options:TO,selectedOption:u}),d.jsx(Os,{currentPage:i,itemsPerPage:kg,nbItems:b.length,setCurrentPage:c})]}),d.jsx("div",{className:"zr-tagmanager--datalist--contents",children:S.length==0?d.jsx(EO,{className:W.TEXT_AUXILIARY,description:"No items to display"}):d.jsx(Lo,{children:S.slice(...l).map(k=>e==Ka.SUGGESTIONS?d.jsx(gO,{entry:k,library:o},k.token):d.jsx(aO,{entry:k,library:o},k.token))})}),e==Ka.ALL&&d.jsx(bO,{stats:v})]})}),kO=_O;const Cb=window.React.useCallback,Og=window.React.useMemo,Eb=window.React.useState,Sb=window.Blueprint.Core.Spinner,OO=window.Blueprint.Core.Tab,Rg=window.Blueprint.Core.Tabs,RO=[{id:Zd.SUGGESTIONS,filterValue:Ka.SUGGESTIONS,title:"Suggestions"},{id:Zd.ALL,filterValue:Ka.ALL,title:"All tags"}];function AO({items:t,libProps:e}){const[n,o]=Eb("suggestions"),i=Cb((l,c,u)=>o(l),[]);return d.jsxs(Rg,{animate:!1,className:W.TABS_MINIMAL,id:"tag-lists",onChange:i,renderActiveTabPanelOnly:!1,selectedTabId:n,children:[RO.map(l=>d.jsx(OO,{id:l.id,panel:d.jsx(kO,{filter:l.filterValue,items:t,library:e.currentLibrary}),title:l.title},l.id)),d.jsx(Rg.Expander,{}),d.jsx(A1,{libProps:e})]})}function IO({libraries:t}){const[e,n]=Eb(t[0]),{isLoading:o,data:i}=hb([e],{notifyOnChangeProps:["data"],select:f=>f.data})[0],l=Og(()=>t.map(f=>f.path),[t]),c=Cb(f=>n(t.find(m=>m.path==f)),[t]),u=Og(()=>({currentLibrary:e,onSelect:c,options:l}),[c,l,e]);return d.jsx("div",{children:o?d.jsx(Sb,{}):d.jsx(AO,{items:i,libProps:u})})}function jO(){const[{libraries:t}]=cr(),{data:e,isLoading:n}=mb(t);return d.jsx(Mn,{children:n?d.jsx(Sb,{}):e.length==0?d.jsx(gv,{}):d.jsx(IO,{libraries:e})})}const Tb=window.React.memo,PO=window.React.useCallback,NO=window.React.useEffect,LO=window.React.useState,DO=window.Blueprint.Core.Classes,ud=window.Blueprint.Core.Icon,dd=window.Blueprint.Core.Tab,Ag=window.Blueprint.Core.Tabs,fd={className:"zr-dashboard-tab",panelClassName:"zr-dashboard-panel"},MO=Tb(function(e){const{defaultTab:n,onClose:o}=e,[i,l]=LO(n);NO(()=>{l(n)},[n]);const c=PO((u,f,m)=>l(u),[]);return d.jsxs(Ag,{animate:!1,className:[W.TABS,"zr-dashboard-tabs-wrapper"].join(" "),id:"zr-dashboard--tabs",onChange:c,selectedTabId:i,vertical:!0,children:[d.jsx(dd,{id:"recent-items",panel:d.jsx(E1,{onClose:o}),title:d.jsxs(d.Fragment,{children:[d.jsx(ud,{htmlTitle:"Recent Items",icon:"history"}),d.jsx("span",{children:"Recent Items"})]}),...fd}),d.jsx(dd,{id:"tag-manager",panel:d.jsx(jO,{}),title:d.jsxs(d.Fragment,{children:[d.jsx(ud,{htmlTitle:"Tag Manager",icon:"tag"}),d.jsx("span",{children:"Tag Manager"})]}),...fd}),d.jsx(Ag.Expander,{}),d.jsx(dd,{id:"explorer",panel:d.jsx(s1,{onClose:o}),title:d.jsxs(d.Fragment,{children:[d.jsx(ud,{htmlTitle:"Explorer",icon:"code-block"}),d.jsx("span",{children:"Explorer"})]}),...fd})]})});Tb(function({isOpen:e,onClose:n}){return d.jsx(la,{className:"dashboard",isOpen:e,label:"zoteroRoam Dashboard",onClose:n,children:d.jsx("div",{className:DO.DIALOG_BODY,children:d.jsx("div",{className:"zr-dashboard--main",children:d.jsx(MO,{defaultTab:"recent-items",onClose:n})})})})});var Oo=(t=>(t.DISABLED="disabled",t.OFF="off",t.ON="on",t))(Oo||{});const _b=window.React.memo,kb=window.React.useCallback,BO=window.React.useEffect,Ha=window.React.useMemo,ef=window.Blueprint.Core.Button,zO=window.Blueprint.Core.Classes,Ig=window.Blueprint.Core.Divider,jg=window.Blueprint.Core.Icon,pd=window.Blueprint.Core.Intent,$O=window.Blueprint.Core.Menu,Fl=window.Blueprint.Core.MenuItem,FO=window.Blueprint.Core.Spinner,UO=window.Blueprint.Core.Switch,Ob=window.Blueprint.Core.Tag,qO=d.jsx(Ob,{intent:"primary",minimal:!0,children:"Beta"}),Pg=()=>document.getElementsByTagName("body")[0].getAttribute("zr-dark-theme")=="true";function HO(){const[{darkTheme:t}]=bv(),[e,{set:n,toggle:o}]=Pt(t),i=kb(()=>{const l=Pg();document.getElementsByTagName("body")[0].setAttribute("zr-dark-theme",(!l).toString()),o()},[o]);return BO(()=>{n(Pg())},[n]),d.jsx(UO,{alignIndicator:"right",checked:e,inline:!1,label:"Dark Theme",onChange:i})}const VO=_b(function(){const{version:e}=Lc();return d.jsxs("div",{className:"zr-icon-tooltip-footer",children:[d.jsx(HO,{}),d.jsxs("span",{className:"zr-icon-tooltip-footer--row",children:[d.jsx("a",{href:"https://alix-lahuec.gitbook.io/zotero-roam/",target:"_blank",rel:"noreferrer",children:"Docs"}),d.jsxs(Ob,{className:"zr-version-tag",children:["v",e]})]})]})});function XO(t){const{queries:e}=t,n=e.map(v=>v.dataUpdatedAt).filter(Bt),o=n.length>0?d.jsx("span",{"zr-role":"timestamp",children:ps(Math.max(...n))}):null,i=e.some(v=>v.isFetching),l=e.every(v=>v.isSuccess),c=e.some(v=>v.isLoadingError),u=e.some(v=>v.isRefetchError),f=kb(()=>{e.forEach(v=>{v.refetch()})},[e]);let m="blank",h={};return l?(m="tick",h={intent:pd.SUCCESS,color:"#00e676",title:"The last update was successful"}):c?(m="delete",h={intent:pd.DANGER,title:"The extension was unable to retrieve the data"}):u&&(m="error",h={intent:pd.WARNING,title:"The last update was unsuccessful"}),d.jsxs("span",{"zr-role":"status",children:[o,i?d.jsx(FO,{size:16}):d.jsx(jg,{size:16,icon:m,...h}),d.jsx(ef,{minimal:!0,onClick:f,disabled:i,title:"Refresh data",children:d.jsx(jg,{size:16,icon:"refresh"})})]})}function WO(t){const{queries:e}=t;return d.jsx("ul",{className:zO.LIST_UNSTYLED,children:Object.keys(e).map(n=>d.jsxs("li",{className:"zr-queries-status",children:[d.jsx("span",{"zr-role":"entry",children:n}),d.jsx(XO,{queries:e[n]})]},n))})}_b(function(e){const{openDashboard:n,openLogger:o,openSearchPanel:i,openSettingsPanel:l,status:c,toggleExtension:u}=e,[{apiKeys:f,dataRequests:m,libraries:h}]=cr(),v=Ha(()=>({enabled:c==Oo.ON,notifyOnChangeProps:["dataUpdatedAt","status","isFetching"]}),[c]),y=ro(m,v),b=pb(f,v),x=hb(h,v),S=fb(h,v),k=[...b,...y,...x,...S].some(q=>q.isLoading),A=[...b,...y,...x,...S].some(q=>q.fetchStatus=="fetching"),L=[...b,...y,...x,...S].some(q=>q.isLoadingError),U=y.some(q=>q.data),X=Ha(()=>L?"error":k&&A?"loading":"ready",[A,k,L]),ee=Ha(()=>c==Oo.DISABLED?"warning-sign":L?"issue":"manual",[L,c]),D=Ha(()=>({Permissions:b,Collections:S,Tags:x,Items:y}),[S,y,b,x]),j=Ha(()=>d.jsxs(d.Fragment,{children:[d.jsxs("span",{children:[d.jsx("strong",{children:"Status : "})," ",c]}),c==Oo.DISABLED&&d.jsx(ef,{"aria-haspopup":"dialog",icon:"warning-sign",intent:"warning",minimal:!0,onClick:l,text:"Click to finish setting up zoteroRoam",title:"Click to open zoteroRoam settings"}),d.jsx(Ig,{}),c==Oo.ON?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"zr-icon-tooltip-body",children:d.jsx(WO,{queries:D})}),d.jsx(Ig,{})]}):null,d.jsx(VO,{})]}),[l,D,c]),P=Ha(()=>d.jsxs($O,{children:[d.jsx(Fl,{text:"Settings",icon:"settings",onClick:l}),d.jsx(Fl,{disabled:!U,text:"Dashboard",icon:"dashboard",labelElement:qO,onClick:n}),d.jsx(Fl,{disabled:!U,text:"Search in library",icon:"search",onClick:i}),d.jsx(Fl,{text:"View logs",icon:"console",onClick:o})]}),[U,n,o,i,l]);return d.jsx(Yv,{popoverClassName:"zr-icon-tooltip",usePortal:!1,content:j,placement:"auto",interactionKind:"hover",hoverOpenDelay:450,hoverCloseDelay:450,children:d.jsx(Zv,{content:P,children:d.jsx(ef,{id:"zotero-roam-icon","data-extension-status":c,"data-fetching-status":X,disabled:c==Oo.DISABLED,icon:ee,minimal:!0,small:!0,onClick:u,"aria-haspopup":"true",title:c==Oo.DISABLED?"zoteroRoam is disabled":"Click to toggle the zoteroRoam extension"})})})});Array.prototype.find||(Array.prototype.find=function(t){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof t!="function")throw new TypeError("predicate must be a function");for(var e=Object(this),n=e.length>>>0,o=arguments[1],i,l=0;l<n;l++)if(i=e[l],t.call(o,i,l,e))return i});if(window&&typeof window.CustomEvent!="function"){let t=function(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),o};var pP=t;typeof window.Event<"u"&&(t.prototype=window.Event.prototype),window.CustomEvent=t}class fc{constructor(e){this.tribute=e,this.tribute.events=this}static keys(){return[{key:9,value:"TAB"},{key:8,value:"DELETE"},{key:13,value:"ENTER"},{key:27,value:"ESCAPE"},{key:32,value:"SPACE"},{key:38,value:"UP"},{key:40,value:"DOWN"}]}bind(e){e.boundKeydown=this.keydown.bind(e,this),e.boundKeyup=this.keyup.bind(e,this),e.boundInput=this.input.bind(e,this),e.addEventListener("keydown",e.boundKeydown,!1),e.addEventListener("keyup",e.boundKeyup,!1),e.addEventListener("input",e.boundInput,!1)}unbind(e){e.removeEventListener("keydown",e.boundKeydown,!1),e.removeEventListener("keyup",e.boundKeyup,!1),e.removeEventListener("input",e.boundInput,!1),delete e.boundKeydown,delete e.boundKeyup,delete e.boundInput}keydown(e,n){e.shouldDeactivate(n)&&(e.tribute.isActive=!1,e.tribute.hideMenu());let o=this;e.commandEvent=!1,fc.keys().forEach(i=>{i.key===n.keyCode&&(e.commandEvent=!0,e.callbacks()[i.value.toLowerCase()](n,o))})}input(e,n){e.inputEvent=!0,e.keyup.call(this,e,n)}click(e,n){let o=e.tribute;if(o.menu&&o.menu.contains(n.target)){let i=n.target;for(n.preventDefault(),n.stopPropagation();i.nodeName.toLowerCase()!=="li";)if(i=i.parentNode,!i||i===o.menu)throw new Error("cannot find the <li> container for the click");o.selectItemAtIndex(i.getAttribute("data-index"),n),o.hideMenu()}else o.current.element&&!o.current.externalTrigger&&(o.current.externalTrigger=!1,setTimeout(()=>o.hideMenu()))}keyup(e,n){if(e.inputEvent&&(e.inputEvent=!1),e.updateSelection(this),n.keyCode!==27){if(!e.tribute.allowSpaces&&e.tribute.hasTrailingSpace){e.tribute.hasTrailingSpace=!1,e.commandEvent=!0,e.callbacks().space(n,this);return}if(!e.tribute.isActive)if(e.tribute.autocompleteMode)e.callbacks().triggerChar(n,this,"");else{let o=e.getKeyCode(e,this,n);if(isNaN(o)||!o)return;let i=e.tribute.triggers().find(l=>l.charCodeAt(0)===o);typeof i<"u"&&e.callbacks().triggerChar(n,this,i)}e.tribute.current.mentionText.length<e.tribute.current.collection.menuShowMinLength||((e.tribute.current.trigger||e.tribute.autocompleteMode)&&e.commandEvent===!1||e.tribute.isActive&&n.keyCode===8)&&e.tribute.showMenuFor(this,!0)}}shouldDeactivate(e){if(!this.tribute.isActive)return!1;if(this.tribute.current.mentionText.length===0){let n=!1;return fc.keys().forEach(o=>{e.keyCode===o.key&&(n=!0)}),!n}return!1}getKeyCode(e,n,o){let i=e.tribute,l=i.range.getTriggerInfo(!1,i.hasTrailingSpace,!0,i.allowSpaces,i.autocompleteMode);return l?l.mentionTriggerChar.charCodeAt(0):!1}updateSelection(e){this.tribute.current.element=e;let n=this.tribute.range.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);n&&(this.tribute.current.selectedPath=n.mentionSelectedPath,this.tribute.current.mentionText=n.mentionText,this.tribute.current.selectedOffset=n.mentionSelectedOffset)}callbacks(){return{triggerChar:(e,n,o)=>{let i=this.tribute;i.current.trigger=o;let l=i.collection.find(c=>c.trigger===o);i.current.collection=l,i.current.mentionText.length>=i.current.collection.menuShowMinLength&&i.inputEvent&&i.showMenuFor(n,!0)},enter:(e,n)=>{this.tribute.isActive&&this.tribute.current.filteredItems&&(e.preventDefault(),e.stopPropagation(),setTimeout(()=>{this.tribute.selectItemAtIndex(this.tribute.menuSelected,e),this.tribute.hideMenu()},0))},escape:(e,n)=>{this.tribute.isActive&&(e.preventDefault(),e.stopPropagation(),this.tribute.isActive=!1,this.tribute.hideMenu())},tab:(e,n)=>{this.callbacks().enter(e,n)},space:(e,n)=>{this.tribute.isActive&&(this.tribute.spaceSelectsMatch?this.callbacks().enter(e,n):this.tribute.allowSpaces||(e.stopPropagation(),setTimeout(()=>{this.tribute.hideMenu(),this.tribute.isActive=!1},0)))},up:(e,n)=>{if(this.tribute.isActive&&this.tribute.current.filteredItems){e.preventDefault(),e.stopPropagation();let o=this.tribute.current.filteredItems.length,i=this.tribute.menuSelected;o>i&&i>0?(this.tribute.menuSelected--,this.setActiveLi()):i===0&&(this.tribute.menuSelected=o-1,this.setActiveLi(),this.tribute.menu.scrollTop=this.tribute.menu.scrollHeight)}},down:(e,n)=>{if(this.tribute.isActive&&this.tribute.current.filteredItems){e.preventDefault(),e.stopPropagation();let o=this.tribute.current.filteredItems.length-1,i=this.tribute.menuSelected;o>i?(this.tribute.menuSelected++,this.setActiveLi()):o===i&&(this.tribute.menuSelected=0,this.setActiveLi(),this.tribute.menu.scrollTop=0)}},delete:(e,n)=>{this.tribute.isActive&&this.tribute.current.mentionText.length<1?this.tribute.hideMenu():this.tribute.isActive&&this.tribute.showMenuFor(n)}}}setActiveLi(e){let n=this.tribute.menu.querySelectorAll("li"),o=n.length>>>0;e&&(this.tribute.menuSelected=parseInt(e));for(let i=0;i<o;i++){let l=n[i];if(i===this.tribute.menuSelected){l.classList.add(this.tribute.current.collection.selectClass);let c=l.getBoundingClientRect(),u=this.tribute.menu.getBoundingClientRect();if(c.bottom>u.bottom){let f=c.bottom-u.bottom;this.tribute.menu.scrollTop+=f}else if(c.top<u.top){let f=u.top-c.top;this.tribute.menu.scrollTop-=f}}else l.classList.remove(this.tribute.current.collection.selectClass)}}getFullHeight(e,n){let o=e.getBoundingClientRect().height;if(n){let i=e.currentStyle||window.getComputedStyle(e);return o+parseFloat(i.marginTop)+parseFloat(i.marginBottom)}return o}}class QO{constructor(e){this.tribute=e,this.tribute.menuEvents=this,this.menu=this.tribute.menu}bind(e){this.menuClickEvent=this.tribute.events.click.bind(null,this),this.menuContainerScrollEvent=this.debounce(()=>{this.tribute.isActive&&this.tribute.showMenuFor(this.tribute.current.element,!1)},300,!1),this.windowResizeEvent=this.debounce(()=>{this.tribute.isActive&&this.tribute.range.positionMenuAtCaret(!0)},300,!1),this.tribute.range.getDocument().addEventListener("MSPointerDown",this.menuClickEvent,!1),this.tribute.range.getDocument().addEventListener("mousedown",this.menuClickEvent,!1),window.addEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.addEventListener("scroll",this.menuContainerScrollEvent,!1):window.addEventListener("scroll",this.menuContainerScrollEvent)}unbind(e){this.tribute.range.getDocument().removeEventListener("mousedown",this.menuClickEvent,!1),this.tribute.range.getDocument().removeEventListener("MSPointerDown",this.menuClickEvent,!1),window.removeEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.removeEventListener("scroll",this.menuContainerScrollEvent,!1):window.removeEventListener("scroll",this.menuContainerScrollEvent)}debounce(e,n,o){var i;return()=>{var l=this,c=arguments,u=()=>{i=null,o||e.apply(l,c)},f=o&&!i;clearTimeout(i),i=setTimeout(u,n),f&&e.apply(l,c)}}}class KO{constructor(e){this.tribute=e,this.tribute.range=this}getDocument(){let e;return this.tribute.current.collection&&(e=this.tribute.current.collection.iframe),e?e.contentWindow.document:document}positionMenuAtCaret(e){let n=this.tribute.current,o,i=this.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(typeof i<"u"){if(!this.tribute.positionMenu){this.tribute.menu.style.cssText="display: block;";return}this.isContentEditable(n.element)?o=this.getContentEditableCaretPosition(i.mentionPosition):o=this.getTextAreaOrInputUnderlinePosition(this.tribute.current.element,i.mentionPosition),this.tribute.menu.style.cssText=`top: ${o.top}px;
                                     left: ${o.left}px;
                                     right: ${o.right}px;
                                     bottom: ${o.bottom}px;
                                     position: absolute;
                                     display: block;`,o.left==="auto"&&(this.tribute.menu.style.left="auto"),o.top==="auto"&&(this.tribute.menu.style.top="auto"),e&&this.scrollIntoView(),window.setTimeout(()=>{let l={width:this.tribute.menu.offsetWidth,height:this.tribute.menu.offsetHeight},c=this.isMenuOffScreen(o,l),u=window.innerWidth>l.width&&(c.left||c.right),f=window.innerHeight>l.height&&(c.top||c.bottom);(u||f)&&(this.tribute.menu.style.cssText="display: none",this.positionMenuAtCaret(e))},0)}else this.tribute.menu.style.cssText="display: none"}get menuContainerIsBody(){return this.tribute.menuContainer===document.body||!this.tribute.menuContainer}selectElement(e,n,o){let i,l=e;if(n)for(var c=0;c<n.length;c++){if(l=l.childNodes[n[c]],l===void 0)return;for(;l.length<o;)o-=l.length,l=l.nextSibling;l.childNodes.length===0&&!l.length&&(l=l.previousSibling)}let u=this.getWindowSelection();i=this.getDocument().createRange(),i.setStart(l,o),i.setEnd(l,o),i.collapse(!0);try{u.removeAllRanges()}catch{}u.addRange(i),e.focus()}replaceTriggerText(e,n,o,i,l){let c=this.getTriggerInfo(!0,o,n,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(c!==void 0){let u=this.tribute.current,f=new CustomEvent("tribute-replaced",{detail:{item:l,instance:u,context:c,event:i}});if(this.isContentEditable(u.element)){let m=typeof this.tribute.replaceTextSuffix=="string"?this.tribute.replaceTextSuffix:"";e+=m;let h=c.mentionPosition+c.mentionText.length;this.tribute.autocompleteMode||(h+=c.mentionTriggerChar.length),this.pasteHtml(e,c.mentionPosition,h)}else{let m=this.tribute.current.element,h=typeof this.tribute.replaceTextSuffix=="string"?this.tribute.replaceTextSuffix:" ";e+=h;let v=c.mentionPosition,y=c.mentionPosition+c.mentionText.length+h.length;this.tribute.autocompleteMode||(y+=c.mentionTriggerChar.length-1),m.value=m.value.substring(0,v)+e+m.value.substring(y,m.value.length),m.selectionStart=v+e.length,m.selectionEnd=v+e.length}u.element.dispatchEvent(new CustomEvent("input",{bubbles:!0})),u.element.dispatchEvent(f)}}pasteHtml(e,n,o){let i,l;l=this.getWindowSelection(),i=this.getDocument().createRange(),i.setStart(l.anchorNode,n),i.setEnd(l.anchorNode,o),i.deleteContents();let c=this.getDocument().createElement("div");c.innerHTML=e;let u=this.getDocument().createDocumentFragment(),f,m;for(;f=c.firstChild;)m=u.appendChild(f);i.insertNode(u),m&&(i=i.cloneRange(),i.setStartAfter(m),i.collapse(!0),l.removeAllRanges(),l.addRange(i))}getWindowSelection(){return this.tribute.collection.iframe?this.tribute.collection.iframe.contentWindow.getSelection():window.getSelection()}getNodePositionInParent(e){if(e.parentNode===null)return 0;for(var n=0;n<e.parentNode.childNodes.length;n++)if(e.parentNode.childNodes[n]===e)return n}getContentEditableSelectedPath(e){let n=this.getWindowSelection(),o=n.anchorNode,i=[],l;if(o!=null){let c,u=o.contentEditable;for(;o!==null&&u!=="true";)c=this.getNodePositionInParent(o),i.push(c),o=o.parentNode,o!==null&&(u=o.contentEditable);return i.reverse(),l=n.getRangeAt(0).startOffset,{selected:o,path:i,offset:l}}}getTextPrecedingCurrentSelection(){let e=this.tribute.current,n="";if(this.isContentEditable(e.element)){let o=this.getWindowSelection().anchorNode;if(o!=null){let i=o.textContent,l=this.getWindowSelection().getRangeAt(0).startOffset;i&&l>=0&&(n=i.substring(0,l))}}else{let o=this.tribute.current.element;if(o){let i=o.selectionStart;o.value&&i>=0&&(n=o.value.substring(0,i))}}return n}getLastWordInText(e){e=e.replace(/\u00A0/g," ");let n=e.split(/\s+/),o=n.length-1;return n[o].trim()}getTriggerInfo(e,n,o,i,l){let c=this.tribute.current,u,f,m;if(!this.isContentEditable(c.element))u=this.tribute.current.element;else{let y=this.getContentEditableSelectedPath(c);y&&(u=y.selected,f=y.path,m=y.offset)}let h=this.getTextPrecedingCurrentSelection(),v=this.getLastWordInText(h);if(l)return{mentionPosition:h.length-v.length,mentionText:v,mentionSelectedElement:u,mentionSelectedPath:f,mentionSelectedOffset:m};if(h!=null){let y=-1,b;if(this.tribute.collection.forEach(x=>{let S=x.trigger,k=x.requireLeadingSpace?this.lastIndexWithLeadingSpace(h,S):h.lastIndexOf(S);k>y&&(y=k,b=S,o=x.requireLeadingSpace)}),y>=0&&(y===0||!o||/[\xA0\s]/g.test(h.substring(y-1,y)))){let x=h.substring(y+b.length,h.length);b=h.substring(y,y+b.length);let S=x.substring(0,1),k=x.length>0&&(S===" "||S==="");n&&(x=x.trim());let A=i?/[^\S ]/g:/[\xA0\s]/g;if(this.tribute.hasTrailingSpace=A.test(x),!k&&(e||!A.test(x)))return{mentionPosition:y,mentionText:x,mentionSelectedElement:u,mentionSelectedPath:f,mentionSelectedOffset:m,mentionTriggerChar:b}}}}lastIndexWithLeadingSpace(e,n){let o=e.split("").reverse().join(""),i=-1;for(let l=0,c=e.length;l<c;l++){let u=l===e.length-1,f=/\s/.test(o[l+1]),m=!0;for(let h=n.length-1;h>=0;h--)if(n[h]!==o[l-h]){m=!1;break}if(m&&(u||f)){i=e.length-1-l;break}}return i}isContentEditable(e){return e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"}isMenuOffScreen(e,n){let o=window.innerWidth,i=window.innerHeight,l=document.documentElement,c=(window.pageXOffset||l.scrollLeft)-(l.clientLeft||0),u=(window.pageYOffset||l.scrollTop)-(l.clientTop||0),f=typeof e.top=="number"?e.top:u+i-e.bottom-n.height,m=typeof e.right=="number"?e.right:e.left+n.width,h=typeof e.bottom=="number"?e.bottom:e.top+n.height,v=typeof e.left=="number"?e.left:c+o-e.right-n.width;return{top:f<Math.floor(u),right:m>Math.ceil(c+o),bottom:h>Math.ceil(u+i),left:v<Math.floor(c)}}getMenuDimensions(){let e={width:null,height:null};return this.tribute.menu.style.cssText=`top: 0px;
                                 left: 0px;
                                 position: fixed;
                                 display: block;
                                 visibility; hidden;`,e.width=this.tribute.menu.offsetWidth,e.height=this.tribute.menu.offsetHeight,this.tribute.menu.style.cssText="display: none;",e}getTextAreaOrInputUnderlinePosition(e,n,o){let i=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],l=window.mozInnerScreenX!==null,c=this.getDocument().createElement("div");c.id="input-textarea-caret-position-mirror-div",this.getDocument().body.appendChild(c);let u=c.style,f=window.getComputedStyle?getComputedStyle(e):e.currentStyle;u.whiteSpace="pre-wrap",e.nodeName!=="INPUT"&&(u.wordWrap="break-word"),u.position="absolute",u.visibility="hidden",i.forEach(D=>{u[D]=f[D]}),l?(u.width=`${parseInt(f.width)-2}px`,e.scrollHeight>parseInt(f.height)&&(u.overflowY="scroll")):u.overflow="hidden",c.textContent=e.value.substring(0,n),e.nodeName==="INPUT"&&(c.textContent=c.textContent.replace(/\s/g,""));let m=this.getDocument().createElement("span");m.textContent=e.value.substring(n)||".",c.appendChild(m);let h=e.getBoundingClientRect(),v=document.documentElement,y=(window.pageXOffset||v.scrollLeft)-(v.clientLeft||0),b=(window.pageYOffset||v.scrollTop)-(v.clientTop||0),x=0,S=0;this.menuContainerIsBody&&(x=h.top,S=h.left);let k={top:x+b+m.offsetTop+parseInt(f.borderTopWidth)+parseInt(f.fontSize)-e.scrollTop,left:S+y+m.offsetLeft+parseInt(f.borderLeftWidth)},A=window.innerWidth,L=window.innerHeight,U=this.getMenuDimensions(),X=this.isMenuOffScreen(k,U);X.right&&(k.right=A-k.left,k.left="auto");let ee=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(X.bottom){let D=this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect(),j=ee-(L-D.top);k.bottom=j+(L-h.top-m.offsetTop),k.top="auto"}return X=this.isMenuOffScreen(k,U),X.left&&(k.left=A>U.width?y+A-U.width:y,delete k.right),X.top&&(k.top=L>U.height?b+L-U.height:b,delete k.bottom),this.getDocument().body.removeChild(c),k}getContentEditableCaretPosition(e){let n,o=this.getWindowSelection();n=this.getDocument().createRange(),n.setStart(o.anchorNode,e),n.setEnd(o.anchorNode,e),n.collapse(!1);let i=n.getBoundingClientRect(),l=document.documentElement,c=(window.pageXOffset||l.scrollLeft)-(l.clientLeft||0),u=(window.pageYOffset||l.scrollTop)-(l.clientTop||0),f=i.left,m=i.top,h={left:f+c,top:m+i.height+u},v=window.innerWidth,y=window.innerHeight,b=this.getMenuDimensions(),x=this.isMenuOffScreen(h,b);x.right&&(h.left="auto",h.right=v-i.left-c);let S=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(x.bottom){let k=this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect(),A=S-(y-k.top);h.top="auto",h.bottom=A+(y-i.top)}return x=this.isMenuOffScreen(h,b),x.left&&(h.left=v>b.width?c+v-b.width:c,delete h.right),x.top&&(h.top=y>b.height?u+y-b.height:u,delete h.bottom),this.menuContainerIsBody||(h.left=h.left?h.left-this.tribute.menuContainer.offsetLeft:h.left,h.top=h.top?h.top-this.tribute.menuContainer.offsetTop:h.top),h}scrollIntoView(e){let n=20,o,i=100,l=this.menu;if(typeof l>"u")return;for(;o===void 0||o.height===0;)if(o=l.getBoundingClientRect(),o.height===0&&(l=l.childNodes[0],l===void 0||!l.getBoundingClientRect))return;let c=o.top,u=c+o.height;if(c<0)window.scrollTo(0,window.pageYOffset+o.top-n);else if(u>window.innerHeight){let f=window.pageYOffset+o.top-n;f-window.pageYOffset>i&&(f=window.pageYOffset+i);let m=window.pageYOffset-(window.innerHeight-u);m>f&&(m=f),window.scrollTo(0,m)}}}class GO{constructor(e){this.tribute=e,this.tribute.search=this}simpleFilter(e,n){return n.filter(o=>this.test(e,o))}test(e,n){return this.match(e,n)!==null}match(e,n,o){o=o||{},n.length;let i=o.pre||"",l=o.post||"",c=o.caseSensitive&&n||n.toLowerCase();if(o.skip)return{rendered:n,score:0};e=o.caseSensitive&&e||e.toLowerCase();let u=this.traverse(c,e,0,0,[]);return u?{rendered:this.render(n,u.cache,i,l),score:u.score}:null}traverse(e,n,o,i,l){if(n.length===i)return{score:this.calculateScore(l),cache:l.slice()};if(e.length===o||n.length-i>e.length-o)return;let c=n[i],u=e.indexOf(c,o),f,m;for(;u>-1;){if(l.push(u),m=this.traverse(e,n,u+1,i+1,l),l.pop(),!m)return f;(!f||f.score<m.score)&&(f=m),u=e.indexOf(c,u+1)}return f}calculateScore(e){let n=0,o=1;return e.forEach((i,l)=>{l>0&&(e[l-1]+1===i?o+=o+1:o=1),n+=o}),n}render(e,n,o,i){var l=e.substring(0,n[0]);return n.forEach((c,u)=>{l+=o+e[c]+i+e.substring(c+1,n[u+1]?n[u+1]:e.length)}),l}filter(e,n,o){return o=o||{},n.reduce((i,l,c,u)=>{let f=l;o.extract&&(f=o.extract(l),f||(f=""));let m=this.match(e,f,o);return m!=null&&(i[i.length]={string:m.rendered,score:m.score,index:c,original:l}),i},[]).sort((i,l)=>{let c=l.score-i.score;return c||i.index-l.index})}}class ta{constructor({values:e=null,iframe:n=null,selectClass:o="highlight",containerClass:i="tribute-container",itemClass:l="",trigger:c="@",autocompleteMode:u=!1,selectTemplate:f=null,menuItemTemplate:m=null,lookup:h="key",fillAttr:v="value",collection:y=null,menuContainer:b=null,noMatchTemplate:x=null,requireLeadingSpace:S=!0,allowSpaces:k=!1,replaceTextSuffix:A=null,positionMenu:L=!0,spaceSelectsMatch:U=!1,searchOpts:X={},menuItemLimit:ee=null,menuShowMinLength:D=0}){if(this.autocompleteMode=u,this.menuSelected=0,this.current={},this.inputEvent=!1,this.isActive=!1,this.menuContainer=b,this.allowSpaces=k,this.replaceTextSuffix=A,this.positionMenu=L,this.hasTrailingSpace=!1,this.spaceSelectsMatch=U,this.autocompleteMode&&(c="",k=!1),e)this.collection=[{trigger:c,iframe:n,selectClass:o,containerClass:i,itemClass:l,selectTemplate:(f||ta.defaultSelectTemplate).bind(this),menuItemTemplate:(m||ta.defaultMenuItemTemplate).bind(this),noMatchTemplate:(j=>typeof j=="string"?j.trim()===""?null:j:typeof j=="function"?j.bind(this):x||function(){return"<li>No Match Found!</li>"}.bind(this))(x),lookup:h,fillAttr:v,values:e,requireLeadingSpace:S,searchOpts:X,menuItemLimit:ee,menuShowMinLength:D}];else if(y)this.autocompleteMode&&console.warn("Tribute in autocomplete mode does not work for collections"),this.collection=y.map(j=>({trigger:j.trigger||c,iframe:j.iframe||n,selectClass:j.selectClass||o,containerClass:j.containerClass||i,itemClass:j.itemClass||l,selectTemplate:(j.selectTemplate||ta.defaultSelectTemplate).bind(this),menuItemTemplate:(j.menuItemTemplate||ta.defaultMenuItemTemplate).bind(this),noMatchTemplate:(P=>typeof P=="string"?P.trim()===""?null:P:typeof P=="function"?P.bind(this):x||function(){return"<li>No Match Found!</li>"}.bind(this))(x),lookup:j.lookup||h,fillAttr:j.fillAttr||v,values:j.values,requireLeadingSpace:j.requireLeadingSpace,searchOpts:j.searchOpts||X,menuItemLimit:j.menuItemLimit||ee,menuShowMinLength:j.menuShowMinLength||D}));else throw new Error("[Tribute] No collection specified.");new KO(this),new fc(this),new QO(this),new GO(this)}get isActive(){return this._isActive}set isActive(e){if(this._isActive!=e&&(this._isActive=e,this.current.element)){let n=new CustomEvent(`tribute-active-${e}`);this.current.element.dispatchEvent(n)}}static defaultSelectTemplate(e){return typeof e>"u"?`${this.current.collection.trigger}${this.current.mentionText}`:this.range.isContentEditable(this.current.element)?'<span class="tribute-mention">'+(this.current.collection.trigger+e.original[this.current.collection.fillAttr])+"</span>":this.current.collection.trigger+e.original[this.current.collection.fillAttr]}static defaultMenuItemTemplate(e){return e.string}static inputTypes(){return["TEXTAREA","INPUT"]}triggers(){return this.collection.map(e=>e.trigger)}attach(e){if(!e)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if(typeof jQuery<"u"&&e instanceof jQuery&&(e=e.get()),e.constructor===NodeList||e.constructor===HTMLCollection||e.constructor===Array){let o=e.length;for(var n=0;n<o;++n)this._attach(e[n])}else this._attach(e)}_attach(e){e.hasAttribute("data-tribute")&&console.warn("Tribute was already bound to "+e.nodeName),this.ensureEditable(e),this.events.bind(e),e.setAttribute("data-tribute",!0)}ensureEditable(e){if(ta.inputTypes().indexOf(e.nodeName)===-1)if(e.contentEditable)e.contentEditable=!0;else throw new Error("[Tribute] Cannot bind to "+e.nodeName)}createMenu(e){let n=this.range.getDocument().createElement("div"),o=this.range.getDocument().createElement("ul");return n.className=e,n.appendChild(o),this.menuContainer?this.menuContainer.appendChild(n):this.range.getDocument().body.appendChild(n)}showMenuFor(e,n){if(this.isActive&&this.current.element===e&&this.current.mentionText===this.currentMentionTextSnapshot)return;this.currentMentionTextSnapshot=this.current.mentionText,this.menu||(this.menu=this.createMenu(this.current.collection.containerClass),e.tributeMenu=this.menu,this.menuEvents.bind(this.menu)),this.isActive=!0,this.menuSelected=0,this.current.mentionText||(this.current.mentionText="");const o=i=>{if(!this.isActive)return;let l=this.search.filter(this.current.mentionText,i,{pre:this.current.collection.searchOpts.pre||"<span>",post:this.current.collection.searchOpts.post||"</span>",skip:this.current.collection.searchOpts.skip,extract:f=>{if(typeof this.current.collection.lookup=="string")return f[this.current.collection.lookup];if(typeof this.current.collection.lookup=="function")return this.current.collection.lookup(f,this.current.mentionText);throw new Error("Invalid lookup attribute, lookup must be string or function.")}});this.current.collection.menuItemLimit&&(l=l.slice(0,this.current.collection.menuItemLimit)),this.current.filteredItems=l;let c=this.menu.querySelector("ul");if(this.range.positionMenuAtCaret(n),!l.length){let f=new CustomEvent("tribute-no-match",{detail:this.menu});this.current.element.dispatchEvent(f),typeof this.current.collection.noMatchTemplate=="function"&&!this.current.collection.noMatchTemplate()||!this.current.collection.noMatchTemplate?this.hideMenu():typeof this.current.collection.noMatchTemplate=="function"?c.innerHTML=this.current.collection.noMatchTemplate():c.innerHTML=this.current.collection.noMatchTemplate;return}c.innerHTML="";let u=this.range.getDocument().createDocumentFragment();l.forEach((f,m)=>{let h=this.range.getDocument().createElement("li");h.setAttribute("data-index",m),h.className=this.current.collection.itemClass,h.addEventListener("mousemove",v=>{let[y,b]=this._findLiTarget(v.target);v.movementY!==0&&this.events.setActiveLi(b)}),this.menuSelected===m&&h.classList.add(this.current.collection.selectClass),h.innerHTML=this.current.collection.menuItemTemplate(f),u.appendChild(h)}),c.appendChild(u)};typeof this.current.collection.values=="function"?this.current.collection.values(this.current.mentionText,o):o(this.current.collection.values)}_findLiTarget(e){if(!e)return[];const n=e.getAttribute("data-index");return n?[e,n]:this._findLiTarget(e.parentNode)}showMenuForCollection(e,n){e!==document.activeElement&&this.placeCaretAtEnd(e),this.current.collection=this.collection[n||0],this.current.externalTrigger=!0,this.current.element=e,e.isContentEditable?this.insertTextAtCursor(this.current.collection.trigger):this.insertAtCaret(e,this.current.collection.trigger),this.showMenuFor(e)}placeCaretAtEnd(e){if(e.focus(),typeof window.getSelection<"u"&&typeof document.createRange<"u"){var n=document.createRange();n.selectNodeContents(e),n.collapse(!1);var o=window.getSelection();o.removeAllRanges(),o.addRange(n)}else if(typeof document.body.createTextRange<"u"){var i=document.body.createTextRange();i.moveToElementText(e),i.collapse(!1),i.select()}}insertTextAtCursor(e){var n,o;n=window.getSelection(),o=n.getRangeAt(0),o.deleteContents();var i=document.createTextNode(e);o.insertNode(i),o.selectNodeContents(i),o.collapse(!1),n.removeAllRanges(),n.addRange(o)}insertAtCaret(e,n){var o=e.scrollTop,i=e.selectionStart,l=e.value.substring(0,i),c=e.value.substring(e.selectionEnd,e.value.length);e.value=l+n+c,i=i+n.length,e.selectionStart=i,e.selectionEnd=i,e.focus(),e.scrollTop=o}hideMenu(){this.menu&&(this.menu.style.cssText="display: none;",this.isActive=!1,this.menuSelected=0,this.current={})}selectItemAtIndex(e,n){if(e=parseInt(e),typeof e!="number"||isNaN(e))return;let o=this.current.filteredItems[e],i=this.current.collection.selectTemplate(o);i!==null&&this.replaceText(i,n,o)}replaceText(e,n,o){this.range.replaceTriggerText(e,!0,!0,n,o)}_append(e,n,o){if(typeof e.values=="function")throw new Error("Unable to append to values, as it is a function.");o?e.values=n:e.values=e.values.concat(n)}append(e,n,o){let i=parseInt(e);if(typeof i!="number")throw new Error("please provide an index for the collection to update.");let l=this.collection[i];this._append(l,n,o)}appendCurrent(e,n){if(this.isActive)this._append(this.current.collection,e,n);else throw new Error("No active state. Please use append instead and pass an index.")}detach(e){if(!e)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if(typeof jQuery<"u"&&e instanceof jQuery&&(e=e.get()),e.constructor===NodeList||e.constructor===HTMLCollection||e.constructor===Array){let o=e.length;for(var n=0;n<o;++n)this._detach(e[n])}else this._detach(e)}_detach(e){this.events.unbind(e),e.tributeMenu&&this.menuEvents.unbind(e.tributeMenu),setTimeout(()=>{e.removeAttribute("data-tribute"),this.isActive=!1,e.tributeMenu&&e.tributeMenu.remove()})}}const YO=window.React.memo,Rb=window.React.useCallback,ZO=window.React.useEffect,ec=window.React.useMemo,Ab="display",JO={selectClass:W.TRIBUTE_SELECTED,containerClass:W.TRIBUTE,lookup:Ab,menuShowMinLength:1,menuItemLimit:25,menuItemTemplate:t=>{const{itemType:e,display:n}=t.original;return`
        <span data-item-type="${e}"></span>
        <span class="${W.TRIBUTE_DETAILS}">${n}</span>
        `},noMatchTemplate:function(){return'<span style:"visibility: hidden;"></span>'},requireLeadingSpace:!0,selectTemplate:t=>t.original.value,searchOpts:{pre:"<span>",post:"</span>",skip:!0}},eR=(t,e="citekey",n="citekey")=>{const o=Rb(c=>c.data?c.data.filter(iv).sort((u,f)=>u.data.dateModified>f.data.dateModified?-1:1).map(u=>({key:u.key,itemType:u.data.itemType,source:"zotero",value:zd(u,e,{accent_class:W.TEXT_ACCENT_1})||u.key,display:zd(u,n,{accent_class:W.TEXT_ACCENT_1})||u.key})):[],[n,e]),i=ro(t,{select:o,notifyOnChangeProps:["data"]});return ec(()=>i.map(c=>c.data||[]).flat(1),[i])},tR=YO(function(){const[{dataRequests:e}]=cr(),[{trigger:n,display_char:o,display_use:i="preset",display:l="citekey",format_char:c,format_use:u="preset",format:f="citation"}]=vv(),m=ec(()=>i=="preset"?l:o,[l,o,i]),h=ec(()=>u=="preset"?f:c,[f,c,u]),v=eR(e,h,m)||[],y=ec(()=>({trigger:n,...JO,values:(x,S)=>{S(v.filter(k=>k[Ab].toLowerCase().includes(x.toLowerCase())))}}),[v,n]),b=Rb(()=>{const x=document.querySelector("textarea.rm-block-input");if(!x||x.getAttribute("zotero-tribute")!=null)return;document.querySelectorAll(`.${W.TRIBUTE}`).forEach(k=>k.remove()),x.setAttribute("zotero-tribute","active"),new ta(y).attach(x),x.addEventListener("tribute-replaced",k=>{if(k.detail.item.original.source=="zotero"){const L=k.detail.context.mentionTriggerChar+k.detail.context.mentionText,U=k.detail.context.mentionPosition,X=k.detail.item.original.value,ee=k.target.defaultValue,D=Bd(L),j=new RegExp(D,"g"),P=ee.replaceAll(j,(me,ge)=>ge==U?X:me);Object.getOwnPropertyDescriptor(window.HTMLTextAreaElement.prototype,"value").set.call(x,P);const fe=new Event("input",{bubbles:!0});x.dispatchEvent(fe)}})},[y]);return ZO(()=>{const x=new MutationObserver(b);return x.observe(document,{childList:!0,subtree:!0}),()=>{x.disconnect();try{document.querySelector(`.${W.TRIBUTE}`).remove()}catch{}}},[b]),null});const Ib=window.React.memo,Ao=window.React.useCallback,Ng=window.React.useEffect,tc=window.React.useMemo,hd=window.React.useState,nR=window.ReactDOM.createPortal,rR=window.Blueprint.Core.Classes,oR=window.Blueprint.Core.Menu,md=window.Blueprint.Core.MenuDivider,ts=window.Blueprint.Core.MenuItem,aR=window.Blueprint.Core.Overlay,iR=1e3,sR=t=>{const e=Ao(i=>{if(i.data){const l=ca(i.data);return l.items.map(c=>{const u=c.data.url,f=Ts(c.data.DOI),m=u?{href:u,title:u}:f?{href:"https://doi/org/"+f,title:f}:!1,h=c.library.type+"s/"+c.library.id,v=ua(c.data.key,h,{pdfs:l.pdfs,notes:l.notes});return["@"+c.key,{citation:zd(c,"inline")||"@"+c.key,data:{children:v,location:h,raw:c,weblink:m,zotero:{local:Es(c,{format:"target"}),web:Ss(c,{format:"target"})}}}]})}else return[]},[]),n=ro(t,{notifyOnChangeProps:["data"],select:e}),o=tc(()=>n.map(i=>i.data||[]).flat(1),[n]);return new Map(o)},lR=Ib(function(e){const{coords:n,isOpen:o,itemsMap:i,onClose:l,target:c}=e,[u]=ks(),[f]=_c(),[m]=si(),[h]=li(),[v,{on:y,off:b}]=Pt(!1),x=c?.parentElement?.dataset.linkTitle,S=c?.parentElement?.dataset.linkUid||!1,k=tc(()=>x?i.get(x).data:null,[x,i]),A=Ao(()=>{setTimeout(()=>{try{document.querySelector("body > .bp3-context-menu+.bp3-portal").style.display="none"}catch{}},100)},[]),L=Ao(()=>{if(k){const{pdfs:D=[],notes:j=[]}=k.children;kc({item:k.raw,pdfs:D,notes:j},S,f,h,m,u),l()}},[u,k,f,m,l,S,h]),U=Ao(()=>{b(),l()},[l,b]),X=tc(()=>{if(!k||k.children.pdfs.length==0)return null;{const D=k.location.startsWith("groups/")?k.location:"library";return d.jsxs(d.Fragment,{children:[d.jsx(md,{title:"PDF Attachments"}),k.children.pdfs.map((j,P)=>{const q=["linked_file","imported_file","imported_url"].includes(j.data.linkMode)?`zotero://open-pdf/${D}/items/${j.data.key}`:j.data.url;return d.jsx(ts,{className:"zr-context-menu--option",href:q,icon:"paperclip",rel:"noreferrer",target:"_blank",text:j.data.filename||j.data.title},P)})]})}},[k]),ee=tc(()=>!k||k.children.notes.length==0?null:d.jsxs(d.Fragment,{children:[d.jsx(md,{}),d.jsx(ts,{className:"zr-context-menu--option",icon:"comment",text:"Show notes",onClick:y,shouldDismissPopover:!1}),d.jsx(Nc,{isOpen:v,notes:k.children.notes,onClose:U})]}),[U,v,k,y]);return d.jsx(aR,{isOpen:o,hasBackdrop:!1,lazy:!1,onClose:l,onOpening:A,usePortal:!1,children:d.jsx("div",{className:["zr-context-menu--wrapper",rR.POPOVER].join(" "),style:n,children:d.jsxs(oR,{className:"zr-context-menu",children:[d.jsx(ts,{className:"zr-context-menu--option",icon:"add",text:"Import metadata",intent:"primary",onClick:L}),d.jsx(md,{}),k&&d.jsx(ts,{className:"zr-context-menu-option",icon:"application",text:"Open in Zotero",href:k.zotero.local}),k&&d.jsx(ts,{className:"zr-context-menu-option",icon:"cloud",text:"Open in Zotero (web)",href:k.zotero.web}),X,ee]})})})}),cR=Ib(function(){const{portalId:e}=Lc(),[{dataRequests:n}]=cr(),[{render_inline:o}]=bv(),[i,l]=hd(!1),[c,u]=hd({left:0,top:0}),[f,m]=hd(null),h=sR(n),v=Ao(S=>{S.preventDefault();const{pageX:k,pageY:A,target:L}=S;u({left:k,top:A}),m(L),l(!0)},[]),y=Ao(()=>{l(!1),m(null)},[]),b=Ao(()=>{const S=document.querySelectorAll("span[data-link-title^='@']");for(let k=0;k<S.length;k++){const A=S[k],L=A.getElementsByClassName("rm-page-ref")[0],U=A.getAttribute("data-link-title"),X=A.getAttribute("data-in-library"),ee=h.has(U).toString();if(!(X!=null&&X==ee)){if(A.setAttribute("data-in-library",ee),X==null&&ee=="false")continue;ee=="true"?(o==!0&&(L.textContent=h.get(U).citation),L.addEventListener("contextmenu",v)):(L.textContent=U,L.removeEventListener("contextmenu",v))}}},[h,o,v]),x=Ao(()=>{document.querySelectorAll("span[data-link-title^='@'][data-in-library]").forEach(k=>{k.removeAttribute("data-in-library");const A=k.getElementsByClassName("rm-page-ref")[0];A.textContent=k.getAttribute("data-link-title"),A.removeEventListener("contextmenu",v)})},[v]);return Ng(()=>{const S=setInterval(()=>{b()},iR);return function(){clearInterval(S),x()}},[b,x]),Ng(()=>{document.querySelectorAll("span[data-link-title^='@'][data-in-library]").forEach(k=>{const A=k.getElementsByClassName("rm-page-ref")[0],L=k.getAttribute("data-link-title"),U=k.getAttribute("data-in-library")=="true";A.textContent=U?h.get(L).citation:L})},[o,h]),nR(d.jsx(lR,{coords:c,isOpen:i,itemsMap:h,onClose:y,target:f}),document.getElementById(e))}),uR=cR;const dR=window.Blueprint.Core.Tag,cs=({action:t,text:e})=>d.jsx(dR,{className:"zr-shortcut-sequence",htmlTitle:"Press "+e+" to "+t,minimal:!0,children:e});function tf(t,e){const{authors:n,key:o,title:i,year:l}=t,{preset:c,template:u,useAsDefault:f}=e;switch(f){case"template":{let m=u;const h={authors:n,key:o,title:i,year:l};for(const v in h)m=m.replaceAll(`{{${v}}}`,`${h[v]}`);return m}case"preset":default:return fR(t,c)}}function fR(t,e){const n=t.key,o="[[@"+n+"]]";switch(!0){case e=="page-reference":return o;case e=="raw":return n;case e=="tag":return"#"+o;case e=="citation":return"["+t.authors+" ("+t.year+")]("+o+")";case e=="citekey":default:return"@"+n}}const pR=window.React.memo,us=window.React.useCallback,vn=window.React.useMemo,hR=window.Blueprint.Core.Classes,mR=window.Blueprint.Core.Menu,Lg=window.Blueprint.Core.MenuDivider,sr=window.Blueprint.Core.MenuItem,nf=window.Blueprint.Core.Tag,jb=window.Blueprint.Core.useHotkeys,gR={popoverClassName:W.POPOVER},rs=(t,e,n)=>{const o="[[@"+t+"]]";switch(e){case"page-reference":return o;case"tag":return"#"+o;case"citation":return"["+n.authors+" ("+n.year+")]("+o+")";case"citekey":default:return"@"+t}};function yR(t){const{citekey:e,format:n,item:o}=t,[i]=Ac(),l=vn(()=>Rc(i),[i]),c=vn(()=>rs(e,n,o),[e,n,o]),u=us(()=>Ro(c),[c]),f=vn(()=>{const m={citation:{action:"copy as citation",command:"copyCitation"},citekey:{action:"copy as citekey",command:"copyCitekey"},"page-reference":{action:"copy as page reference",command:"copyPageRef"},tag:{action:"copy as tag",command:"copyTag"}};if(m[n]){const{action:h,command:v}=m[n];if(l[v]!=="")return d.jsx(cs,{action:h,text:l[v]})}return null},[n,l]);return d.jsx(sr,{htmlTitle:c,labelElement:f,onClick:u,text:c})}function vR(t){const{citekey:e,item:n}=t,[o]=Rf(),[i]=Ac(),l=vn(()=>Rc(i),[i]),c=vn(()=>tf(n,o),[o,n]),u=us(()=>{Ro(c)},[c]),f=vn(()=>{let v=["citation","citekey","page-reference","tag"];return o.useAsDefault=="preset"&&(v=v.filter(y=>y!=o.preset)),d.jsxs(d.Fragment,{children:[d.jsx(sr,{htmlTitle:c,labelElement:d.jsx(nf,{intent:"success",minimal:!0,children:"Default"}),onClick:u,text:c}),v.map(y=>d.jsx(yR,{citekey:e,format:y,item:n},y))]})},[e,u,o,c,n]),m=vn(()=>{const v=l.copyDefault||"";return v!==""?d.jsx(cs,{action:"copy as default",text:v}):null},[l]),h=vn(()=>{const v={allowInInput:!1,global:!0,preventDefault:!0,stopPropagation:!0},y={copyDefault:{label:"Copy the item in view (default format)",onKeyDown:()=>u()},copyCitation:{label:"Copy the item in view (as citation)",onKeyDown:()=>Ro(rs(e,"citation",n))},copyCitekey:{label:"Copy the item in view (as citekey)",onKeyDown:()=>Ro(rs(e,"citekey",n))},copyPageRef:{label:"Copy the item in view (as page reference)",onKeyDown:()=>Ro(rs(e,"page-reference",n))},copyTag:{label:"Copy the item in view (as page reference)",onKeyDown:()=>Ro(rs(e,"tag",n))}};return Object.keys(y).map(b=>{const x=l[b]||"";return x!==""?{...v,...y[b],combo:x}:!1}).filter(Bt)},[e,u,n,l]);return jb(h,{showDialogKeyCombo:"shift+Z+R"}),d.jsx(sr,{icon:"clipboard",labelElement:m,multiline:!0,onClick:u,popoverProps:gR,text:"Copy reference",children:f})}const Ul=({direction:t="row",label:e,children:n})=>d.jsxs("div",{"zr-role":"metadata-"+t,children:[d.jsx("span",{className:W.TEXT_AUXILIARY,children:e}),d.jsx("div",{children:n})]}),Pb=pR(function({closeDialog:e,item:n}){const{abstract:o,authors:i,authorsFull:l,authorsRoles:c,children:u,createdByUser:f,inGraph:m,key:h,publication:v,raw:y,tags:b,title:x,weblink:S,year:k,zotero:A}=n,[L,{toggle:U,on:X,off:ee}]=Pt(!1),[D,{on:j,off:P}]=Pt(!1),[q]=ks(),[fe]=_c(),[me]=si(),[ge]=Ac(),ye=vn(()=>Rc(ge),[ge]),[Y]=li(),[,be]=Do(),se=us(async()=>{const{pdfs:G=[],notes:ue=[]}=u,ae=await kc({item:n.raw,pdfs:G,notes:ue},m,fe,Y,me,q);return ae.success&&be(),ae},[q,u,m,n.raw,fe,me,Y,be]),we=us(async()=>{const G=await Tv({item:n.raw,notes:u.notes},m,me,q);return G.success&&be(),G},[q,u.notes,m,n,me,be]),ze=us(()=>{m!=!1&&(qd(m),e())},[e,m]),Ke=vn(()=>{const G=ye.goToItemPage||"",ue=G!==""?d.jsx(cs,{action:"go to the item's page",text:G}):null;return m?d.jsx(sr,{icon:"arrow-right",labelElement:ue,onClick:ze,text:"Go to Roam page"}):null},[m,ze,ye]),Le=vn(()=>{const G=ye.importMetadata||"",ue=G!==""?d.jsx(cs,{action:"import the item's metadata",text:G}):null;return d.jsx(sr,{icon:"add",labelElement:ue,onClick:se,text:"Import metadata"})},[se,ye]),Je=vn(()=>{if(u.pdfs.length==0)return null;{const G=u.pdfs[0],ue=G.library.type=="group"?`groups/${G.library.id}`:"library";return u.pdfs.map(ae=>{const K=["linked_file","imported_file","imported_url"].includes(ae.data.linkMode)?`zotero://open-pdf/${ue}/items/${ae.data.key}`:ae.data.url;return d.jsx(sr,{href:K,icon:"paperclip",multiline:!0,rel:"noreferrer",target:"_blank",text:ae.data.filename||ae.data.title},ae.key)})}},[u.pdfs]),ft=vn(()=>{if(u.notes.length==0)return null;{const G=ye.toggleNotes||"",ue=G!==""?d.jsx(cs,{action:"toggle the notes panel",text:G}):null;return d.jsxs(d.Fragment,{children:[d.jsx(sr,{icon:"highlight",labelElement:ue,onClick:X,text:"Highlights & Notes"}),d.jsx(Nc,{isOpen:L,notes:u.notes,onClose:ee})]})}},[u.notes,ee,L,ye,X]),I=vn(()=>d.jsxs(d.Fragment,{children:[d.jsx(sr,{icon:"eye-open",onClick:j,text:"View raw metadata"}),d.jsx(Uf,{item:n.raw,isOpen:D,onClose:P})]}),[P,n.raw,D,j]),M=vn(()=>{const G={allowInInput:!1,global:!0,preventDefault:!0,stopPropagation:!0},ue={goToItemPage:{disabled:!m,label:"Go to the item's Roam page",onKeyDown:()=>ze()},importMetadata:{label:"Import the item's metadata to Roam",onKeyDown:()=>se()},toggleNotes:{disabled:u.notes.length==0,label:"Show the item's linked notes",onKeyDown:()=>U()}};return Object.keys(ue).map(ae=>{const K=ye[ae]||"";return K!==""?{...G,...ue[ae],combo:K}:!1}).filter(Bt)},[u.notes,se,m,ze,ye,U]);return jb(M,{showDialogKeyCombo:"shift+Z+R"}),d.jsx("div",{id:"zr-item-details",children:d.jsxs(Mn,{children:[d.jsxs("div",{"zr-role":"item-metadata",children:[d.jsxs("div",{"zr-role":"item-metadata--header",children:[d.jsx("h5",{children:x}),d.jsx("span",{className:W.TEXT_ACCENT_1,children:i+" ("+k+")"}),v?d.jsx("span",{className:W.TEXT_SECONDARY,children:v}):null,S?d.jsx("span",{"zr-role":"item-weblink",className:W.TEXT_SECONDARY,children:d.jsx("a",{href:S.href,rel:"noreferrer",target:"_blank",children:S.title})}):null]}),d.jsx(Ul,{direction:"col",label:"Abstract",children:d.jsx("p",{"zr-role":"item-abstract",className:[W.TEXT_SMALL,hR.RUNNING_TEXT].join(" "),children:o})}),d.jsxs("div",{"zr-role":"item-metadata--footer",children:[d.jsxs(Ul,{label:"Added",children:[d.jsx("span",{className:W.TEXT_SECONDARY,children:kf(y.data.dateAdded)}),f?d.jsxs("span",{children:["by ",d.jsx("b",{children:f})]}):null]}),l.length>0?d.jsx(Ul,{label:"Contributors",children:l.map((G,ue)=>d.jsxs(nf,{className:W.TEXT_SMALL,intent:"primary",minimal:!0,children:[G,c[ue]=="author"?"":" ("+c[ue]+")"]},ue))}):null,b.length>0?d.jsx(Ul,{label:"Tags",children:d.jsx("div",{children:b.map((G,ue)=>d.jsxs(nf,{className:W.TEXT_SMALL,minimal:!0,children:["#",G]},ue))})}):null]})]}),d.jsx("div",{"zr-role":"item-actions",children:d.jsxs(mR,{className:W.TEXT_SMALL,"data-in-graph":m.toString(),children:[navigator.clipboard&&d.jsx(vR,{citekey:h,item:n}),d.jsx(Lg,{className:W.DIVIDER_MINIMAL,title:"Actions"}),Ke,Le,u.notes.length>0&&d.jsx(sr,{icon:"chat",onClick:we,text:"Import notes"}),d.jsx(sr,{href:A.local,icon:"application",rel:"noreferrer",target:"_blank",text:"Open in Zotero"}),d.jsx(sr,{href:A.web,icon:"cloud",rel:"noreferrer",target:"_blank",text:"Open in Zotero (web)"}),I,d.jsx(Lg,{className:W.DIVIDER_MINIMAL,title:"Linked Content"}),Je,ft]})})]})})});const bR=window.React.useCallback,pc=window.React.useMemo,gd=window.Blueprint.Core.Classes,wR=window.Blueprint.Core.Checkbox,xR=window.Blueprint.Core.Tag;function CR({annotation:t}){const{color:e,comment:n,text:o,type:i}=pc(()=>Tc([t])[0],[t]),l=pc(()=>({backgroundImage:`linear-gradient(120deg, ${e}50 0%, ${e}50 100%)`}),[e]);return d.jsxs("div",{className:W.TEXT_SMALL,"zr-role":"note-contents",children:[o&&d.jsx("span",{title:o,className:[W.TEXT_AUXILIARY,gd.TEXT_OVERFLOW_ELLIPSIS].join(" "),style:l,children:o}),i=="image"&&d.jsx("code",{className:gd.CODE,children:"Images are currently not supported"}),n&&d.jsx("div",{title:n,className:[W.TEXT_SECONDARY,gd.TEXT_OVERFLOW_ELLIPSIS].join(" "),children:n})]})}function ER({note:t}){const e=pc(()=>lv([t]).join(" "),[t]);return d.jsx("div",{className:[W.TEXT_SMALL,W.TEXT_AUXILIARY].join(" "),"zr-role":"note-contents",children:d.jsx("p",{title:e,children:e})})}function SR({note:t,isSelected:e,isSingleChild:n,onToggle:o}){const i=bR(()=>o(t.data.key),[t.data.key,o]),l=pc(()=>Sc(t)?d.jsx(ER,{note:t}):d.jsx(CR,{annotation:t}),[t]);return d.jsxs(No,{className:"zr-notesimport-item","aria-label":t.data.key,onClick:i,children:[d.jsx("div",{className:"zr-notesimport-item--header",children:n?l:d.jsx(wR,{checked:e,className:"zr-notesimport-item--title",inline:!1,labelElement:l,onChange:i})}),d.jsx("div",{className:["zr-notesimport-item--contents",W.TEXT_SMALL].join(" "),children:d.jsx("div",{children:t.data.tags.map((c,u)=>d.jsx(xR,{minimal:!0,children:c.tag},u))})})]})}const TR=window.React.useCallback,Dg=window.React.useMemo,_R=window.Blueprint.Core.Checkbox,kR=window.Blueprint.Core.Classes,OR=window.Blueprint.Core.H6;function RR({date:t,itemSelectProps:e,notes:n,selectedKeys:o}){const{bulkCheck:i,bulkUncheck:l,toggleNoteSelection:c}=e,u=Dg(()=>n.every(v=>o.includes(v.data.key)),[n,o]),f=n.length==1,m=Dg(()=>n.sort((v,y)=>new Date(v.data.dateAdded)>new Date(y.data.dateAdded)?-1:1),[n]),h=TR(()=>{const v=n.map(y=>y.data.key);u?l(v):i(v)},[u,i,l,n]);return d.jsxs("li",{className:"zr-notesimport-daylist",children:[d.jsx(_R,{checked:u,className:"zr-notesimport-day",inline:!1,labelElement:d.jsx(OR,{children:t}),onChange:h}),d.jsx("div",{children:d.jsx("ul",{className:kR.LIST_UNSTYLED,children:m.map(v=>d.jsx(SR,{isSelected:o.includes(v.data.key),isSingleChild:f,note:v,onToggle:c},v.data.key))})})]})}const Mg=window.React.useCallback,rf=window.React.useMemo,Bg=window.Blueprint.Core.Button,AR=window.Blueprint.Core.Classes,IR=window.Blueprint.Core.Tag;function jR({notes:t,selectedKeys:e,selectProps:n}){const{setSelectedKeys:o,toggleNoteSelection:i}=n,l=rf(()=>{const u=t.sort((f,m)=>new Date(f.data.dateAdded)>new Date(m.data.dateAdded)?-1:1).reduce((f,m)=>{const h=new Date(m.data.dateAdded).toLocaleDateString("en-CA");return f[h]?f[h].push(m):f[h]=[m],f},{});return Object.keys(u).sort((f,m)=>new Date(f)>new Date(m)?-1:1).map(f=>({date:Ar(f,{brackets:!1}),notes:u[f]}))},[t]),c=rf(()=>({bulkCheck:u=>{const f=u.filter(m=>!e.includes(m));o([...e,...f])},bulkUncheck:u=>{o(e.filter(f=>!u.includes(f)))},toggleNoteSelection:i}),[e,o,i]);return d.jsx(Lo,{children:l.map(u=>d.jsx(RR,{date:u.date,notes:u.notes,itemSelectProps:c,selectedKeys:e},u.date))})}function PR({closeDialog:t,item:e,notes:n,pageUID:o}){const[i]=ks(),[l]=si(),[c,{set:u,toggle:f}]=hs({start:n.map(y=>y.data.key)}),m=Mg(()=>{c.length==0?u(n.map(y=>y.data.key)):u([])},[n,c,u]),h=Mg(async()=>{const y=n.filter(b=>c.includes(b.data.key));try{await Tv({item:e,notes:y},o,l,i),t()}catch{}},[i,t,e,n,l,o,c]),v=rf(()=>({setSelectedKeys:u,toggleNoteSelection:f}),[u,f]);return d.jsx("div",{className:AR.DIALOG_BODY,children:d.jsxs(Mn,{children:[d.jsxs(eo,{children:[d.jsx(Bg,{className:[W.TEXT_SMALL,W.TEXT_SECONDARY].join(" "),minimal:!0,onClick:m,children:c.length==0?"Select all":"Unselect all"}),d.jsx(Bg,{active:!0,disabled:c.length==0,intent:"success",minimal:!0,onClick:h,rightIcon:d.jsx(IR,{intent:"success",children:c.length}),text:"Import notes"})]}),d.jsx("div",{className:"zr-notesimport--datalist",children:d.jsx(jR,{notes:n,selectedKeys:c,selectProps:v})})]})})}const NR=window.React.useCallback,LR=window.React.useMemo,DR=window.Blueprint.Core.Button,MR=window.Blueprint.Core.Icon,BR=window.Blueprint.Core.Menu,zR=window.Blueprint.Core.MenuItem,$R=window.Blueprint.Core.Tag,FR=window.Blueprint.Select.Select,UR={canEscapeKeyClose:!1,minimal:!0,placement:"bottom-start",popoverClassName:W.POPOVER},qR={itemRenderer:(t,e)=>{const{handleClick:n}=e;return d.jsx(zR,{className:W.TEXT_SECONDARY,htmlTitle:t.label,labelElement:t.active?d.jsx(MR,{icon:"small-tick"}):null,onClick:n,"aria-selected":t.active,text:t.label},t.value)},itemListRenderer:({items:t,itemsParentRef:e,renderItem:n})=>{const o=t.map(n).filter(i=>i!=null);return d.jsx(BR,{ulRef:e,children:o})}};function HR({options:t,toggleFilter:e}){const n=LR(()=>t.filter(i=>i.active).length,[t]),o=NR(i=>e(i.value),[e]);return d.jsx(FR,{className:W.TEXT_SMALL,filterable:!1,items:t,matchTargetWidth:!1,onItemSelect:o,popoverProps:UR,...qR,children:d.jsx(DR,{className:W.TEXT_SECONDARY,minimal:!0,outlined:!0,rightIcon:n>0?d.jsx($R,{minimal:!0,children:n}):"caret-down",text:"Filter"})})}const VR=window.React.useMemo,XR=window.Blueprint.Core.H6,WR=window.Blueprint.Core.Icon;function QR({children:t}){return d.jsx(XR,{children:t})}function Nb({href:t,text:e}){return d.jsx("a",{href:t,rel:"noreferrer",target:"_blank",children:e})}const KR=d.jsxs(d.Fragment,{children:[d.jsxs("p",{children:["Metadata is obtained through the ",d.jsx(Nb,{href:"https://en.wikipedia.org/api/rest_v1/#/Citation/getCitation",text:"Wikimedia API"}),". It should give the same results as the Zotero Connector (note : PDFs are currently not added automatically)."]}),d.jsx("p",{children:"If the API was unable to retrieve metadata for a given URL, the item will not appear below."})]}),GR=d.jsxs(d.Fragment,{children:[d.jsxs("p",{children:["References, citations, and their metadata are obtained through the ",d.jsx(Nb,{href:"https://api.semanticscholar.org/corpus",text:"Semantic Scholar API"}),"."]}),d.jsx("p",{children:"Note that the API does not guarantee the identification of all papers, and that the metadata available is limited (for example, abstracts are currently not available)."})]});function Lb({content:t,header:e=""}){const n=VR(()=>d.jsxs(d.Fragment,{children:[e&&d.jsx(QR,{children:e}),t]}),[t,e]);return d.jsx(ci,{className:"zr-guide-popover--target",content:n,interactionKind:"hover-target",popoverClassName:[W.POPOVER,"zr-guide-popover"].join(" "),children:d.jsx(WR,{icon:"help",size:14,tabIndex:-1})})}const YR=()=>d.jsx(Lb,{header:"About this data",content:KR}),ZR=()=>d.jsx(Lb,{header:"About this data",content:GR});var lr=(t=>(t.ADDED_ON="added_on",t.WITH_ABSTRACT="with_abstract",t.WITH_TAG="with_tag",t))(lr||{}),Gr=(t=>(t.CITATIONS="is_citation",t.REFERENCES="is_reference",t))(Gr||{});const JR=window.React.memo,eA=window.React.useCallback,yd=window.React.useMemo,tA=window.Blueprint.Core.Button,ql=window.Blueprint.Core.Classes,nA=window.Blueprint.Core.Icon,rA=window.Blueprint.Core.Tag,oA=JR(function(e){const{handleRemove:n,handleSelect:o,inGraph:i,isSelected:l,item:c,type:u}=e,{inLibrary:f}=c,m=eA(()=>{l?n(c):o(c)},[l,c,n,o]),h=yd(()=>{if(f){const{children:{pdfs:b,notes:x},raw:S}=f;return d.jsx(Is,{inGraph:i,item:S,notes:x,pdfs:b})}else return d.jsxs(d.Fragment,{children:[c.url?d.jsx("a",{"zr-role":"item-url",href:c.url,target:"_blank",rel:"noreferrer",className:W.TEXT_SMALL,children:c.doi||"Semantic Scholar"}):null,c.doi?d.jsx(tA,{text:l?"Remove":"Add to Zotero",active:l,className:W.TEXT_SMALL,icon:l?"small-cross":"small-plus",intent:"primary",minimal:!0,onClick:m,small:!0}):null]})},[m,i,f,l,c.doi,c.url]),v=yd(()=>d.jsx("div",{className:"zr-related-item--intents",children:c.intent.length>0?c.intent.map(b=>{const x=b.charAt(0).toUpperCase()+b.slice(1);return d.jsx(rA,{"data-semantic-intent":b,htmlTitle:"This citation was classified as related to "+x+" by Semantic Scholar",minimal:!0,children:x},b)}):null}),[c.intent]),y=yd(()=>d.jsx("div",{className:"zr-related-item--links",children:Object.keys(c.links).map(b=>d.jsx("span",{"data-service":b,children:d.jsx("a",{href:c.links[b],className:[W.TEXT_SMALL,W.TEXT_AUXILIARY].join(" "),target:"_blank",rel:"noreferrer",children:b.split("-").map(x=>x.charAt(0).toUpperCase()+x.slice(1)).join(" ")})},b))}),[c.links]);return d.jsx("li",{className:"zr-related-item","data-semantic-type":u,"data-in-library":f!=!1,"data-in-graph":i!=!1,children:d.jsxs("div",{className:ql.MENU_ITEM,children:[d.jsx("span",{className:[ql.MENU_ITEM_LABEL,W.TEXT_SMALL,"zr-related-item--timestamp"].join(" "),children:c.year}),d.jsxs("div",{className:[ql.FILL,"zr-related-item-contents"].join(" "),children:[d.jsxs("div",{className:ql.FILL,style:{display:"flex"},children:[d.jsxs("div",{className:"zr-related-item-contents--metadata",children:[c.authors&&d.jsx("span",{className:u==Gr.REFERENCES?W.TEXT_ACCENT_1:W.TEXT_ACCENT_2,children:c.authors}),c.meta&&d.jsx("span",{className:W.TEXT_SECONDARY,children:c.meta}),c.isInfluential?d.jsx(nA,{className:"zr-related-item--decorating-icon",color:"#f8c63a",htmlTitle:"This item was classified as influential by Semantic Scholar",icon:"trending-up"}):null,d.jsx("span",{className:"zr-related-item--title",children:c.title}),y]}),d.jsx("span",{className:"zr-related-item-contents--actions",children:h})]}),v]})]})})}),aA=oA,iA=window.React.memo,sA=window.React.useCallback,zg=window.React.useMemo,lA=window.Blueprint.Core.InputGroup,cA=window.Blueprint.Core.NonIdealState,$g=30,uA=[{active:!1,label:"In Library",value:"library"},{active:!1,label:"Highly Influential",value:"influential"},{active:!1,label:"Has DOI",value:"doi"}];function dA(t,e){let n=[...t];return e.filter(i=>i.active==!0).forEach(i=>{switch(i.value){case"library":n=n.filter(rv);break;case"influential":n=n.filter(l=>l.isInfluential);break;case"doi":n=n.filter(l=>l.doi);break;default:window.zoteroRoam?.warn?.({origin:"Interface",message:`Filter not recognized: ${i.value}`,context:{...i}})}}),n}function fA(t,e){return e.filter(n=>Ln(t,n._multiField,{any_case:!0,match:"partial",search_compounds:!0,word_order:"loose"}))}function pA({item:t,selectProps:e,type:n}){const{handleRemove:o,handleSelect:i,items:l}=e,c=l.findIndex(u=>u.doi==t.doi||u.url==t.url)>=0;return d.jsx(aA,{handleRemove:o,handleSelect:i,inGraph:t.inGraph,isSelected:c,item:t,type:n})}const hA=iA(function(e){const{items:n,selectProps:o,type:i}=e,{currentPage:l,pageLimits:c,setCurrentPage:u}=_s({itemsPerPage:$g}),[f,m]=yv(""),[h,v]=tE(uA),y=sA(S=>{v(S),u(1)},[u,v]),b=zg(()=>dA(n,h),[h,n]),x=zg(()=>f?fA(f,b):b,[b,f]);return d.jsxs("div",{className:"rendered-div",children:[d.jsxs(eo,{children:[d.jsx(HR,{options:h,toggleFilter:y}),d.jsx(lA,{"aria-label":"Search by title, authors (last names), or year",autoComplete:"off",id:"semantic-search--"+i,leftIcon:"search",onChange:m,placeholder:"Search items",spellCheck:"false",title:"Search by title, authors (last names), or year",value:f})]}),d.jsx("div",{className:"zr-semantic--datalist",children:x.length==0?d.jsx(cA,{className:W.TEXT_AUXILIARY,description:"No results found"}):d.jsx(Lo,{children:x.slice(...c).map(S=>d.jsx(pA,{item:S,selectProps:o,type:i},[S.doi,S.url,S.title].filter(Bt).join("-")))})}),d.jsxs(eo,{children:[d.jsx(Os,{arrows:"first",currentPage:l,itemsPerPage:$g,nbItems:x.length,setCurrentPage:u}),d.jsx(ZR,{})]})]})}),Fg=hA,Db=window.React.memo,mA=window.React.useCallback,gA=window.Blueprint.Core.Checkbox,yA=window.Blueprint.Core.Spinner,vA=Db(function(e){const{collection:n,isChecked:o,onSelect:i}=e,{data:{name:l},depth:c,key:u}=n,f=mA(()=>{i(u)},[u,i]);return d.jsx(gA,{checked:o,className:[W.TEXT_SMALL,`depth-${c}`].join(" "),inline:!1,label:l,onChange:f})}),bA=Db(function(e){const{collections:n,onSelect:o,selectedCollections:i}=e;return n.length==0?d.jsx(yA,{size:12}):d.jsx("div",{className:"options-collections-list",children:n.map(l=>d.jsx(vA,{collection:l,isChecked:i.includes(l.key),onSelect:o},l.key))})}),wA=bA,xA=window.React.memo,CA=window.React.useMemo,EA=window.Blueprint.Core.RadioGroup,SA=xA(function({libraries:e,selectedLib:n,onSelect:o}){const i=CA(()=>e.map(l=>({value:l.path})),[e]);return d.jsx(EA,{className:W.TEXT_SMALL,inline:!1,name:"import-library",onChange:o,options:i,selectedValue:n.path})}),TA=SA;const Kf=window.React.memo,Mb=window.React.useCallback,of=window.React.useMemo,Bb=window.Blueprint.Core.Button,_A=window.Blueprint.Core.ButtonGroup,Ug=window.Blueprint.Core.Intent,kA=window.Blueprint.Core.Spinner,OA=Kf(function(e){const{identifiers:n,importProps:o,isActive:i,resetImport:l}=e,c=db(n,{enabled:i&&n.length>0,select:b=>b.item}),u=c.every(b=>b.data),f=c.map(b=>b.data).filter(Bt),{mutate:m,status:h}=M1(),v=Mb(()=>{const{collections:b,library:x,tags:S}=o;m({collections:b,items:f,library:x,tags:S},{onSuccess:()=>l()})},[f,o,m,l]),y=of(()=>h=="loading"?{disabled:!0,text:"Loading...",title:"Importing items..."}:h=="error"?{disabled:!0,intent:Ug.DANGER,rightIcon:"error",text:"Error",title:"Error while importing items"}:{disabled:!i,intent:Ug.PRIMARY,loading:!u,rightIcon:"chevron-right",text:"Send to Zotero",title:u?"Import items to Zotero":"Loading items data..."},[i,u,h]);return d.jsx(Bb,{className:[W.TEXT_SMALL,"zr-import--trigger"].join(" "),minimal:!0,onClick:v,...y})}),RA=Kf(function(e){const{collections:n,identifiers:o,isActive:i,libraries:l,resetImport:c}=e,[u,f]=dE({start:l[0],transform:L=>l.find(U=>U.path==L)}),[m,{set:h,toggle:v}]=hs({start:[]}),[y,{add:b,remove:x}]=hs({start:[]}),S=Mb(L=>{f(L),h([])},[f,h]),k=of(()=>{const L=n.filter(U=>{const{id:X,type:ee}=U.library;return ee+"s/"+X==u.path});return IC(L)},[n,u]),A=of(()=>({collections:m,library:u,tags:y}),[m,u,y]);return d.jsxs(Mn,{children:[d.jsx("div",{className:"import-header",children:d.jsxs(_A,{fill:!0,minimal:!0,children:[d.jsx(Bb,{className:[W.TEXT_SMALL,"zr-import--cancel"].join(" "),icon:"chevron-left",intent:"warning",minimal:!0,onClick:c,children:"Cancel"}),d.jsx(OA,{identifiers:o,importProps:A,isActive:i,resetImport:c})]})}),d.jsxs("div",{className:"import-options",children:[d.jsx("div",{className:"options-library-list",children:d.jsx(TA,{libraries:l,selectedLib:u,onSelect:S})}),d.jsx(wA,{collections:k,onSelect:v,selectedCollections:m}),d.jsx(_v,{onRemove:x,onSelect:b,selectedTags:y})]})]})}),zb=Kf(function(e){const{identifiers:n,isActive:o,resetImport:i}=e,[{libraries:l}]=cr(),{data:c,isLoading:u}=mb(l),m=fb(l,{enabled:c.length>0,notifyOnChangeProps:["data"],select:h=>h.data}).map(h=>h?.data||[]).flat(1);return u?d.jsx(kA,{}):c.length==0?d.jsx(gv,{}):d.jsx(RA,{collections:m,identifiers:n,isActive:o,libraries:c,resetImport:i})}),$b=window.React.memo,AA=window.React.useCallback,IA=window.React.useMemo,jA=window.Blueprint.Core.Button,Fb=window.Blueprint.Core.Classes,PA=$b(function(e){const{handleRemove:n,item:o}=e,i=AA(()=>{n(o)},[n,o]);return d.jsxs("li",{className:["import-items_selected",W.TEXT_SMALL].join(" "),children:[d.jsxs("div",{className:"selected_info",children:[d.jsx("span",{className:[Fb.TEXT_MUTED,"selected_title"].join(" "),children:o.title}),d.jsx("span",{className:[W.TEXT_SECONDARY,"selected_origin"].join(" "),children:o.meta})]}),d.jsx("div",{className:"selected_state",children:d.jsx(jA,{className:"selected_remove-button",icon:"cross",intent:"danger",minimal:!0,onClick:i,title:"Remove item from import"})})]})}),NA=$b(function({selectProps:e}){const{handleRemove:n,items:o,resetImport:i}=e,l=o.length>0,c=IA(()=>o.map(u=>u.doi?"https://doi.org/"+u.doi:u.url),[o]);return d.jsxs("div",{className:"zr-semantic-panel--side",tabIndex:0,children:[d.jsx(zb,{identifiers:c,isActive:l,resetImport:i}),d.jsx("ul",{className:[Fb.LIST_UNSTYLED,"import-items"].join(" "),children:e.items.map(u=>d.jsx(PA,{handleRemove:n,item:u},[u.doi,u.url].join("-")))})]})}),LA=NA;const Ub=window.React.memo,qb=window.React.useCallback,DA=window.React.useEffect,os=window.React.useMemo,MA=window.React.useState,BA=window.Blueprint.Core.Button,zA=window.Blueprint.Core.Classes,qg=window.Blueprint.Core.Icon,Hg=window.Blueprint.Core.Tab,Vg=window.Blueprint.Core.Tabs,Hb="zr-semantic-panel-label",$A=Ub(function(e){const{defaultTab:n,items:o,onClose:i,selectProps:l,title:c}=e,[u,f]=MA(n);DA(()=>{f(n)},[n]);const m=qb((x,S,k)=>f(x),[]),h=os(()=>Fd(o.references,"year"),[o.references]),v=os(()=>Fd(o.citations,"year"),[o.citations]),y=os(()=>d.jsxs(d.Fragment,{children:[d.jsx(qg,{icon:"citation"}),d.jsx("span",{children:fn(h.length,"reference")})]}),[h.length]),b=os(()=>d.jsxs(d.Fragment,{children:[d.jsx(qg,{icon:"chat"}),d.jsx("span",{children:fn(v.length,"citing paper")})]}),[v.length]);return d.jsxs(Vg,{id:"zr-semantic-panel",className:W.TABS,selectedTabId:u,onChange:m,animate:!1,children:[d.jsx(Hg,{id:Gr.REFERENCES,panel:d.jsx(Fg,{items:h,selectProps:l,type:Gr.REFERENCES}),disabled:h.length==0,title:y}),d.jsx(Hg,{id:Gr.CITATIONS,panel:d.jsx(Fg,{items:v,selectProps:l,type:Gr.CITATIONS}),disabled:v.length==0,title:b}),d.jsx(Vg.Expander,{}),d.jsx("span",{className:W.TEXT_AUXILIARY,id:Hb,title:"Works related to "+c,children:c}),d.jsx(BA,{icon:"cross",minimal:!0,large:!0,onClick:i,title:"Close dialog"})]})}),FA=Ub(function(e){const{isOpen:n,items:o,onClose:i,show:l}=e,[c,{set:u,add:f,remove:m}]=hs({start:[],identify:(b,x)=>b.doi==x.doi&&b.url==x.url}),h=c.length>0,v=os(()=>({handleRemove:m,handleSelect:f,items:c,resetImport:()=>u([])}),[f,c,m,u]),y=qb(()=>{u([]),i()},[i,u]);return d.jsx(la,{ariaLabelledBy:Hb,className:"citations",extraClasses:h?["has-selected-items"]:[],isOpen:n,onClose:y,children:d.jsx("div",{className:zA.DIALOG_BODY,children:d.jsxs(Mn,{children:[d.jsx("div",{className:"zr-semantic-panel--main",children:d.jsx($A,{defaultTab:l.type,items:o,onClose:y,selectProps:v,title:l.title})}),d.jsx(LA,{selectProps:v})]})})})}),UA=FA,qA=["citekey","dnp","tag"],Gf="zr-page-menu--",Ya=qA.reduce((t,e)=>(t[e]=Gf+e,t),{}),HA=["references","citations","backlinks"],VA="zr-page-menu-show--",vd=HA.reduce((t,e)=>(t[e]=VA+e,t),{}),hc="zr-webimport-div",Vb=window.React.memo,af=window.React.useCallback,Kn=window.React.useMemo,XA=window.React.useState,Za=window.Blueprint.Core.Button,Xb=window.Blueprint.Core.ButtonGroup,WA=window.Blueprint.Core.Card,Xg=window.Blueprint.Core.Classes,QA=window.Blueprint.Core.Collapse,KA=window.Blueprint.Core.Tag;function Wg({entry:t}){const{_type:e,inLibrary:n,inGraph:o}=t,{children:{pdfs:i,notes:l},raw:c}=n,{key:u,data:f,meta:m}=c,h=m.parsedDate?new Date(m.parsedDate).getUTCFullYear():"",v=e=="cited"?"reference":"citation",y=Kn(()=>d.jsx(Is,{inGraph:o,item:c,notes:l,pdfs:i}),[o,c,l,i]);return d.jsxs("li",{className:"zr-backlink-item","data-backlink-type":v,"data-in-graph":(o!=!1).toString(),"data-item-year":h,"data-key":"@"+u,children:[d.jsx("div",{className:"zr-backlink-item--year",children:h}),d.jsxs("div",{className:"zr-backlink-item--info","data-item-type":f.itemType,children:[d.jsx("span",{"zr-role":"item-authors",className:v=="reference"?W.TEXT_ACCENT_1:W.TEXT_ACCENT_2,children:m.creatorSummary||""}),d.jsx("span",{"zr-role":"item-publication",className:W.TEXT_SECONDARY,children:f.publicationTitle||f.bookTitle||f.university||""}),d.jsx("span",{"zr-role":"item-title",children:f.title})]}),d.jsx("div",{className:"zr-backlink-item--state",children:y})]})}const GA=Vb(function(e){const{isOpen:n,items:o=[],origin:i}=e;if(o.length==0)return null;{const c=[...o].sort((h,v)=>CC(h.inLibrary.raw,v.inLibrary.raw)),u=c.filter(h=>h._type=="cited"),f=c.filter(h=>h._type=="citing"),m=d.jsx(KA,{className:"zr-backlinks-divider--tag",fill:!0,minimal:!0,multiline:!0,children:i});return d.jsx(QA,{isOpen:n,keepChildrenMounted:!0,children:d.jsxs("div",{className:"zr-citekey-menu--backlinks",children:[u.length>0?d.jsx("ul",{className:Xg.LIST_UNSTYLED,"zr-role":"sublist","list-type":"references",children:u.map(h=>d.jsx(Wg,{entry:h},`${h.doi}`))}):null,u.length>0&&f.length>0?m:null,f.length>0?d.jsx("ul",{className:Xg.LIST_UNSTYLED,"zr-role":"sublist","list-type":"citations",children:f.map(h=>d.jsx(Wg,{entry:h},`${h.doi}`))}):null]})})}});function YA(t){const{doi:e,itemList:n,origin:o,title:i}=t,[l]=Do(),{isLoading:c,isError:u,data:f,error:m}=Zk(e),[h,{toggle:v}]=Pt(!1),[y,{on:b,off:x}]=Pt(!1),[S,k]=XA({title:i,type:Gr.REFERENCES}),A=af(()=>{k({title:i,type:Gr.REFERENCES}),b()},[i,b]),L=af(()=>{k({title:i,type:Gr.CITATIONS}),b()},[i,b]),U=(f||{}).references?.length||0,X=(f||{}).citations?.length||0,ee=Kn(()=>{if(f){const{citations:j,references:P}=f;return wC(n,{citations:j,references:P},l)}else return{backlinks:[],citations:[],references:[]}},[f,n,l]),D=Kn(()=>ee.backlinks.length==0?{"aria-disabled":!0,disabled:!0,icon:null,text:"No related library items"}:{icon:h?"caret-down":"caret-right",text:fn(ee.backlinks.length,"related library item")},[ee.backlinks.length,h]);return d.jsx("div",{className:"zotero-roam-page-menu-citations",children:u?d.jsx(ky,{error:m}):d.jsxs(d.Fragment,{children:[d.jsxs(Xb,{minimal:!0,fill:!0,role:"menubar",children:[d.jsx(Za,{"aria-disabled":U==0,disabled:U==0,className:vd.references,loading:c,minimal:!0,onClick:A,icon:"citation",intent:"primary",role:"menuitem","aria-haspopup":"dialog",title:"Show references",children:fn(U,"reference")}),d.jsx(Za,{"aria-disabled":X==0,disabled:X==0,className:vd.citations,loading:c,minimal:!0,onClick:L,icon:"chat",intent:"warning",role:"menuitem","aria-haspopup":"dialog",title:"Show citations",children:fn(X,"citation")}),d.jsx(Za,{className:vd.backlinks,loading:c,minimal:!0,onClick:v,...D,role:"menuitem",title:"Show backlinks"})]}),U+X>0?d.jsx(UA,{isOpen:y,items:ee,onClose:x,show:S}):null,d.jsx(GA,{isOpen:h,items:ee.backlinks,origin:o})]})})}function ZA({item:t}){const[e,{on:n,off:o}]=Pt(!1);return d.jsxs(d.Fragment,{children:[d.jsx(Za,{icon:"info-sign",onClick:n,role:"menuitem","aria-haspopup":"dialog",children:"View item information"}),d.jsx(la,{className:"view-item-information",isOpen:e,onClose:o,children:d.jsx(Pb,{closeDialog:o,item:t})})]})}function JA({item:t,notes:e,pageUID:n}){const[o,{on:i,off:l}]=Pt(!1);return d.jsxs(d.Fragment,{children:[d.jsx(Za,{icon:"comment",onClick:i,role:"menuitem","aria-haspopup":"dialog",children:"Import notes"}),d.jsx(la,{className:"import-item-notes",isOpen:o,label:"Import notes",onClose:l,children:d.jsx(PR,{closeDialog:l,item:t,notes:e,pageUID:n})})]})}const eI=Vb(function({item:e,itemList:n}){const[o]=ks(),[i]=_c(),[l]=si(),[{defaults:c}]=Oc(),[u]=oS(),[f]=li(),[m]=Do(),h=Ts(e.data.DOI),v=Af("@"+e.key),y=Kn(()=>{const D=e.data.key,j=e.library.type+"s/"+e.library.id,{pdfs:P,notes:q}=n;return ua(D,j,{pdfs:P,notes:q})},[n,e]),b=Kn(()=>h?d.jsx("span",{className:"zr-citekey-doi","data-doi":h,children:d.jsx("a",{href:"https://doi.org/"+h,target:"_blank",rel:"noreferrer",children:h})}):null,[h]),x=af(async()=>{const{pdfs:D,notes:j}=y;return await kc({item:e,pdfs:D,notes:j},v,i,f,l,o)},[o,y,e,i,l,v,f]),S=Kn(()=>y.pdfs.length==0||!c.includes("pdfLinks")?null:y.pdfs.map(D=>d.jsx(Or,{"zr-role":"pdf-link",alignText:"left",href:_f(D,"href"),icon:"paperclip",intent:"none",minimal:!0,role:"menuitem",text:D.data.filename||D.data.title},D.key)),[c,y.pdfs]),k=Kn(()=>y.notes.length==0||!c.includes("importNotes")?null:d.jsx(JA,{item:e,notes:y.notes,pageUID:v}),[c,y.notes,e,v]),A=Kn(()=>d.jsxs(d.Fragment,{children:[c.includes("openZoteroLocal")?d.jsx(Or,{icon:"application",intent:"none",text:"Open in Zotero",href:Es(e,{format:"target"}),role:"menuitem"}):null,c.includes("openZoteroWeb")?d.jsx(Or,{icon:"cloud",intent:"none",text:"Open in Zotero [Web library]",href:Ss(e,{format:"target"}),role:"menuitem"}):null]}),[c,e]),L=Kn(()=>h&&c.includes("sciteBadge")?d.jsx(rS,{doi:h,...u}):null,[c,h,u]),U=Kn(()=>{const D=c.includes("connectedPapers")?d.jsx(Or,{icon:"layout",intent:"primary",text:"Connected Papers",href:"https://www.connectedpapers.com/"+(h?"api/redirect/doi/"+h:"search?q="+encodeURIComponent(e.data.title)),role:"menuitem"}):null,j=h&&c.includes("semanticScholar")?d.jsx(Or,{icon:"bookmark",intent:"primary",text:"Semantic Scholar",href:"https://api.semanticscholar.org/"+h,role:"menuitem"}):null,P=c.includes("googleScholar")?d.jsx(Or,{icon:"learning",intent:"primary",text:"Google Scholar",href:"https://scholar.google.com/scholar?q="+(h||encodeURIComponent(e.data.title)),role:"menuitem"}):null;return d.jsxs(d.Fragment,{children:[D,j,P]})},[c,h,e.data.title]),X=Kn(()=>h&&c.includes("citingPapers")?d.jsx(YA,{doi:h,itemList:n,origin:e.meta.parsedDate?new Date(e.meta.parsedDate).getUTCFullYear().toString():"",title:"@"+e.key}):null,[c,h,e.key,e.meta.parsedDate,n]),ee=Kn(()=>Ef(e,y.pdfs,y.notes,m),[y,e,m]);return d.jsxs(Mn,{children:[b,d.jsxs(WA,{elevation:0,className:"zr-citekey-menu",children:[d.jsxs("div",{className:"zr-citekey-menu--header",children:[d.jsxs(Xb,{className:"zr-citekey-menu--actions",minimal:!0,role:"menubar",children:[c.includes("addMetadata")?d.jsx(Za,{icon:"add",onClick:x,role:"menuitem",children:"Add metadata"}):null,k,c.includes("viewItemInfo")?d.jsx(ZA,{item:ee}):null,A,S,U]}),L]}),X]})]})}),tI=eI;const js=window.React.memo,nI=window.React.useEffect,nc=window.React.useMemo,sf=window.Blueprint.Core.Button,Ja=window.Blueprint.Core.Classes,Qg="zr-related-panel-label",rI=js(function({abstract:e,allAbstractsShown:n}){const[o,{set:i,toggle:l}]=Pt(n);return nI(()=>{i(n)},[n,i]),e?d.jsxs("div",{className:"zr-related-item--abstract",children:[d.jsx(sf,{className:W.TEXT_SMALL,"zr-role":"abstract-toggle",icon:o?"chevron-down":"chevron-right",onClick:l,minimal:!0,small:!0,children:"Abstract"}),o?d.jsx("span",{"zr-role":"abstract-text",className:[W.TEXT_SMALL,W.TEXT_AUXILIARY].join(" "),children:e}):null]}):null}),oI=js(function({timestamp:e,type:n}){return n=="added_on"?d.jsx("span",{className:[Ja.MENU_ITEM_LABEL,W.TEXT_SMALL,"zr-related-item--timestamp"].join(" "),children:e}):null}),aI=js(function(e){const{allAbstractsShown:n,closeDialog:o,item:i,type:l}=e,{children:{pdfs:c,notes:u},raw:f}=i;return d.jsx("li",{className:"zr-related-item","data-in-graph":(i.inGraph!=!1).toString(),children:d.jsxs("div",{className:Ja.MENU_ITEM,children:[d.jsx(oI,{timestamp:i.timestamp,type:l}),d.jsxs("div",{className:[Ja.FILL,"zr-related-item-contents"].join(" "),children:[d.jsxs("div",{className:Ja.FILL,style:{display:"flex"},children:[d.jsxs("div",{className:"zr-related-item-contents--metadata",children:[d.jsx("span",{className:"zr-related-item--title","data-item-type":i.itemType,children:i.title}),d.jsx("span",{className:W.TEXT_ACCENT_1,children:i.meta})]}),d.jsx("span",{className:"zr-related-item-contents--actions",children:d.jsx(Is,{closeDialog:o,inGraph:i.inGraph,item:f,notes:u,pdfs:c})})]}),d.jsx(rI,{abstract:i.abstract,allAbstractsShown:n})]})]})})}),iI=js(function(e){const{allAbstractsShown:n,closeDialog:o,items:i,type:l}=e,c=nc(()=>{const u=l==lr.ADDED_ON?"added":"meta";return Fd(i,u)},[i,l]);return d.jsx("ul",{className:Ja.LIST_UNSTYLED,children:c.map(u=>d.jsx(aI,{allAbstractsShown:n,closeDialog:o,item:u,type:l},[u.location,u.key].join("-")))})}),sI=js(function(e){const{isOpen:n,items:o,onClose:i,show:l}=e,[c,{toggle:u}]=Pt(!1),f=nc(()=>{const{title:v,type:y}=l;switch(y){case lr.ADDED_ON:return{string:"item",suffix:" added on "+v};case lr.WITH_ABSTRACT:return{string:"abstract",suffix:" containing "+v};case lr.WITH_TAG:default:return{string:"item",suffix:" tagged with "+v}}},[l]),m=nc(()=>d.jsx("h5",{id:Qg,className:"panel-tt",children:fn(o.length,f.string,f.suffix)}),[o.length,f]),h=nc(()=>d.jsx("div",{className:["header-right",W.TEXT_AUXILIARY].join(" "),children:d.jsx(sf,{icon:"cross",minimal:!0,onClick:i,title:"Close dialog"})}),[i]);return d.jsx(la,{ariaLabelledBy:Qg,className:"related",isOpen:n,onClose:i,children:d.jsx("div",{className:Ja.DIALOG_BODY,children:d.jsxs(Mn,{children:[d.jsxs("div",{className:"header-content",children:[d.jsxs("div",{className:"header-left",children:[m,d.jsxs(sf,{className:W.TEXT_SMALL,minimal:!0,onClick:u,"zr-role":"toggle-abstracts",children:[c?"Hide":"Show"," abstracts"]})]}),h]}),d.jsx("div",{className:"rendered-div",children:d.jsx(iI,{allAbstractsShown:c,closeDialog:i,items:o,type:l.type})})]})})})}),Wb=sI,lI=window.React.useMemo,cI=window.Blueprint.Core.Button;function uI({added:t,title:e}){const[n,{on:o,off:i}]=Pt(!1),l=t.length>0,c=lI(()=>fn(t.length,"item"," added"),[t.length]);return d.jsx(d.Fragment,{children:l?d.jsxs(d.Fragment,{children:[d.jsx(cI,{minimal:!0,icon:"calendar",onClick:o,children:c}),d.jsx(Wb,{isOpen:n,items:t,onClose:i,show:{title:e,type:lr.ADDED_ON}})]}):null})}const Kg=window.React.useCallback,bd=window.React.useMemo,dI=window.React.useState,Gg=window.Blueprint.Core.Button;function fI(t){const{inAbstract:e=[],tag:n,tagged:o=[]}=t,[i,{on:l,off:c}]=Pt(!1),[u,f]=dI(),m=o.length>0,h=e.length>0,v=bd(()=>({title:n,type:o.length>0?lr.WITH_TAG:lr.WITH_ABSTRACT}),[n,o.length]),y=Kg(()=>{l(),f({title:n,type:lr.WITH_ABSTRACT})},[n,l]),b=Kg(()=>{l(),f({title:n,type:lr.WITH_TAG})},[n,l]),x=bd(()=>fn(e.length,"abstract"),[e.length]),S=bd(()=>fn(o.length,"tagged item"),[o.length]);return d.jsxs(d.Fragment,{children:[m&&d.jsx(Gg,{minimal:!0,icon:"manual",onClick:b,children:S}),h&&d.jsx(Gg,{minimal:!0,icon:"manually-entered-data",onClick:y,children:x}),(m||h)&&d.jsx(Wb,{isOpen:i,items:(u||v).type==lr.WITH_TAG?o:e,onClose:c,show:u||v})]})}const pI=new RegExp(/(.+) ([0-9]+).{2}, ([0-9]{4})/),hI=()=>{const t=Array.from(document.querySelectorAll("h1.rm-title-display")).filter(e=>!e.parentElement?.querySelector(`[class*=${Gf}]`));for(const e of t){const n=e.querySelector("span")?.innerText||e.innerText,o=Af(n),i=document.createElement("div");switch(i.setAttribute("data-title",n),o&&i.setAttribute("data-uid",o),!0){case n.startsWith("@"):i.classList.add(Ya.citekey),i.setAttribute("data-citekey",n.slice(1));break;case pI.test(n):i.classList.add(Ya.dnp),i.setAttribute("data-dnp-date",JSON.stringify(RC(n,{as_date:!1})));break;default:i.classList.add(Ya.tag)}e.insertAdjacentElement("afterend",i)}};function lf(t,{pdfs:e=[],notes:n=[]},o){const i=t.meta.creatorSummary||"",l=t.meta.parsedDate?`(${new Date(t.meta.parsedDate).getUTCFullYear()})`:"",c=t.data.key,u=t.library.type+"s/"+t.library.id,f=ua(c,u,{pdfs:e,notes:n});return{abstract:t.data.abstractNote||"",added:t.data.dateAdded,children:f,inGraph:o.get("@"+t.key)||!1,itemType:t.data.itemType,key:t.key,location:u,meta:[i,l].filter(Bt).join(" "),raw:t,timestamp:ps(t.data.dateAdded),title:t.data.title||""}}const mI=()=>({citekeyMenus:Array.from(document.querySelectorAll(`[class=${Ya.citekey}]`)),dnpMenus:Array.from(document.querySelectorAll(`[class=${Ya.dnp}]`)),tagMenus:Array.from(document.querySelectorAll(`[class=${Ya.tag}]`))});const Yf=window.ReactDOM.createPortal,Yr=window.React.useMemo;function gI({menus:t}){const[{trigger:e}]=Oc(),[{dataRequests:n}]=cr(),o=ro(n,{select:f=>f.data,notifyOnChangeProps:["data"]}),i=Yr(()=>o.map(f=>f.data||[]).flat(1),[o]),l=Yr(()=>ca(i),[i]),c=Yr(()=>l.items.filter(f=>f.has_citekey),[l]),u=Yr(()=>c?t.filter(f=>e.constructor===Boolean?e:!0).map(f=>{const m=c.find(h=>h.key==f.getAttribute("data-citekey"));return{div:f,item:m}}).map((f,m)=>{if(f.item){const{item:h,div:v}=f;return Yf(d.jsx(tI,{item:h,itemList:l},m),v)}}):null,[c,l,t,e]);return d.jsx(d.Fragment,{children:u})}function yI({menus:t}){const[{trigger:e}]=Oc(),[{dataRequests:n}]=cr(),[o]=Do(),l=ro(n,{notifyOnChangeProps:["data"],select:f=>f.data}).map(f=>f.data||[]).flat(1),c=Yr(()=>ca(l),[l]),u=Yr(()=>{const{items:f,pdfs:m,notes:h}=c;return f?t.filter(v=>typeof e=="boolean"?e:!0).map(v=>{const y=v.getAttribute("data-title"),b=JSON.parse(v.getAttribute("data-dnp-date")),x=new Date(...b).toDateString(),S=f.filter(k=>new Date(k.data.dateAdded).toDateString()==x).map(k=>lf(k,{pdfs:m,notes:h},o));return{div:v,added:S,title:y}}).filter(v=>v.added).map((v,y)=>{const{added:b,div:x,title:S}=v;return Yf(d.jsx(uI,{added:b,title:S},y),x)}):null},[c,t,o,e]);return d.jsx(d.Fragment,{children:u})}function vI({menus:t}){const[{trigger:e}]=Oc(),[{dataRequests:n}]=cr(),[o]=Do(),l=ro(n,{notifyOnChangeProps:["data"],select:m=>m.data}).map(m=>m.data||[]).flat(1),c=Yr(()=>ca(l),[l]),u=Yr(()=>c.items.filter(m=>m.data.abstractNote||m.data.tags.length>0).map(m=>({itemData:m,abstract:m.data.abstractNote||"",tagList:m.data.tags.map(h=>h.tag)})),[c.items]),f=Yr(()=>{const{items:m,pdfs:h,notes:v}=c;return m?t.filter(y=>typeof e=="boolean"?e:y.getAttribute("data-title").length>5).map(y=>{const b=y.getAttribute("data-title"),x=u.reduce((S,k)=>(k.abstract.includes(b)&&S.with_abstract.push(lf(k.itemData,{pdfs:h,notes:v},o)),k.tagList.includes(b)&&S.with_tags.push(lf(k.itemData,{pdfs:h,notes:v},o)),S),{with_tags:[],with_abstract:[]});return{div:y,tag:b,...x}}).filter(y=>y.with_tags.length>0||y.with_abstract.length>0).map((y,b)=>{const{with_tags:x,with_abstract:S,div:k,tag:A}=y;return Yf(d.jsx(fI,{tag:A,inAbstract:S,tagged:x},b),k)}):null},[c,t,o,e,u]);return d.jsx(d.Fragment,{children:f})}const Qb=window.React.memo,Kb=window.React.useCallback,bI=window.Blueprint.Core.Button,wI=window.Blueprint.Core.Checkbox,cf=window.Blueprint.Core.Classes,xI=window.Blueprint.Core.Tag;function CI(t,e={}){return db(t,{...e,select:n=>{const{item:o,query:i}=n;return{abstract:o.abstractNote||"",creators:o.creators?.map(l=>"name"in l?l.name:[l.firstName,l.lastName].filter(Bt).join(" ")).join(", "),itemType:o.itemType,publication:o.publicationTitle||o.bookTitle||o.websiteTitle||"",title:o.title,url:i}},notifyOnChangeProps:["data","isLoading"]})}const EI=Qb(function(e){const{isSelected:n,item:o,onSelect:i}=e,[l]=li(),c=Kb(()=>{i(o.url)},[o.url,i]);return d.jsx("li",{className:"zr-webimport-item","aria-label":o.url,onClick:c,children:d.jsxs("div",{className:cf.MENU_ITEM,children:[d.jsxs("div",{className:"zr-webimport-item--header",children:[d.jsx(wI,{checked:n,className:"zr-webimport-item--title",inline:!1,labelElement:d.jsxs(d.Fragment,{children:[d.jsx("a",{target:"_blank",rel:"noreferrer",href:o.url,children:o.title}),o.creators?d.jsxs("span",{className:W.TEXT_SECONDARY,"zr-role":"item-creators",children:[" (",o.creators,")"]}):null]}),onChange:c}),o.itemType?d.jsx(xI,{htmlTitle:o.publication,minimal:!0,"zr-role":"item-type",children:d.jsx("span",{"data-item-type":o.itemType,children:l[o.itemType]||o.itemType})}):null]}),d.jsx("div",{className:"zr-webimport-item--contents",children:d.jsx("span",{className:[W.TEXT_SMALL,W.TEXT_AUXILIARY].join(" "),"zr-role":"item-abstract",children:o.abstract})})]})})}),SI=Qb(function(e){const{isOpen:n,onClose:o,urls:i}=e,[l,{set:c,toggle:u}]=hs({start:[]}),f=l.length>0,m=CI(i,{enabled:n}),h=m.every(b=>b.isLoading),v=m.filter(b=>b.isSuccess).map(b=>b.data).filter(Bt),y=Kb(()=>{c([]),o()},[o,c]);return d.jsx(la,{ariaLabelledBy:"zr-webimport-dialog--title",className:"webimport",extraClasses:f?["has-selected-items"]:[],isOpen:n,onClose:y,children:d.jsx("div",{className:cf.DIALOG_BODY,children:d.jsxs(Mn,{children:[d.jsxs("div",{className:"zr-webimport-panel--main",children:[d.jsxs("div",{className:"header-content",children:[d.jsxs("div",{className:"header-left",children:[d.jsx("h5",{id:"zr-webimport-dialog--title",className:"panel-tt",children:h?"Parsing links...":fn(v.length,"link"," found")}),!h&&d.jsx(YR,{})]}),d.jsx("div",{className:["header-right",W.TEXT_AUXILIARY].join(" "),children:d.jsx(bI,{icon:"cross",large:!0,minimal:!0,onClick:y,title:"Close dialog"})})]}),d.jsx("div",{className:"rendered-div",children:d.jsx("ul",{className:cf.LIST_UNSTYLED,children:v.map(b=>d.jsx(EI,{item:b,isSelected:l.includes(b.url),onSelect:u},b.url))})})]}),d.jsx("div",{className:"zr-webimport-panel--side",tabIndex:0,children:d.jsx(zb,{identifiers:l,isActive:f,resetImport:()=>c([])})})]})})})}),TI=SI;const _I=window.React.memo,kI=window.React.useCallback,OI=window.React.useEffect,RI=window.React.useRef,AI=window.React.useState,II=window.ReactDOM.createPortal,jI=window.Blueprint.Core.Button,PI=_I(function({urls:e}){const[n,{on:o,off:i}]=Pt(!1);return d.jsxs(d.Fragment,{children:[d.jsx(jI,{className:"zr-webimport-button",icon:"geosearch",minimal:!0,onClick:o}),d.jsx(TI,{isOpen:n,onClose:i,urls:e})]})});function NI({divs:t}){const e=RI(!1),[n,o]=AI([]),i=kI(()=>{o(l=>{const c=Array.from(t).filter(u=>(u?.parentElement?.querySelectorAll(".rm-block a:not(.rm-alias--page):not(.rm-alias--block)")||[]).length>0);return $d(l,c)?c:l})},[t]);return OI(()=>{e.current=!0;const l=setInterval(()=>{e.current&&i()},1e3);return()=>{e.current=!1,clearInterval(l)}},[i]),d.jsx(d.Fragment,{children:Array.from(n).map(l=>({div:l,links:l.parentElement?.querySelectorAll(".rm-block a:not(.rm-alias--page):not(.rm-alias--block)")||[]})).filter(l=>l.links.length>0).map((l,c)=>{const{div:u,links:f}=l,m=Array.from(f).map(h=>h.href);return II(d.jsx(PI,{urls:m},c),u)})})}const Gb=()=>Array.from(document.querySelectorAll(`[class="${hc}"]`)),LI=t=>{Gb().filter(o=>!bm(t,JSON.parse(o.parentElement?.getAttribute("data-page-links")||"[]"))).forEach(o=>o.remove());const e=Array.from(document.querySelectorAll(".rm-block:not(.rm-block--ghost)")).filter(o=>!o.querySelector(`[class=${hc}]`)&&bm(t,JSON.parse(o.getAttribute("data-page-links")||"[]"))),n=document.createElement("span");n.classList.add(hc),e.forEach(o=>o.insertAdjacentElement("afterbegin",n.cloneNode(!0)))},DI=window.React.memo,MI=window.React.useCallback,BI=window.React.useEffect,zI=window.React.useRef,Yg=window.React.useState;DI(function(){const e=zI(!1),[{citekeyMenus:n,dnpMenus:o,tagMenus:i},l]=Yg({citekeyMenus:[],dnpMenus:[],tagMenus:[]}),[c,u]=Yg([]),[{trigger:f}]=vv(),[{tags:m}]=aS(),h=MI(()=>{l(v=>{const y={},b=mI();for(const x of Object.keys(b))$d(v[x],b[x])&&(y[x]=b[x]);return JSON.stringify(y)==="{}"?v:{...v,...y}}),u(v=>{const y=Gb();return $d(v,y)?y:v})},[]);return BI(()=>{e.current=!0;const v=setInterval(()=>{hI(),LI(m),e.current&&h()},1e3);return()=>{e.current=!1,clearInterval(v),Array.from(document.querySelectorAll(`[class*=${Gf}]`)).forEach(y=>y.remove()),Array.from(document.querySelectorAll(`[class=${hc}]`)).forEach(y=>y.remove())}},[h,m]),d.jsxs(d.Fragment,{children:[n?d.jsx(gI,{menus:n}):null,o?d.jsx(yI,{menus:o}):null,i?d.jsx(vI,{menus:i}):null,f?d.jsx(tR,{}):null,d.jsx(NI,{divs:c}),d.jsx(uR,{})]})});const $I=window.React.memo,FI=window.React.useMemo,UI=window.Blueprint.Core.Button,Hl=window.Blueprint.Core.Classes,qI=window.Blueprint.Core.Collapse,Zg=window.Blueprint.Core.Tag,HI=$I(function({log:e}){const[n,{toggle:o}]=Pt(!1),i=FI(()=>JSON.stringify(e.context||{})!="{}",[e.context]);return d.jsxs(No,{className:"zr-logger--entry","data-log-level":e.level,children:[d.jsxs("div",{className:"zr-log--header",children:[d.jsxs("div",{className:["zr-log--metadata",Hl.MONOSPACE_TEXT].join(" "),children:[d.jsx("span",{className:"zr-log--timestamp",children:ps(e.timestamp)}),d.jsx(Zg,{className:"zr-log--level",intent:e.intent,minimal:!0,children:e.level}),d.jsx(Zg,{minimal:!0,children:e.origin})]}),d.jsxs("div",{className:["zr-log--summary",W.TEXT_SMALL].join(" "),children:[d.jsxs("div",{children:[d.jsx("span",{className:Hl.MONOSPACE_TEXT,children:e.message}),e.detail&&d.jsx("span",{className:[Hl.MONOSPACE_TEXT,W.TEXT_SECONDARY,W.TEXT_SMALL].join(" "),children:e.detail})]}),i&&d.jsx(UI,{className:W.TEXT_SECONDARY,rightIcon:n?"chevron-up":"chevron-down",minimal:!0,onClick:o,small:!0,text:n?"Hide":"View",title:"Show details"})]})]}),d.jsx("div",{className:"zr-log--details",children:i&&d.jsx(qI,{isOpen:n,children:d.jsx("pre",{className:[Hl.CODE_BLOCK,W.TEXT_AUXILIARY].join(" "),children:JSON.stringify(e.context,null,"  ")})})})]})}),VI=HI;const XI=window.React.memo,Yb=window.React.useEffect,WI=window.React.useMemo,QI=window.React.useState,KI=window.Blueprint.Core.Classes,GI=window.Blueprint.Core.NonIdealState,YI=window.Blueprint.Core.Spinner,ZI=window.Blueprint.Core.Switch,Jg=20;function JI({items:t}){const[e,{toggle:n}]=Pt(!1),{currentPage:o,pageLimits:i,setCurrentPage:l}=_s({itemsPerPage:Jg}),c=WI(()=>e?t:t.filter(u=>u.level=="error"),[t,e]);return Yb(()=>{l(1)},[t,c,l]),d.jsxs("div",{className:"zr-logger--datalist",children:[c.length==0?d.jsx(GI,{className:W.TEXT_AUXILIARY,description:"No items to display"}):d.jsx(Lo,{children:c.sort((u,f)=>u.timestamp>f.timestamp?-1:1).slice(...i).map((u,f)=>d.jsx(VI,{log:u},f))}),d.jsxs(eo,{children:[d.jsx(Os,{arrows:"first",currentPage:o,itemsPerPage:Jg,nbItems:c.length,setCurrentPage:l}),d.jsx(ZI,{"aria-checked":e,checked:e,label:"Show all entries",role:"switch",onChange:n})]})]})}XI(function({isOpen:e,onClose:n}){const[o,i]=QI(null);return Yb(()=>{try{const l=window.zoteroRoam.logs;i(l)}catch(l){console.error(l),i([])}},[]),d.jsx(la,{className:"logger",isOpen:e,label:"zoteroRoam Logs",onClose:n,children:d.jsx("div",{className:KI.DIALOG_BODY,children:o==null?d.jsx(YI,{size:15}):d.jsx(JI,{items:o})})})});const ey=window.React.useMemo,ej=window.ReactDOM.createPortal,tj=window.Blueprint.Core.Classes,nj=window.Blueprint.Core.Dialog,rj=t=>{const{ariaLabelledBy:e,children:n,className:o,isOpen:i,lazy:l=!0,onClose:c,onOpening:u,...f}=t,{portalId:m}=Lc(),h=ey(()=>W.PREFIX_DIALOG_OVERLAY+o,[o]),v=ey(()=>({flex:"1 1 100%"}),[]);return ej(d.jsx(nj,{"aria-labelledby":e,canEscapeKeyClose:!0,canOutsideClickClose:!0,className:h,enforceFocus:!1,isOpen:i,lazy:l,onClose:c,onOpening:u,usePortal:!1,...f,children:d.jsx("div",{className:tj.DIALOG_BODY,children:d.jsx("div",{className:"main-panel",style:v,children:n})})}),document.getElementById(m))},Zb=window.Blueprint.Core.Classes,oj="search-library",Jb="zr-library-search-dialogtitle",aj=[Zb.TEXT_OVERFLOW_ELLIPSIS,"zr-library-item--contents"].join(" "),ij=[Zb.MENU_ITEM_LABEL,"zr-library-item--key"].join(" "),sj=window.React.memo,Vl=window.React.useMemo,lj=window.Blueprint.Core.Button,wd=window.Blueprint.Core.Classes,cj=window.Blueprint.Core.Icon,uj=window.Blueprint.Core.InputGroup,dj=window.Blueprint.Core.Switch,fj=window.Blueprint.Core.useHotkeys,pj=sj(function(e){const{handleClose:n,handleKeyDown:o,handleKeyUp:i,handleQueryChange:l,quickCopyProps:{isActive:c,toggle:u},searchbar:f}=e,[m]=Ac(),h=Vl(()=>Rc(m),[m]),v=Vl(()=>d.jsx(cj,{id:Jb,title:"Search in Zotero items",htmlTitle:"Search in Zotero items",intent:"primary",icon:"learning"}),[]),y=Vl(()=>d.jsxs(d.Fragment,{children:[d.jsx(dj,{className:["zr-quick-copy",W.TEXT_AUXILIARY].join(" "),label:"Quick Copy",checked:c,onChange:u,role:"switch","aria-checked":c}),d.jsx(lj,{className:wd.MINIMAL,large:!0,icon:"cross",onClick:n,title:"Close searchbar"})]}),[n,c,u]),b=Vl(()=>{const x={allowInInput:!0,global:!0,preventDefault:!0,stopPropagation:!0},S={focusSearchBar:{label:"Focus the searchbar",onKeyDown:()=>f?.current?.focus()},toggleQuickCopy:{label:"Toggle QuickCopy",onKeyDown:()=>u()}};return Object.keys(S).map(k=>{const A=h[k]||"";return A!==""?{...x,...S[k],combo:A}:!1}).filter(Bt)},[f,h,u]);return fj(b,{showDialogKeyCombo:"shift+Z+R"}),d.jsx(uj,{className:[wd.INPUT,wd.FILL,"zr-library-search-input-group"].join(" "),id:"zotero-roam-search-autocomplete",placeholder:"Search in abstract, title, authors (last names), year, tags, or citekey",spellCheck:"false",autoComplete:"off",type:"text",large:!0,onChange:l,onKeyDown:o,onKeyUp:i,inputRef:f,leftElement:v,rightElement:y})}),hj=pj,Zf=window.React.memo,xd=window.React.useCallback,mj=window.React.useEffect,gj=window.React.useMemo,yj=window.React.useRef,ty=window.React.useState,vj=window.Blueprint.Core.Menu,bj=window.Blueprint.Core.MenuItem,wj=window.Blueprint.Select.QueryList,xj=window.Blueprint.Select.renderFilteredItems,Cj=300,Ej=0,Cd=50,Sj={itemListPredicate:(t,e)=>t.length<Ej?[]:e.filter(n=>Ln(t,[n.key,n._multiField],{any_case:!0,match:"partial",search_compounds:!0,word_order:"loose"})),itemListRenderer:t=>{const{filteredItems:e,itemsParentRef:n,...o}=t,i=null,l=null,c=e.length,u=xj({filteredItems:e.slice(0,Cd),itemsParentRef:n,...o},i,l);return u==null?null:d.jsxs(d.Fragment,{children:[d.jsx(vj,{ulRef:n,children:u}),c>Cd&&d.jsxs("div",{className:"zr-querylist--more-results",children:["Showing ",Cd," out of ",fn(c,"result")]})]})},itemRenderer:(t,e)=>{const{handleClick:n,modifiers:o}=e,i=[t.location,t.key].join("-");return d.jsx(Tj,{handleClick:n,item:t,modifiers:o},i)},itemsEqual:(t,e)=>t.itemKey==e.itemKey&&t.location==e.location},Tj=Zf(function(e){const{item:n,handleClick:o,modifiers:i}=e,{inGraph:l,itemType:c,key:u,meta:f,publication:m,title:h}=n;return d.jsx(bj,{onClick:o,className:"zotero-roam-search_result",role:"menuitem","data-item-type":c,"data-in-graph":(l!=!1).toString(),htmlTitle:h,labelElement:"@"+u,labelClassName:ij,"aria-selected":i.active,tagName:"div",text:d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"zr-library-item--title",children:h}),d.jsxs("span",{className:"zr-details",children:[d.jsx("span",{className:W.TEXT_ACCENT_1,children:f}),d.jsx("span",{className:W.TEXT_SECONDARY,children:m})]})]}),textClassName:aj})}),_j=Zf(function(e){const{handleClose:n,itemList:o,selectedItem:i}=e;return i?d.jsx(Pb,{item:i,closeDialog:n}):d.jsx("div",{id:"zotero-roam-library-rendered",children:o})}),kj=Zf(function(e){const{handleClose:n,isOpen:o,items:i,quickCopyProps:l}=e,[c]=Rf(),u=yj(null),[f,m]=ty(null),[h,v]=ty(),[y]=ZC(A=>{},Cj),b=xd((A,L)=>{if(!A)m(null);else{const{key:U,location:X}=A;if(JSON.stringify(f)===JSON.stringify({key:U,location:X}))return;l.isActive?(Ro(tf(A,c)),c.overrideKey&&L?.[c.overrideKey]==!0?(u?.current?.blur(),m({key:U,location:X})):n()):(c.always==!0&&Ro(tf(A,c)),u?.current?.blur(),m({key:U,location:X}))}},[c,n,l.isActive,u,f]),x=gj(()=>{if(f==null)return null;{const{key:A,location:L}=f;return i.find(U=>U.key==A&&U.location==L)}},[i,f]),S=xd((A,L)=>{m(null),v(A),y(A)},[y]),k=xd(A=>{const{handleKeyUp:L,handleKeyDown:U,handleQueryChange:X,itemList:ee}=A;return d.jsxs("div",{className:"zr-querylist",children:[d.jsx(hj,{handleClose:n,handleKeyDown:U,handleKeyUp:L,handleQueryChange:X,quickCopyProps:l,searchbar:u}),d.jsx(_j,{handleClose:n,itemList:ee,selectedItem:x})]})},[n,l,u,x]);return mj(()=>{o?u?.current?.focus():(v(""),m(null))},[o,u]),d.jsx(wj,{items:i,onItemSelect:b,onQueryChange:S,query:h,renderer:k,...Sj})}),Oj=kj;const Rj=window.React.memo,Aj=window.React.useCallback,Ij=window.React.useMemo;function jj(t,e,n={}){const o=Aj(c=>c.data?yC(c.data,e):[],[e]),i=ro(t,{...n,notifyOnChangeProps:["data"],select:o});return Ij(()=>i.map(c=>c.data||[]).flat(1),[i])}Rj(function({isOpen:e,onClose:n,status:o}){const[{useQuickCopy:i}]=Rf(),[{dataRequests:l}]=cr(),[c]=Do(),[u,{toggle:f}]=Pt(i),m=jj(l,c,{enabled:o==Oo.ON});return d.jsx(rj,{ariaLabelledBy:Jb,className:oj,isOpen:e,lazy:!1,onClose:n,children:d.jsx(Mn,{children:d.jsx(Oj,{handleClose:n,isOpen:e,items:m,quickCopyProps:{isActive:u,toggle:f}})})})});window.React.Component;const Pj=window.React.createContext,Nj=window.React.useContext;window.React.useMemo;window.Blueprint.Core.HotkeysTarget2;const Lj=Pj(null),Lc=()=>{const t=Nj(Lj);if(!t)throw new Error("No context provided");return t};new u0({defaultOptions:{queries:{cacheTime:1/0,refetchOnWindowFocus:!1,refetchOnMount:!1,refetchIntervalInBackground:!0,retryOnMount:!1,staleTime:1e3*60}}});window.React.useCallback;window.React.useEffect;window.React.useMemo;window.React.useState;window.Blueprint.Core.Button;window.Blueprint.Core.Intent;window.ReactDOM.render;window.Blueprint.Core.HotkeysProvider;
//# sourceMappingURL=extension.js.map
